const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-DuYNavUz.js","assets/vendor-C3n1ReTT.js","assets/ui-DjmETXT1.js","assets/supabase-xng3xIeN.js","assets/charts-CVdhJMV6.js","assets/Reports-Deez5Tfg.js","assets/Subscriptions-D5vSc3dK.js","assets/PlatformSettings-De-BO02d.js","assets/DomainManagement-DMuP737D.js","assets/Users-Bm9YnWRJ.js","assets/CustomDomain-Yw9JXErp.js","assets/Dashboard-BWIGyis1.js","assets/APIKeysManagement-BdO94kJr.js","assets/Analytics-DwYU7NfC.js","assets/PaymentGateways-i19mBFvS.js","assets/UserPasswordReset-cY7pB19A.js"])))=>i.map(i=>d[i]);
var t4=Object.defineProperty;var c1=e=>{throw TypeError(e)};var r4=(e,t,r)=>t in e?t4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _r=(e,t,r)=>r4(e,typeof t!="symbol"?t+"":t,r),pm=(e,t,r)=>t.has(e)||c1("Cannot "+r);var ie=(e,t,r)=>(pm(e,t,"read from private field"),r?r.call(e):t.get(e)),Nt=(e,t,r)=>t.has(e)?c1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Xe=(e,t,r,n)=>(pm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Kt=(e,t,r)=>(pm(e,t,"access private method"),r);var sh=(e,t,r,n)=>({set _(a){Xe(e,t,a,r)},get _(){return ie(e,t,n)}});import{c as n4,a as Zs,u as cn,j as s,B as s4,P as cr,V as h2,b as Sc,d as va,e as Ys,f as Xt,R as a4,g as f2,h as Od,i as i4,k as df,A as c0,D as m2,C as p2,l as o4,m as x2,n as g2,S as l4,o as d0,p as c4,q as d4,r as u4,s as h4,F as f4,t as m4,v as v2,w as p4,x as y2,y as b2,z as x4,E as w2,I as _2,G as j2,H as N2,J as S2,L as k2,K as C2,M as g4,T as v4,O as u0,N as h0,Q as f0,U as m0,W as p0,X as A2,Y as P2,Z as L2,_ as x0,$ as g0,a0 as uf,a1 as D2,a2 as E2,a3 as T2,a4 as y4,a5 as F2,a6 as b4,a7 as I2,a8 as R2,a9 as w4,aa as M2,ab as _4,ac as O2,ad as q2,ae as j4,af as N4,ag as B2,ah as S4,ai as k4}from"./ui-DjmETXT1.js";import{a as z2,r as S,R as Ve,b as C4,N as Fh,u as Zt,f as U2,L as Pd,h as Ms,d as A4,e as P4,B as L4,i as D4,j as pt}from"./vendor-C3n1ReTT.js";import{c as $2}from"./charts-CVdhJMV6.js";import{c as E4}from"./supabase-xng3xIeN.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var W2,d1=z2;W2=d1.createRoot,d1.hydrateRoot;const T4="modulepreload",F4=function(e){return"/"+e},u1={},us=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=F4(c),c in u1)return;u1[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":T4,d||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((x,f)=>{p.addEventListener("load",x),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},I4=1,R4=1e6;let xm=0;function M4(){return xm=(xm+1)%Number.MAX_SAFE_INTEGER,xm.toString()}const gm=new Map,h1=e=>{if(gm.has(e))return;const t=setTimeout(()=>{gm.delete(e),Ld({type:"REMOVE_TOAST",toastId:e})},R4);gm.set(e,t)},O4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,I4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?h1(r):e.toasts.forEach(n=>{h1(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},yh=[];let bh={toasts:[]};function Ld(e){bh=O4(bh,e),yh.forEach(t=>{t(bh)})}function Qt({...e}){const t=M4(),r=a=>Ld({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ld({type:"DISMISS_TOAST",toastId:t});return Ld({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function kn(){const[e,t]=S.useState(bh);return S.useEffect(()=>(yh.push(t),()=>{const r=yh.indexOf(t);r>-1&&yh.splice(r,1)}),[e]),{...e,toast:Qt,dismiss:r=>Ld({type:"DISMISS_TOAST",toastId:r})}}var v0="ToastProvider",[y0,q4,B4]=n4("Toast"),[V2,RF]=Zs("Toast",[B4]),[z4,hf]=V2(v0),H2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:l}=e,[o,c]=S.useState(null),[d,u]=S.useState(0),p=S.useRef(!1),x=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${v0}\`. Expected non-empty \`string\`.`),s.jsx(y0.Provider,{scope:t,children:s.jsx(z4,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:S.useCallback(()=>u(f=>f+1),[]),onToastRemove:S.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:l})})};H2.displayName=v0;var Y2="ToastViewport",U4=["F8"],up="toast.viewportPause",hp="toast.viewportResume",G2=S.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=U4,label:a="Notifications ({hotkey})",...i}=e,l=hf(Y2,r),o=q4(r),c=S.useRef(null),d=S.useRef(null),u=S.useRef(null),p=S.useRef(null),x=cn(t,p,l.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=l.toastCount>0;S.useEffect(()=>{const w=j=>{var F;n.length!==0&&n.every(D=>j[D]||j.code===D)&&((F=p.current)==null||F.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),S.useEffect(()=>{const w=c.current,j=p.current;if(g&&w&&j){const P=()=>{if(!l.isClosePausedRef.current){const Y=new CustomEvent(up);j.dispatchEvent(Y),l.isClosePausedRef.current=!0}},F=()=>{if(l.isClosePausedRef.current){const Y=new CustomEvent(hp);j.dispatchEvent(Y),l.isClosePausedRef.current=!1}},D=Y=>{!w.contains(Y.relatedTarget)&&F()},z=()=>{w.contains(document.activeElement)||F()};return w.addEventListener("focusin",P),w.addEventListener("focusout",D),w.addEventListener("pointermove",P),w.addEventListener("pointerleave",z),window.addEventListener("blur",P),window.addEventListener("focus",F),()=>{w.removeEventListener("focusin",P),w.removeEventListener("focusout",D),w.removeEventListener("pointermove",P),w.removeEventListener("pointerleave",z),window.removeEventListener("blur",P),window.removeEventListener("focus",F)}}},[g,l.isClosePausedRef]);const b=S.useCallback(({tabbingDirection:w})=>{const P=o().map(F=>{const D=F.ref.current,z=[D,...tN(D)];return w==="forwards"?z:z.reverse()});return(w==="forwards"?P.reverse():P).flat()},[o]);return S.useEffect(()=>{const w=p.current;if(w){const j=P=>{var z,Y,ee;const F=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!F){const k=document.activeElement,_=P.shiftKey;if(P.target===w&&_){(z=d.current)==null||z.focus();return}const A=b({tabbingDirection:_?"backwards":"forwards"}),W=A.findIndex(U=>U===k);vm(A.slice(W+1))?P.preventDefault():_?(Y=d.current)==null||Y.focus():(ee=u.current)==null||ee.focus()}};return w.addEventListener("keydown",j),()=>w.removeEventListener("keydown",j)}},[o,b]),s.jsxs(s4,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(fp,{ref:d,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"forwards"});vm(w)}}),s.jsx(y0.Slot,{scope:r,children:s.jsx(cr.ol,{tabIndex:-1,...i,ref:x})}),g&&s.jsx(fp,{ref:u,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"backwards"});vm(w)}})]})});G2.displayName=Y2;var K2="ToastFocusProxy",fp=S.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=hf(K2,r);return s.jsx(h2,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:l=>{var d;const o=l.relatedTarget;!((d=i.viewport)!=null&&d.contains(o))&&n()}})});fp.displayName=K2;var su="Toast",$4="toast.swipeStart",W4="toast.swipeMove",V4="toast.swipeCancel",H4="toast.swipeEnd",Z2=S.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...l}=e,[o,c]=Sc({prop:n,defaultProp:a??!0,onChange:i,caller:su});return s.jsx(va,{present:r||o,children:s.jsx(K4,{open:o,...l,ref:t,onClose:()=>c(!1),onPause:Ys(e.onPause),onResume:Ys(e.onResume),onSwipeStart:Xt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Xt(e.onSwipeMove,d=>{const{x:u,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Xt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Xt(e.onSwipeEnd,d=>{const{x:u,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});Z2.displayName=su;var[Y4,G4]=V2(su,{onClose(){}}),K4=S.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:f,...g}=e,b=hf(su,r),[w,j]=S.useState(null),P=cn(t,U=>j(U)),F=S.useRef(null),D=S.useRef(null),z=a||b.duration,Y=S.useRef(0),ee=S.useRef(z),k=S.useRef(0),{onToastAdd:_,onToastRemove:M}=b,C=Ys(()=>{var oe;(w==null?void 0:w.contains(document.activeElement))&&((oe=b.viewport)==null||oe.focus()),l()}),A=S.useCallback(U=>{!U||U===1/0||(window.clearTimeout(k.current),Y.current=new Date().getTime(),k.current=window.setTimeout(C,U))},[C]);S.useEffect(()=>{const U=b.viewport;if(U){const oe=()=>{A(ee.current),d==null||d()},ue=()=>{const te=new Date().getTime()-Y.current;ee.current=ee.current-te,window.clearTimeout(k.current),c==null||c()};return U.addEventListener(up,ue),U.addEventListener(hp,oe),()=>{U.removeEventListener(up,ue),U.removeEventListener(hp,oe)}}},[b.viewport,z,c,d,A]),S.useEffect(()=>{i&&!b.isClosePausedRef.current&&A(z)},[i,z,b.isClosePausedRef,A]),S.useEffect(()=>(_(),()=>M()),[_,M]);const W=S.useMemo(()=>w?ny(w):null,[w]);return b.viewport?s.jsxs(s.Fragment,{children:[W&&s.jsx(Z4,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),s.jsx(Y4,{scope:r,onClose:C,children:z2.createPortal(s.jsx(y0.ItemSlot,{scope:r,children:s.jsx(a4,{asChild:!0,onEscapeKeyDown:Xt(o,()=>{b.isFocusedToastEscapeKeyDownRef.current||C(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(cr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...g,ref:P,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Xt(e.onKeyDown,U=>{U.key==="Escape"&&(o==null||o(U.nativeEvent),U.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:Xt(e.onPointerDown,U=>{U.button===0&&(F.current={x:U.clientX,y:U.clientY})}),onPointerMove:Xt(e.onPointerMove,U=>{if(!F.current)return;const oe=U.clientX-F.current.x,ue=U.clientY-F.current.y,te=!!D.current,X=["left","right"].includes(b.swipeDirection),ne=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ke=X?ne(0,oe):0,me=X?0:ne(0,ue),L=U.pointerType==="touch"?10:2,q={x:ke,y:me},I={originalEvent:U,delta:q};te?(D.current=q,ah(W4,p,I,{discrete:!1})):f1(q,b.swipeDirection,L)?(D.current=q,ah($4,u,I,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(oe)>L||Math.abs(ue)>L)&&(F.current=null)}),onPointerUp:Xt(e.onPointerUp,U=>{const oe=D.current,ue=U.target;if(ue.hasPointerCapture(U.pointerId)&&ue.releasePointerCapture(U.pointerId),D.current=null,F.current=null,oe){const te=U.currentTarget,X={originalEvent:U,delta:oe};f1(oe,b.swipeDirection,b.swipeThreshold)?ah(H4,f,X,{discrete:!0}):ah(V4,x,X,{discrete:!0}),te.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Z4=e=>{const{__scopeToast:t,children:r,...n}=e,a=hf(su,t),[i,l]=S.useState(!1),[o,c]=S.useState(!1);return J4(()=>l(!0)),S.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:s.jsx(f2,{asChild:!0,children:s.jsx(h2,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Q4="ToastTitle",Q2=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(cr.div,{...n,ref:t})});Q2.displayName=Q4;var X4="ToastDescription",X2=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(cr.div,{...n,ref:t})});X2.displayName=X4;var J2="ToastAction",ey=S.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(ry,{altText:r,asChild:!0,children:s.jsx(b0,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${J2}\`. Expected non-empty \`string\`.`),null)});ey.displayName=J2;var ty="ToastClose",b0=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=G4(ty,r);return s.jsx(ry,{asChild:!0,children:s.jsx(cr.button,{type:"button",...n,ref:t,onClick:Xt(e.onClick,a.onClose)})})});b0.displayName=ty;var ry=S.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(cr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function ny(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),eN(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const l=n.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...ny(n))}}),t}function ah(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?i4(a,i):a.dispatchEvent(i)}var f1=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function J4(e=()=>{}){const t=Ys(e);Od(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function eN(e){return e.nodeType===e.ELEMENT_NODE}function tN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var rN=H2,sy=G2,ay=Z2,iy=Q2,oy=X2,ly=ey,cy=b0;const m1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,p1=$2,au=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return p1(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,l=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],p=i==null?void 0:i[d];if(u===null)return null;const x=m1(u)||m1(p);return a[d][x]}),o=r&&Object.entries(r).reduce((d,u)=>{let[p,x]=u;return x===void 0||(d[p]=x),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:p,className:x,...f}=u;return Object.entries(f).every(g=>{let[b,w]=g;return Array.isArray(w)?w.includes({...i,...o}[b]):{...i,...o}[b]===w})?[...d,p,x]:d},[]);return p1(e,l,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dy=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>S.createElement("svg",{ref:c,...sN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:dy("lucide",a),...o},[...l.map(([d,u])=>S.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(e,t)=>{const r=S.forwardRef(({className:n,...a},i)=>S.createElement(aN,{ref:i,iconNode:t,className:dy(`lucide-${nN(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ot("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ot("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=ot("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ot("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ot("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ot("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ot("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ot("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=ot("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=ot("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=ot("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=ot("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ot("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ot("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ot("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ot("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ot("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ot("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ot("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ot("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ot("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ot("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=ot("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ot("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ot("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=ot("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=ot("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=ot("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ot("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),S0="-",EN=e=>{const t=FN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const o=l.split(S0);return o[0]===""&&o.length!==1&&o.shift(),yy(o,t)||TN(l)},getConflictingClassGroupIds:(l,o)=>{const c=r[l]||[];return o&&n[l]?[...c,...n[l]]:c}}},yy=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?yy(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(S0);return(l=t.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},v1=/^\[(.+)\]$/,TN=e=>{if(v1.test(e)){const t=v1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FN=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return RN(Object.entries(e.classGroups),r).forEach(([i,l])=>{mp(l,n,i,t)}),n},mp=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:y1(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(IN(a)){mp(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,l])=>{mp(l,y1(t,i),r,n)})})},y1=(e,t)=>{let r=e;return t.split(S0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IN=e=>e.isThemeGetter,RN=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[t+l,o])):i);return[r,a]}):e,MN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){r.has(i)?r.set(i,l):a(i,l)}}},by="!",ON=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,l=o=>{const c=[];let d=0,u=0,p;for(let w=0;w<o.length;w++){let j=o[w];if(d===0){if(j===a&&(n||o.slice(w,w+i)===t)){c.push(o.slice(u,w)),u=w+i;continue}if(j==="/"){p=w;continue}}j==="["?d++:j==="]"&&d--}const x=c.length===0?o:o.substring(u),f=x.startsWith(by),g=f?x.substring(1):x,b=p&&p>u?p-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:b}};return r?o=>r({className:o,parseClassName:l}):l},qN=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},BN=e=>({cache:MN(e.cacheSize),parseClassName:ON(e),...EN(e)}),zN=/\s+/,UN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],l=e.trim().split(zN);let o="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:f}=r(d);let g=!!f,b=n(g?x.substring(0,f):x);if(!b){if(!g){o=d+(o.length>0?" "+o:o);continue}if(b=n(x),!b){o=d+(o.length>0?" "+o:o);continue}g=!1}const w=qN(u).join(":"),j=p?w+by:w,P=j+b;if(i.includes(P))continue;i.push(P);const F=a(b,g);for(let D=0;D<F.length;++D){const z=F[D];i.push(j+z)}o=d+(o.length>0?" "+o:o)}return o};function $N(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=wy(t))&&(n&&(n+=" "),n+=r);return n}const wy=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=wy(e[n]))&&(r&&(r+=" "),r+=t);return r};function WN(e,...t){let r,n,a,i=l;function l(c){const d=t.reduce((u,p)=>p(u),e());return r=BN(d),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const d=n(c);if(d)return d;const u=UN(c,r);return a(c,u),u}return function(){return i($N.apply(null,arguments))}}const Fr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},_y=/^\[(?:([a-z-]+):)?(.+)\]$/i,VN=/^\d+\/\d+$/,HN=new Set(["px","full","screen"]),YN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ii=e=>zl(e)||HN.has(e)||VN.test(e),qi=e=>Ac(e,"length",a3),zl=e=>!!e&&!Number.isNaN(Number(e)),wm=e=>Ac(e,"number",zl),xd=e=>!!e&&Number.isInteger(Number(e)),XN=e=>e.endsWith("%")&&zl(e.slice(0,-1)),Yt=e=>_y.test(e),Bi=e=>YN.test(e),JN=new Set(["length","size","percentage"]),e3=e=>Ac(e,JN,jy),t3=e=>Ac(e,"position",jy),r3=new Set(["image","url"]),n3=e=>Ac(e,r3,o3),s3=e=>Ac(e,"",i3),gd=()=>!0,Ac=(e,t,r)=>{const n=_y.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},a3=e=>GN.test(e)&&!KN.test(e),jy=()=>!1,i3=e=>ZN.test(e),o3=e=>QN.test(e),l3=()=>{const e=Fr("colors"),t=Fr("spacing"),r=Fr("blur"),n=Fr("brightness"),a=Fr("borderColor"),i=Fr("borderRadius"),l=Fr("borderSpacing"),o=Fr("borderWidth"),c=Fr("contrast"),d=Fr("grayscale"),u=Fr("hueRotate"),p=Fr("invert"),x=Fr("gap"),f=Fr("gradientColorStops"),g=Fr("gradientColorStopPositions"),b=Fr("inset"),w=Fr("margin"),j=Fr("opacity"),P=Fr("padding"),F=Fr("saturate"),D=Fr("scale"),z=Fr("sepia"),Y=Fr("skew"),ee=Fr("space"),k=Fr("translate"),_=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Yt,t],A=()=>[Yt,t],W=()=>["",ii,qi],U=()=>["auto",zl,Yt],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",Yt],ke=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>[zl,Yt];return{cacheSize:500,separator:":",theme:{colors:[gd],spacing:[ii,qi],blur:["none","",Bi,Yt],brightness:me(),borderColor:[e],borderRadius:["none","","full",Bi,Yt],borderSpacing:A(),borderWidth:W(),contrast:me(),grayscale:ne(),hueRotate:me(),invert:ne(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[XN,qi],inset:C(),margin:C(),opacity:me(),padding:A(),saturate:me(),scale:me(),sepia:ne(),skew:me(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Yt]}],container:["container"],columns:[{columns:[Bi]}],"break-after":[{"break-after":ke()}],"break-before":[{"break-before":ke()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),Yt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xd,Yt]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Yt]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",xd,Yt]}],"grid-cols":[{"grid-cols":[gd]}],"col-start-end":[{col:["auto",{span:["full",xd,Yt]},Yt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[gd]}],"row-start-end":[{row:["auto",{span:[xd,Yt]},Yt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Yt]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[ee]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ee]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Yt,t]}],"min-w":[{"min-w":[Yt,t,"min","max","fit"]}],"max-w":[{"max-w":[Yt,t,"none","full","min","max","fit","prose",{screen:[Bi]},Bi]}],h:[{h:[Yt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Yt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Yt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Yt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bi,qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wm]}],"font-family":[{font:[gd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Yt]}],"line-clamp":[{"line-clamp":["none",zl,wm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ii,Yt]}],"list-image":[{"list-image":["none",Yt]}],"list-style-type":[{list:["none","disc","decimal",Yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ii,qi]}],"underline-offset":[{"underline-offset":["auto",ii,Yt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),t3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:ue()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[ii,Yt]}],"outline-w":[{outline:[ii,qi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ii,qi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bi,s3]}],"shadow-color":[{shadow:[gd]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bi,Yt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[p]}],saturate:[{saturate:[F]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Yt]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",Yt]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",Yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[xd,Yt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Yt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Yt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Yt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ii,qi,wm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},c3=WN(l3);function We(...e){return c3($2(e))}const d3=rN,Ny=S.forwardRef(({className:e,...t},r)=>s.jsx(sy,{ref:r,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ny.displayName=sy.displayName;const u3=au("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Sy=S.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(ay,{ref:n,className:We(u3({variant:t}),e),...r}));Sy.displayName=ay.displayName;const h3=S.forwardRef(({className:e,...t},r)=>s.jsx(ly,{ref:r,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));h3.displayName=ly.displayName;const ky=S.forwardRef(({className:e,...t},r)=>s.jsx(cy,{ref:r,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(iu,{className:"h-4 w-4"})}));ky.displayName=cy.displayName;const Cy=S.forwardRef(({className:e,...t},r)=>s.jsx(iy,{ref:r,className:We("text-sm font-semibold",e),...t}));Cy.displayName=iy.displayName;const Ay=S.forwardRef(({className:e,...t},r)=>s.jsx(oy,{ref:r,className:We("text-sm opacity-90",e),...t}));Ay.displayName=oy.displayName;function f3(){const{toasts:e}=kn();return s.jsxs(d3,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(Sy,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Cy,{children:r}),n&&s.jsx(Ay,{children:n})]}),a,s.jsx(ky,{})]},t)}),s.jsx(Ny,{})]})}var b1=["light","dark"],m3="(prefers-color-scheme: dark)",p3=S.createContext(void 0),x3={setTheme:e=>{},themes:[]},g3=()=>{var e;return(e=S.useContext(p3))!=null?e:x3};S.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:l,attrs:o,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=a?b1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",x=(g,b=!1,w=!0)=>{let j=l?l[g]:g,P=b?g+"|| ''":`'${j}'`,F="";return a&&w&&!b&&b1.includes(g)&&(F+=`d.style.colorScheme = '${g}';`),r==="class"?b||j?F+=`c.add(${P})`:F+="null":j&&(F+=`d[s](n,${P})`),F},f=e?`!function(){${u}${x(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${m3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${x("dark")}}else{${x("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${x(l?"x[e]":"e",!0)}}${d?"":"else{"+x(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${x(l?"x[e]":"e",!0)}}else{${x(i,!1,!1)};}${p}}catch(t){}}();`;return S.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var v3=e=>{switch(e){case"success":return w3;case"info":return j3;case"warning":return _3;case"error":return N3;default:return null}},y3=Array(12).fill(0),b3=({visible:e,className:t})=>Ve.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ve.createElement("div",{className:"sonner-spinner"},y3.map((r,n)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w3=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_3=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),j3=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),N3=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S3=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),k3=()=>{let[e,t]=Ve.useState(document.hidden);return Ve.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},pp=1,C3=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:pp++,l=this.toasts.find(c=>c.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:o,title:n}):c):this.addToast({title:n,...a,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),i=n!==void 0,l,o=a.then(async d=>{if(l=["resolve",d],Ve.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(P3(d)&&!d.ok){i=!1;let u=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description;this.create({id:n,type:"error",message:u,description:p})}else if(r.success!==void 0){i=!1;let u=typeof r.success=="function"?await r.success(d):r.success,p=typeof r.description=="function"?await r.description(d):r.description;this.create({id:n,type:"success",message:u,description:p})}}).catch(async d=>{if(l=["reject",d],r.error!==void 0){i=!1;let u=typeof r.error=="function"?await r.error(d):r.error,p=typeof r.description=="function"?await r.description(d):r.description;this.create({id:n,type:"error",message:u,description:p})}}).finally(()=>{var d;i&&(this.dismiss(n),n=void 0),(d=r.finally)==null||d.call(r)}),c=()=>new Promise((d,u)=>o.then(()=>l[0]==="reject"?u(l[1]):d(l[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||pp++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},vs=new C3,A3=(e,t)=>{let r=(t==null?void 0:t.id)||pp++;return vs.addToast({title:e,...t,id:r}),r},P3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",L3=A3,D3=()=>vs.toasts,E3=()=>vs.getActiveToasts(),_m=Object.assign(L3,{success:vs.success,info:vs.info,warning:vs.warning,error:vs.error,custom:vs.custom,message:vs.message,promise:vs.promise,dismiss:vs.dismiss,loading:vs.loading},{getHistory:D3,getToasts:E3});function T3(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}T3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ih(e){return e.label!==void 0}var F3=3,I3="32px",R3="16px",w1=4e3,M3=356,O3=14,q3=20,B3=200;function la(...e){return e.filter(Boolean).join(" ")}function z3(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var U3=e=>{var t,r,n,a,i,l,o,c,d,u,p;let{invert:x,toast:f,unstyled:g,interacting:b,setHeights:w,visibleToasts:j,heights:P,index:F,toasts:D,expanded:z,removeToast:Y,defaultRichColors:ee,closeButton:k,style:_,cancelButtonStyle:M,actionButtonStyle:C,className:A="",descriptionClassName:W="",duration:U,position:oe,gap:ue,loadingIcon:te,expandByDefault:X,classNames:ne,icons:ke,closeButtonAriaLabel:me="Close toast",pauseWhenPageIsHidden:L}=e,[q,I]=Ve.useState(null),[V,J]=Ve.useState(null),[re,ce]=Ve.useState(!1),[pe,we]=Ve.useState(!1),[Ne,Me]=Ve.useState(!1),[Be,ze]=Ve.useState(!1),[$,Re]=Ve.useState(!1),[yt,Ue]=Ve.useState(0),[Pe,Z]=Ve.useState(0),se=Ve.useRef(f.duration||U||w1),he=Ve.useRef(null),Se=Ve.useRef(null),De=F===0,Ce=F+1<=j,Ae=f.type,Ye=f.dismissible!==!1,Ze=f.className||"",Ke=f.descriptionClassName||"",bt=Ve.useMemo(()=>P.findIndex(kt=>kt.toastId===f.id)||0,[P,f.id]),Qe=Ve.useMemo(()=>{var kt;return(kt=f.closeButton)!=null?kt:k},[f.closeButton,k]),er=Ve.useMemo(()=>f.duration||U||w1,[f.duration,U]),Lt=Ve.useRef(0),jt=Ve.useRef(0),Ot=Ve.useRef(0),sr=Ve.useRef(null),[vt,pr]=oe.split("-"),St=Ve.useMemo(()=>P.reduce((kt,Rt,ar)=>ar>=bt?kt:kt+Rt.height,0),[P,bt]),Tt=k3(),Pr=f.invert||x,$t=Ae==="loading";jt.current=Ve.useMemo(()=>bt*ue+St,[bt,St]),Ve.useEffect(()=>{se.current=er},[er]),Ve.useEffect(()=>{ce(!0)},[]),Ve.useEffect(()=>{let kt=Se.current;if(kt){let Rt=kt.getBoundingClientRect().height;return Z(Rt),w(ar=>[{toastId:f.id,height:Rt,position:f.position},...ar]),()=>w(ar=>ar.filter(Ur=>Ur.toastId!==f.id))}},[w,f.id]),Ve.useLayoutEffect(()=>{if(!re)return;let kt=Se.current,Rt=kt.style.height;kt.style.height="auto";let ar=kt.getBoundingClientRect().height;kt.style.height=Rt,Z(ar),w(Ur=>Ur.find(at=>at.toastId===f.id)?Ur.map(at=>at.toastId===f.id?{...at,height:ar}:at):[{toastId:f.id,height:ar,position:f.position},...Ur])},[re,f.title,f.description,w,f.id]);let ft=Ve.useCallback(()=>{we(!0),Ue(jt.current),w(kt=>kt.filter(Rt=>Rt.toastId!==f.id)),setTimeout(()=>{Y(f)},B3)},[f,Y,w,jt]);Ve.useEffect(()=>{if(f.promise&&Ae==="loading"||f.duration===1/0||f.type==="loading")return;let kt;return z||b||L&&Tt?(()=>{if(Ot.current<Lt.current){let Rt=new Date().getTime()-Lt.current;se.current=se.current-Rt}Ot.current=new Date().getTime()})():se.current!==1/0&&(Lt.current=new Date().getTime(),kt=setTimeout(()=>{var Rt;(Rt=f.onAutoClose)==null||Rt.call(f,f),ft()},se.current)),()=>clearTimeout(kt)},[z,b,f,Ae,L,Tt,ft]),Ve.useEffect(()=>{f.delete&&ft()},[ft,f.delete]);function fr(){var kt,Rt,ar;return ke!=null&&ke.loading?Ve.createElement("div",{className:la(ne==null?void 0:ne.loader,(kt=f==null?void 0:f.classNames)==null?void 0:kt.loader,"sonner-loader"),"data-visible":Ae==="loading"},ke.loading):te?Ve.createElement("div",{className:la(ne==null?void 0:ne.loader,(Rt=f==null?void 0:f.classNames)==null?void 0:Rt.loader,"sonner-loader"),"data-visible":Ae==="loading"},te):Ve.createElement(b3,{className:la(ne==null?void 0:ne.loader,(ar=f==null?void 0:f.classNames)==null?void 0:ar.loader),visible:Ae==="loading"})}return Ve.createElement("li",{tabIndex:0,ref:Se,className:la(A,Ze,ne==null?void 0:ne.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,ne==null?void 0:ne.default,ne==null?void 0:ne[Ae],(r=f==null?void 0:f.classNames)==null?void 0:r[Ae]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:ee,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":re,"data-promise":!!f.promise,"data-swiped":$,"data-removed":pe,"data-visible":Ce,"data-y-position":vt,"data-x-position":pr,"data-index":F,"data-front":De,"data-swiping":Ne,"data-dismissible":Ye,"data-type":Ae,"data-invert":Pr,"data-swipe-out":Be,"data-swipe-direction":V,"data-expanded":!!(z||X&&re),style:{"--index":F,"--toasts-before":F,"--z-index":D.length-F,"--offset":`${pe?yt:jt.current}px`,"--initial-height":X?"auto":`${Pe}px`,..._,...f.style},onDragEnd:()=>{Me(!1),I(null),sr.current=null},onPointerDown:kt=>{$t||!Ye||(he.current=new Date,Ue(jt.current),kt.target.setPointerCapture(kt.pointerId),kt.target.tagName!=="BUTTON"&&(Me(!0),sr.current={x:kt.clientX,y:kt.clientY}))},onPointerUp:()=>{var kt,Rt,ar,Ur;if(Be||!Ye)return;sr.current=null;let at=Number(((kt=Se.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cn=Number(((Rt=Se.current)==null?void 0:Rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),En=new Date().getTime()-((ar=he.current)==null?void 0:ar.getTime()),Mr=q==="x"?at:Cn,Qr=Math.abs(Mr)/En;if(Math.abs(Mr)>=q3||Qr>.11){Ue(jt.current),(Ur=f.onDismiss)==null||Ur.call(f,f),J(q==="x"?at>0?"right":"left":Cn>0?"down":"up"),ft(),ze(!0),Re(!1);return}Me(!1),I(null)},onPointerMove:kt=>{var Rt,ar,Ur,at;if(!sr.current||!Ye||((Rt=window.getSelection())==null?void 0:Rt.toString().length)>0)return;let Cn=kt.clientY-sr.current.y,En=kt.clientX-sr.current.x,Mr=(ar=e.swipeDirections)!=null?ar:z3(oe);!q&&(Math.abs(En)>1||Math.abs(Cn)>1)&&I(Math.abs(En)>Math.abs(Cn)?"x":"y");let Qr={x:0,y:0};q==="y"?(Mr.includes("top")||Mr.includes("bottom"))&&(Mr.includes("top")&&Cn<0||Mr.includes("bottom")&&Cn>0)&&(Qr.y=Cn):q==="x"&&(Mr.includes("left")||Mr.includes("right"))&&(Mr.includes("left")&&En<0||Mr.includes("right")&&En>0)&&(Qr.x=En),(Math.abs(Qr.x)>0||Math.abs(Qr.y)>0)&&Re(!0),(Ur=Se.current)==null||Ur.style.setProperty("--swipe-amount-x",`${Qr.x}px`),(at=Se.current)==null||at.style.setProperty("--swipe-amount-y",`${Qr.y}px`)}},Qe&&!f.jsx?Ve.createElement("button",{"aria-label":me,"data-disabled":$t,"data-close-button":!0,onClick:$t||!Ye?()=>{}:()=>{var kt;ft(),(kt=f.onDismiss)==null||kt.call(f,f)},className:la(ne==null?void 0:ne.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},(i=ke==null?void 0:ke.close)!=null?i:S3):null,f.jsx||S.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Ve.createElement(Ve.Fragment,null,Ae||f.icon||f.promise?Ve.createElement("div",{"data-icon":"",className:la(ne==null?void 0:ne.icon,(l=f==null?void 0:f.classNames)==null?void 0:l.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||fr():null,f.type!=="loading"?f.icon||(ke==null?void 0:ke[Ae])||v3(Ae):null):null,Ve.createElement("div",{"data-content":"",className:la(ne==null?void 0:ne.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Ve.createElement("div",{"data-title":"",className:la(ne==null?void 0:ne.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?Ve.createElement("div",{"data-description":"",className:la(W,Ke,ne==null?void 0:ne.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),S.isValidElement(f.cancel)?f.cancel:f.cancel&&ih(f.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||M,onClick:kt=>{var Rt,ar;ih(f.cancel)&&Ye&&((ar=(Rt=f.cancel).onClick)==null||ar.call(Rt,kt),ft())},className:la(ne==null?void 0:ne.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,S.isValidElement(f.action)?f.action:f.action&&ih(f.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||C,onClick:kt=>{var Rt,ar;ih(f.action)&&((ar=(Rt=f.action).onClick)==null||ar.call(Rt,kt),!kt.defaultPrevented&&ft())},className:la(ne==null?void 0:ne.actionButton,(p=f==null?void 0:f.classNames)==null?void 0:p.actionButton)},f.action.label):null))};function _1(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $3(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,l=i?"--mobile-offset":"--offset",o=i?R3:I3;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${l}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${l}-${d}`]=o:r[`${l}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(o)}),r}var W3=S.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:l,className:o,offset:c,mobileOffset:d,theme:u="light",richColors:p,duration:x,style:f,visibleToasts:g=F3,toastOptions:b,dir:w=_1(),gap:j=O3,loadingIcon:P,icons:F,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:z}=e,[Y,ee]=Ve.useState([]),k=Ve.useMemo(()=>Array.from(new Set([n].concat(Y.filter(L=>L.position).map(L=>L.position)))),[Y,n]),[_,M]=Ve.useState([]),[C,A]=Ve.useState(!1),[W,U]=Ve.useState(!1),[oe,ue]=Ve.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=Ve.useRef(null),X=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=Ve.useRef(null),ke=Ve.useRef(!1),me=Ve.useCallback(L=>{ee(q=>{var I;return(I=q.find(V=>V.id===L.id))!=null&&I.delete||vs.dismiss(L.id),q.filter(({id:V})=>V!==L.id)})},[]);return Ve.useEffect(()=>vs.subscribe(L=>{if(L.dismiss){ee(q=>q.map(I=>I.id===L.id?{...I,delete:!0}:I));return}setTimeout(()=>{C4.flushSync(()=>{ee(q=>{let I=q.findIndex(V=>V.id===L.id);return I!==-1?[...q.slice(0,I),{...q[I],...L},...q.slice(I+1)]:[L,...q]})})})}),[]),Ve.useEffect(()=>{if(u!=="system"){ue(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:q})=>{ue(q?"dark":"light")})}catch{L.addListener(({matches:I})=>{try{ue(I?"dark":"light")}catch(V){console.error(V)}})}},[u]),Ve.useEffect(()=>{Y.length<=1&&A(!1)},[Y]),Ve.useEffect(()=>{let L=q=>{var I,V;a.every(J=>q[J]||q.code===J)&&(A(!0),(I=te.current)==null||I.focus()),q.code==="Escape"&&(document.activeElement===te.current||(V=te.current)!=null&&V.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[a]),Ve.useEffect(()=>{if(te.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,ke.current=!1)}},[te.current]),Ve.createElement("section",{ref:t,"aria-label":`${D} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((L,q)=>{var I;let[V,J]=L.split("-");return Y.length?Ve.createElement("ol",{key:L,dir:w==="auto"?_1():w,tabIndex:-1,ref:te,className:o,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":V,"data-lifted":C&&Y.length>1&&!i,"data-x-position":J,style:{"--front-toast-height":`${((I=_[0])==null?void 0:I.height)||0}px`,"--width":`${M3}px`,"--gap":`${j}px`,...f,...$3(c,d)},onBlur:re=>{ke.current&&!re.currentTarget.contains(re.relatedTarget)&&(ke.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ke.current||(ke.current=!0,ne.current=re.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{W||A(!1)},onDragEnd:()=>A(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},Y.filter(re=>!re.position&&q===0||re.position===L).map((re,ce)=>{var pe,we;return Ve.createElement(U3,{key:re.id,icons:F,index:ce,toast:re,defaultRichColors:p,duration:(pe=b==null?void 0:b.duration)!=null?pe:x,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:r,visibleToasts:g,closeButton:(we=b==null?void 0:b.closeButton)!=null?we:l,interacting:W,position:L,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:me,toasts:Y.filter(Ne=>Ne.position==re.position),heights:_.filter(Ne=>Ne.position==re.position),setHeights:M,expandByDefault:i,gap:j,loadingIcon:P,expanded:C,pauseWhenPageIsHidden:z,swipeDirections:e.swipeDirections})})):null}))});const V3=({...e})=>{const{theme:t="system"}=g3();return s.jsx(W3,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[xf,OF]=Zs("Tooltip",[df]),k0=df(),Py="TooltipProvider",H3=700,j1="tooltip.open",[Y3,Ly]=xf(Py),Dy=e=>{const{__scopeTooltip:t,delayDuration:r=H3,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,l=S.useRef(!0),o=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(Y3,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:S.useCallback(d=>{o.current=d},[]),disableHoverableContent:a,children:i})};Dy.displayName=Py;var Ey="Tooltip",[qF,gf]=xf(Ey),xp="TooltipTrigger",G3=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=gf(xp,r),i=Ly(xp,r),l=k0(r),o=S.useRef(null),c=cn(t,o,a.onTriggerChange),d=S.useRef(!1),u=S.useRef(!1),p=S.useCallback(()=>d.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(c0,{asChild:!0,...l,children:s.jsx(cr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Xt(e.onPointerMove,x=>{x.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Xt(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Xt(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Xt(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Xt(e.onBlur,a.onClose),onClick:Xt(e.onClick,a.onClose)})})});G3.displayName=xp;var K3="TooltipPortal",[BF,Z3]=xf(K3,{forceMount:void 0}),lc="TooltipContent",Ty=S.forwardRef((e,t)=>{const r=Z3(lc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,l=gf(lc,e.__scopeTooltip);return s.jsx(va,{present:n||l.open,children:l.disableHoverableContent?s.jsx(Fy,{side:a,...i,ref:t}):s.jsx(Q3,{side:a,...i,ref:t})})}),Q3=S.forwardRef((e,t)=>{const r=gf(lc,e.__scopeTooltip),n=Ly(lc,e.__scopeTooltip),a=S.useRef(null),i=cn(t,a),[l,o]=S.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:p}=n,x=S.useCallback(()=>{o(null),p(!1)},[p]),f=S.useCallback((g,b)=>{const w=g.currentTarget,j={x:g.clientX,y:g.clientY},P=r6(j,w.getBoundingClientRect()),F=n6(j,P),D=s6(b.getBoundingClientRect()),z=i6([...F,...D]);o(z),p(!0)},[p]);return S.useEffect(()=>()=>x(),[x]),S.useEffect(()=>{if(c&&u){const g=w=>f(w,u),b=w=>f(w,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",b)}}},[c,u,f,x]),S.useEffect(()=>{if(l){const g=b=>{const w=b.target,j={x:b.clientX,y:b.clientY},P=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),F=!a6(j,l);P?x():F&&(x(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,l,d,x]),s.jsx(Fy,{...e,ref:i})}),[X3,J3]=xf(Ey,{isInside:!1}),e6=g2("TooltipContent"),Fy=S.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:l,...o}=e,c=gf(lc,r),d=k0(r),{onClose:u}=c;return S.useEffect(()=>(document.addEventListener(j1,u),()=>document.removeEventListener(j1,u)),[u]),S.useEffect(()=>{if(c.trigger){const p=x=>{const f=x.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,u]),s.jsx(m2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:u,children:s.jsxs(p2,{"data-state":c.stateAttribute,...d,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(e6,{children:n}),s.jsx(X3,{scope:r,isInside:!0,children:s.jsx(o4,{id:c.contentId,role:"tooltip",children:a||n})})]})})});Ty.displayName=lc;var Iy="TooltipArrow",t6=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=k0(r);return J3(Iy,r).isInside?null:s.jsx(x2,{...a,...n,ref:t})});t6.displayName=Iy;function r6(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function n6(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function s6(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function a6(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const o=t[i],c=t[l],d=o.x,u=o.y,p=c.x,x=c.y;u>n!=x>n&&r<(p-d)*(n-u)/(x-u)+d&&(a=!a)}return a}function i6(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),o6(t)}function o6(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var l6=Dy,Ry=Ty;const c6=l6,d6=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Ry,{ref:n,sideOffset:t,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));d6.displayName=Ry.displayName;var Pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},al=typeof window>"u"||"Deno"in globalThis;function os(){}function u6(e,t){return typeof e=="function"?e(t):e}function gp(e){return typeof e=="number"&&e>=0&&e!==1/0}function My(e,t){return Math.max(e+(t||0)-Date.now(),0)}function uo(e,t){return typeof e=="function"?e(t):e}function Hs(e,t){return typeof e=="function"?e(t):e}function N1(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==C0(l,t.options))return!1}else if(!Bd(t.queryKey,l))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function S1(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(il(t.options.mutationKey)!==il(i))return!1}else if(!Bd(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function C0(e,t){return((t==null?void 0:t.queryKeyHashFn)||il)(e)}function il(e){return JSON.stringify(e,(t,r)=>vp(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Bd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Bd(e[r],t[r])):!1}function Oy(e,t){if(e===t)return e;const r=k1(e)&&k1(t);if(r||vp(e)&&vp(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),l=i.length,o=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<l;u++){const p=r?u:i[u];(!r&&c.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(o[p]=void 0,d++):(o[p]=Oy(e[p],t[p]),o[p]===e[p]&&e[p]!==void 0&&d++)}return a===l&&d===a?e:o}return t}function Mh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function k1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vp(e){if(!C1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!C1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function C1(e){return Object.prototype.toString.call(e)==="[object Object]"}function h6(e){return new Promise(t=>{setTimeout(t,e)})}function yp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Oy(e,t):t}function f6(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function m6(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var A0=Symbol();function qy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===A0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function By(e,t){return typeof e=="function"?e(...t):!!e}var Ko,Zi,Kl,r2,p6=(r2=class extends Pc{constructor(){super();Nt(this,Ko);Nt(this,Zi);Nt(this,Kl);Xe(this,Kl,t=>{if(!al&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ie(this,Zi)||this.setEventListener(ie(this,Kl))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,Zi))==null||t.call(this),Xe(this,Zi,void 0))}setEventListener(t){var r;Xe(this,Kl,t),(r=ie(this,Zi))==null||r.call(this),Xe(this,Zi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ie(this,Ko)!==t&&(Xe(this,Ko,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ie(this,Ko)=="boolean"?ie(this,Ko):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ko=new WeakMap,Zi=new WeakMap,Kl=new WeakMap,r2),P0=new p6,Zl,Qi,Ql,n2,x6=(n2=class extends Pc{constructor(){super();Nt(this,Zl,!0);Nt(this,Qi);Nt(this,Ql);Xe(this,Ql,t=>{if(!al&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,Qi)||this.setEventListener(ie(this,Ql))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,Qi))==null||t.call(this),Xe(this,Qi,void 0))}setEventListener(t){var r;Xe(this,Ql,t),(r=ie(this,Qi))==null||r.call(this),Xe(this,Qi,t(this.setOnline.bind(this)))}setOnline(t){ie(this,Zl)!==t&&(Xe(this,Zl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ie(this,Zl)}},Zl=new WeakMap,Qi=new WeakMap,Ql=new WeakMap,n2),Oh=new x6;function bp(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function g6(e){return Math.min(1e3*2**e,3e4)}function zy(e){return(e??"online")==="online"?Oh.isOnline():!0}var Uy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jm(e){return e instanceof Uy}function $y(e){let t=!1,r=0,n=!1,a;const i=bp(),l=b=>{var w;n||(x(new Uy(b)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},c=()=>{t=!1},d=()=>P0.isFocused()&&(e.networkMode==="always"||Oh.isOnline())&&e.canRun(),u=()=>zy(e.networkMode)&&e.canRun(),p=b=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,b),a==null||a(),i.resolve(b))},x=b=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,b),a==null||a(),i.reject(b))},f=()=>new Promise(b=>{var w;a=j=>{(n||d())&&b(j)},(w=e.onPause)==null||w.call(e)}).then(()=>{var b;a=void 0,n||(b=e.onContinue)==null||b.call(e)}),g=()=>{if(n)return;let b;const w=r===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(j){b=Promise.reject(j)}Promise.resolve(b).then(p).catch(j=>{var Y;if(n)return;const P=e.retry??(al?0:3),F=e.retryDelay??g6,D=typeof F=="function"?F(r,j):F,z=P===!0||typeof P=="number"&&r<P||typeof P=="function"&&P(r,j);if(t||!z){x(j);return}r++,(Y=e.onFail)==null||Y.call(e,r,j),h6(D).then(()=>d()?void 0:f()).then(()=>{t?x(j):g()})})};return{promise:i,cancel:l,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?g():f().then(g),i)}}var v6=e=>setTimeout(e,0);function y6(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=v6;const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var jn=y6(),Zo,s2,Wy=(s2=class{constructor(){Nt(this,Zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gp(this.gcTime)&&Xe(this,Zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(al?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Zo)&&(clearTimeout(ie(this,Zo)),Xe(this,Zo,void 0))}},Zo=new WeakMap,s2),Xl,Qo,Vs,Xo,Zn,eu,Jo,da,hi,a2,b6=(a2=class extends Wy{constructor(t){super();Nt(this,da);Nt(this,Xl);Nt(this,Qo);Nt(this,Vs);Nt(this,Xo);Nt(this,Zn);Nt(this,eu);Nt(this,Jo);Xe(this,Jo,!1),Xe(this,eu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,Xo,t.client),Xe(this,Vs,ie(this,Xo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,Xl,w6(this.options)),this.state=t.state??ie(this,Xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,Zn))==null?void 0:t.promise}setOptions(t){this.options={...ie(this,eu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Vs).remove(this)}setData(t,r){const n=yp(this.state.data,t,this.options);return Kt(this,da,hi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Kt(this,da,hi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ie(this,Zn))==null?void 0:n.promise;return(a=ie(this,Zn))==null||a.cancel(t),r?r.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Xl))}isActive(){return this.observers.some(t=>Hs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>uo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!My(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,Zn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ie(this,Zn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,Vs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ie(this,Zn)&&(ie(this,Jo)?ie(this,Zn).cancel({revert:!0}):ie(this,Zn).cancelRetry()),this.scheduleGc()),ie(this,Vs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kt(this,da,hi).call(this,{type:"invalidate"})}fetch(t,r){var d,u,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Zn))return ie(this,Zn).continueRetry(),ie(this,Zn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(f=>f.options.queryFn);x&&this.setOptions(x.options)}const n=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Xe(this,Jo,!0),n.signal)})},i=()=>{const x=qy(this.options,r),g=(()=>{const b={client:ie(this,Xo),queryKey:this.queryKey,meta:this.meta};return a(b),b})();return Xe(this,Jo,!1),this.options.persister?this.options.persister(x,g,this):x(g)},o=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,Xo),state:this.state,fetchFn:i};return a(x),x})();(d=this.options.behavior)==null||d.onFetch(o,this),Xe(this,Qo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Kt(this,da,hi).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta});const c=x=>{var f,g,b,w;jm(x)&&x.silent||Kt(this,da,hi).call(this,{type:"error",error:x}),jm(x)||((g=(f=ie(this,Vs).config).onError)==null||g.call(f,x,this),(w=(b=ie(this,Vs).config).onSettled)==null||w.call(b,this.state.data,x,this)),this.scheduleGc()};return Xe(this,Zn,$y({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:x=>{var f,g,b,w;if(x===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(j){c(j);return}(g=(f=ie(this,Vs).config).onSuccess)==null||g.call(f,x,this),(w=(b=ie(this,Vs).config).onSettled)==null||w.call(b,x,this.state.error,this),this.scheduleGc()},onError:c,onFail:(x,f)=>{Kt(this,da,hi).call(this,{type:"failed",failureCount:x,error:f})},onPause:()=>{Kt(this,da,hi).call(this,{type:"pause"})},onContinue:()=>{Kt(this,da,hi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ie(this,Zn).start()}},Xl=new WeakMap,Qo=new WeakMap,Vs=new WeakMap,Xo=new WeakMap,Zn=new WeakMap,eu=new WeakMap,Jo=new WeakMap,da=new WeakSet,hi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Vy(n.data,this.options),fetchMeta:t.meta??null};case"success":return Xe(this,Qo,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return jm(a)&&a.revert&&ie(this,Qo)?{...ie(this,Qo),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),jn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,Vs).notify({query:this,type:"updated",action:t})})},a2);function Vy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function w6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ea,i2,_6=(i2=class extends Pc{constructor(t={}){super();Nt(this,Ea);this.config=t,Xe(this,Ea,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??C0(a,r);let l=this.get(i);return l||(l=new b6({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){ie(this,Ea).has(t.queryHash)||(ie(this,Ea).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ie(this,Ea).get(t.queryHash);r&&(t.destroy(),r===t&&ie(this,Ea).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,Ea).get(t)}getAll(){return[...ie(this,Ea).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>N1(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>N1(t,n)):r}notify(t){jn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){jn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ea=new WeakMap,i2),Ta,as,el,Fa,Vi,o2,j6=(o2=class extends Wy{constructor(t){super();Nt(this,Fa);Nt(this,Ta);Nt(this,as);Nt(this,el);this.mutationId=t.mutationId,Xe(this,as,t.mutationCache),Xe(this,Ta,[]),this.state=t.state||Hy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,Ta).includes(t)||(ie(this,Ta).push(t),this.clearGcTimeout(),ie(this,as).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,Ta,ie(this,Ta).filter(r=>r!==t)),this.scheduleGc(),ie(this,as).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,Ta).length||(this.state.status==="pending"?this.scheduleGc():ie(this,as).remove(this))}continue(){var t;return((t=ie(this,el))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,o,c,d,u,p,x,f,g,b,w,j,P,F,D,z,Y,ee,k;const r=()=>{Kt(this,Fa,Vi).call(this,{type:"continue"})};Xe(this,el,$y({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,M)=>{Kt(this,Fa,Vi).call(this,{type:"failed",failureCount:_,error:M})},onPause:()=>{Kt(this,Fa,Vi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,as).canRun(this)}));const n=this.state.status==="pending",a=!ie(this,el).canStart();try{if(n)r();else{Kt(this,Fa,Vi).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=ie(this,as).config).onMutate)==null?void 0:l.call(i,t,this));const M=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));M!==this.state.context&&Kt(this,Fa,Vi).call(this,{type:"pending",context:M,variables:t,isPaused:a})}const _=await ie(this,el).start();return await((u=(d=ie(this,as).config).onSuccess)==null?void 0:u.call(d,_,t,this.state.context,this)),await((x=(p=this.options).onSuccess)==null?void 0:x.call(p,_,t,this.state.context)),await((g=(f=ie(this,as).config).onSettled)==null?void 0:g.call(f,_,null,this.state.variables,this.state.context,this)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,_,null,t,this.state.context)),Kt(this,Fa,Vi).call(this,{type:"success",data:_}),_}catch(_){try{throw await((P=(j=ie(this,as).config).onError)==null?void 0:P.call(j,_,t,this.state.context,this)),await((D=(F=this.options).onError)==null?void 0:D.call(F,_,t,this.state.context)),await((Y=(z=ie(this,as).config).onSettled)==null?void 0:Y.call(z,void 0,_,this.state.variables,this.state.context,this)),await((k=(ee=this.options).onSettled)==null?void 0:k.call(ee,void 0,_,t,this.state.context)),_}finally{Kt(this,Fa,Vi).call(this,{type:"error",error:_})}}finally{ie(this,as).runNext(this)}}},Ta=new WeakMap,as=new WeakMap,el=new WeakMap,Fa=new WeakSet,Vi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jn.batch(()=>{ie(this,Ta).forEach(n=>{n.onMutationUpdate(t)}),ie(this,as).notify({mutation:this,type:"updated",action:t})})},o2);function Hy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pi,ua,tu,l2,N6=(l2=class extends Pc{constructor(t={}){super();Nt(this,pi);Nt(this,ua);Nt(this,tu);this.config=t,Xe(this,pi,new Set),Xe(this,ua,new Map),Xe(this,tu,0)}build(t,r,n){const a=new j6({mutationCache:this,mutationId:++sh(this,tu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ie(this,pi).add(t);const r=oh(t);if(typeof r=="string"){const n=ie(this,ua).get(r);n?n.push(t):ie(this,ua).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ie(this,pi).delete(t)){const r=oh(t);if(typeof r=="string"){const n=ie(this,ua).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ie(this,ua).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=oh(t);if(typeof r=="string"){const n=ie(this,ua).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=oh(t);if(typeof r=="string"){const a=(n=ie(this,ua).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jn.batch(()=>{ie(this,pi).forEach(t=>{this.notify({type:"removed",mutation:t})}),ie(this,pi).clear(),ie(this,ua).clear()})}getAll(){return Array.from(ie(this,pi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>S1(r,n))}findAll(t={}){return this.getAll().filter(r=>S1(t,r))}notify(t){jn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return jn.batch(()=>Promise.all(t.map(r=>r.continue().catch(os))))}},pi=new WeakMap,ua=new WeakMap,tu=new WeakMap,l2);function oh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function A1(e){return{onFetch:(t,r)=>{var u,p,x,f,g;const n=t.options,a=(x=(p=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],l=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const w=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},j=qy(t.options,t.fetchOptions),P=async(F,D,z)=>{if(b)return Promise.reject();if(D==null&&F.pages.length)return Promise.resolve(F);const ee=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:D,direction:z?"backward":"forward",meta:t.options.meta};return w(C),C})(),k=await j(ee),{maxPages:_}=t.options,M=z?m6:f6;return{pages:M(F.pages,k,_),pageParams:M(F.pageParams,D,_)}};if(a&&i.length){const F=a==="backward",D=F?S6:P1,z={pages:i,pageParams:l},Y=D(n,z);o=await P(z,Y,F)}else{const F=e??i.length;do{const D=c===0?l[0]??n.initialPageParam:P1(n,o);if(c>0&&D==null)break;o=await P(o,D),c++}while(c<F)}return o};t.options.persister?t.fetchFn=()=>{var b,w;return(w=(b=t.options).persister)==null?void 0:w.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function P1(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function S6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Hr,Xi,Ji,Jl,ec,eo,tc,rc,c2,k6=(c2=class{constructor(e={}){Nt(this,Hr);Nt(this,Xi);Nt(this,Ji);Nt(this,Jl);Nt(this,ec);Nt(this,eo);Nt(this,tc);Nt(this,rc);Xe(this,Hr,e.queryCache||new _6),Xe(this,Xi,e.mutationCache||new N6),Xe(this,Ji,e.defaultOptions||{}),Xe(this,Jl,new Map),Xe(this,ec,new Map),Xe(this,eo,0)}mount(){sh(this,eo)._++,ie(this,eo)===1&&(Xe(this,tc,P0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Hr).onFocus())})),Xe(this,rc,Oh.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Hr).onOnline())})))}unmount(){var e,t;sh(this,eo)._--,ie(this,eo)===0&&((e=ie(this,tc))==null||e.call(this),Xe(this,tc,void 0),(t=ie(this,rc))==null||t.call(this),Xe(this,rc,void 0))}isFetching(e){return ie(this,Hr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,Xi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,Hr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ie(this,Hr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(uo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ie(this,Hr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ie(this,Hr).get(n.queryHash),i=a==null?void 0:a.state.data,l=u6(t,i);if(l!==void 0)return ie(this,Hr).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return jn.batch(()=>ie(this,Hr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ie(this,Hr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ie(this,Hr);jn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ie(this,Hr);return jn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=jn.batch(()=>ie(this,Hr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(os).catch(os)}invalidateQueries(e,t={}){return jn.batch(()=>(ie(this,Hr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=jn.batch(()=>ie(this,Hr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(os)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(os)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ie(this,Hr).build(this,t);return r.isStaleByTime(uo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(os).catch(os)}fetchInfiniteQuery(e){return e.behavior=A1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(os).catch(os)}ensureInfiniteQueryData(e){return e.behavior=A1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oh.isOnline()?ie(this,Xi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,Hr)}getMutationCache(){return ie(this,Xi)}getDefaultOptions(){return ie(this,Ji)}setDefaultOptions(e){Xe(this,Ji,e)}setQueryDefaults(e,t){ie(this,Jl).set(il(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,Jl).values()],r={};return t.forEach(n=>{Bd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ie(this,ec).set(il(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,ec).values()],r={};return t.forEach(n=>{Bd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,Ji).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=C0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===A0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,Ji).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,Hr).clear(),ie(this,Xi).clear()}},Hr=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Jl=new WeakMap,ec=new WeakMap,eo=new WeakMap,tc=new WeakMap,rc=new WeakMap,c2),ps,rr,ru,is,tl,nc,to,ro,nu,sc,ac,rl,nl,no,ic,vr,Sd,wp,_p,jp,Np,Sp,kp,Cp,Yy,d2,C6=(d2=class extends Pc{constructor(t,r){super();Nt(this,vr);Nt(this,ps);Nt(this,rr);Nt(this,ru);Nt(this,is);Nt(this,tl);Nt(this,nc);Nt(this,to);Nt(this,ro);Nt(this,nu);Nt(this,sc);Nt(this,ac);Nt(this,rl);Nt(this,nl);Nt(this,no);Nt(this,ic,new Set);this.options=r,Xe(this,ps,t),Xe(this,ro,null),Xe(this,to,bp()),this.options.experimental_prefetchInRender||ie(this,to).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,rr).addObserver(this),L1(ie(this,rr),this.options)?Kt(this,vr,Sd).call(this):this.updateResult(),Kt(this,vr,Np).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ap(ie(this,rr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ap(ie(this,rr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Kt(this,vr,Sp).call(this),Kt(this,vr,kp).call(this),ie(this,rr).removeObserver(this)}setOptions(t){const r=this.options,n=ie(this,rr);if(this.options=ie(this,ps).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hs(this.options.enabled,ie(this,rr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Kt(this,vr,Cp).call(this),ie(this,rr).setOptions(this.options),r._defaulted&&!Mh(this.options,r)&&ie(this,ps).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,rr),observer:this});const a=this.hasListeners();a&&D1(ie(this,rr),n,this.options,r)&&Kt(this,vr,Sd).call(this),this.updateResult(),a&&(ie(this,rr)!==n||Hs(this.options.enabled,ie(this,rr))!==Hs(r.enabled,ie(this,rr))||uo(this.options.staleTime,ie(this,rr))!==uo(r.staleTime,ie(this,rr)))&&Kt(this,vr,wp).call(this);const i=Kt(this,vr,_p).call(this);a&&(ie(this,rr)!==n||Hs(this.options.enabled,ie(this,rr))!==Hs(r.enabled,ie(this,rr))||i!==ie(this,no))&&Kt(this,vr,jp).call(this,i)}getOptimisticResult(t){const r=ie(this,ps).getQueryCache().build(ie(this,ps),t),n=this.createResult(r,t);return P6(this,n)&&(Xe(this,is,n),Xe(this,nc,this.options),Xe(this,tl,ie(this,rr).state)),n}getCurrentResult(){return ie(this,is)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){ie(this,ic).add(t)}getCurrentQuery(){return ie(this,rr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ie(this,ps).defaultQueryOptions(t),n=ie(this,ps).getQueryCache().build(ie(this,ps),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Kt(this,vr,Sd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,is)))}createResult(t,r){var _;const n=ie(this,rr),a=this.options,i=ie(this,is),l=ie(this,tl),o=ie(this,nc),d=t!==n?t.state:ie(this,ru),{state:u}=t;let p={...u},x=!1,f;if(r._optimisticResults){const M=this.hasListeners(),C=!M&&L1(t,r),A=M&&D1(t,n,r,a);(C||A)&&(p={...p,...Vy(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:w}=p;f=p.data;let j=!1;if(r.placeholderData!==void 0&&f===void 0&&w==="pending"){let M;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(M=i.data,j=!0):M=typeof r.placeholderData=="function"?r.placeholderData((_=ie(this,ac))==null?void 0:_.state.data,ie(this,ac)):r.placeholderData,M!==void 0&&(w="success",f=yp(i==null?void 0:i.data,M,r),x=!0)}if(r.select&&f!==void 0&&!j)if(i&&f===(l==null?void 0:l.data)&&r.select===ie(this,nu))f=ie(this,sc);else try{Xe(this,nu,r.select),f=r.select(f),f=yp(i==null?void 0:i.data,f,r),Xe(this,sc,f),Xe(this,ro,null)}catch(M){Xe(this,ro,M)}ie(this,ro)&&(g=ie(this,ro),f=ie(this,sc),b=Date.now(),w="error");const P=p.fetchStatus==="fetching",F=w==="pending",D=w==="error",z=F&&P,Y=f!==void 0,k={status:w,fetchStatus:p.fetchStatus,isPending:F,isSuccess:w==="success",isError:D,isInitialLoading:z,isLoading:z,data:f,dataUpdatedAt:p.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:P,isRefetching:P&&!F,isLoadingError:D&&!Y,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:D&&Y,isStale:L0(t,r),refetch:this.refetch,promise:ie(this,to),isEnabled:Hs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=W=>{k.status==="error"?W.reject(k.error):k.data!==void 0&&W.resolve(k.data)},C=()=>{const W=Xe(this,to,k.promise=bp());M(W)},A=ie(this,to);switch(A.status){case"pending":t.queryHash===n.queryHash&&M(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&C();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&C();break}}return k}updateResult(){const t=ie(this,is),r=this.createResult(ie(this,rr),this.options);if(Xe(this,tl,ie(this,rr).state),Xe(this,nc,this.options),ie(this,tl).data!==void 0&&Xe(this,ac,ie(this,rr)),Mh(r,t))return;Xe(this,is,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!ie(this,ic).size)return!0;const l=new Set(i??ie(this,ic));return this.options.throwOnError&&l.add("error"),Object.keys(ie(this,is)).some(o=>{const c=o;return ie(this,is)[c]!==t[c]&&l.has(c)})};Kt(this,vr,Yy).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Kt(this,vr,Np).call(this)}},ps=new WeakMap,rr=new WeakMap,ru=new WeakMap,is=new WeakMap,tl=new WeakMap,nc=new WeakMap,to=new WeakMap,ro=new WeakMap,nu=new WeakMap,sc=new WeakMap,ac=new WeakMap,rl=new WeakMap,nl=new WeakMap,no=new WeakMap,ic=new WeakMap,vr=new WeakSet,Sd=function(t){Kt(this,vr,Cp).call(this);let r=ie(this,rr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(os)),r},wp=function(){Kt(this,vr,Sp).call(this);const t=uo(this.options.staleTime,ie(this,rr));if(al||ie(this,is).isStale||!gp(t))return;const n=My(ie(this,is).dataUpdatedAt,t)+1;Xe(this,rl,setTimeout(()=>{ie(this,is).isStale||this.updateResult()},n))},_p=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,rr)):this.options.refetchInterval)??!1},jp=function(t){Kt(this,vr,kp).call(this),Xe(this,no,t),!(al||Hs(this.options.enabled,ie(this,rr))===!1||!gp(ie(this,no))||ie(this,no)===0)&&Xe(this,nl,setInterval(()=>{(this.options.refetchIntervalInBackground||P0.isFocused())&&Kt(this,vr,Sd).call(this)},ie(this,no)))},Np=function(){Kt(this,vr,wp).call(this),Kt(this,vr,jp).call(this,Kt(this,vr,_p).call(this))},Sp=function(){ie(this,rl)&&(clearTimeout(ie(this,rl)),Xe(this,rl,void 0))},kp=function(){ie(this,nl)&&(clearInterval(ie(this,nl)),Xe(this,nl,void 0))},Cp=function(){const t=ie(this,ps).getQueryCache().build(ie(this,ps),this.options);if(t===ie(this,rr))return;const r=ie(this,rr);Xe(this,rr,t),Xe(this,ru,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Yy=function(t){jn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ie(this,is))}),ie(this,ps).getQueryCache().notify({query:ie(this,rr),type:"observerResultsUpdated"})})},d2);function A6(e,t){return Hs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function L1(e,t){return A6(e,t)||e.state.data!==void 0&&Ap(e,t,t.refetchOnMount)}function Ap(e,t,r){if(Hs(t.enabled,e)!==!1&&uo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&L0(e,t)}return!1}function D1(e,t,r,n){return(e!==t||Hs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&L0(e,r)}function L0(e,t){return Hs(t.enabled,e)!==!1&&e.isStaleByTime(uo(t.staleTime,e))}function P6(e,t){return!Mh(e.getCurrentResult(),t)}var so,ao,xs,xi,vi,_h,Pp,u2,L6=(u2=class extends Pc{constructor(r,n){super();Nt(this,vi);Nt(this,so);Nt(this,ao);Nt(this,xs);Nt(this,xi);Xe(this,so,r),this.setOptions(n),this.bindMethods(),Kt(this,vi,_h).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=ie(this,so).defaultMutationOptions(r),Mh(this.options,n)||ie(this,so).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ie(this,xs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&il(n.mutationKey)!==il(this.options.mutationKey)?this.reset():((a=ie(this,xs))==null?void 0:a.state.status)==="pending"&&ie(this,xs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ie(this,xs))==null||r.removeObserver(this)}onMutationUpdate(r){Kt(this,vi,_h).call(this),Kt(this,vi,Pp).call(this,r)}getCurrentResult(){return ie(this,ao)}reset(){var r;(r=ie(this,xs))==null||r.removeObserver(this),Xe(this,xs,void 0),Kt(this,vi,_h).call(this),Kt(this,vi,Pp).call(this)}mutate(r,n){var a;return Xe(this,xi,n),(a=ie(this,xs))==null||a.removeObserver(this),Xe(this,xs,ie(this,so).getMutationCache().build(ie(this,so),this.options)),ie(this,xs).addObserver(this),ie(this,xs).execute(r)}},so=new WeakMap,ao=new WeakMap,xs=new WeakMap,xi=new WeakMap,vi=new WeakSet,_h=function(){var n;const r=((n=ie(this,xs))==null?void 0:n.state)??Hy();Xe(this,ao,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Pp=function(r){jn.batch(()=>{var n,a,i,l,o,c,d,u;if(ie(this,xi)&&this.hasListeners()){const p=ie(this,ao).variables,x=ie(this,ao).context;(r==null?void 0:r.type)==="success"?((a=(n=ie(this,xi)).onSuccess)==null||a.call(n,r.data,p,x),(l=(i=ie(this,xi)).onSettled)==null||l.call(i,r.data,null,p,x)):(r==null?void 0:r.type)==="error"&&((c=(o=ie(this,xi)).onError)==null||c.call(o,r.error,p,x),(u=(d=ie(this,xi)).onSettled)==null||u.call(d,void 0,r.error,p,x))}this.listeners.forEach(p=>{p(ie(this,ao))})})},u2),Gy=S.createContext(void 0),Rr=e=>{const t=S.useContext(Gy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},D6=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Gy.Provider,{value:e,children:t})),Ky=S.createContext(!1),E6=()=>S.useContext(Ky);Ky.Provider;function T6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var F6=S.createContext(T6()),I6=()=>S.useContext(F6),R6=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},M6=e=>{S.useEffect(()=>{e.clearReset()},[e])},O6=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||By(r,[e.error,n])),q6=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},B6=(e,t)=>e.isLoading&&e.isFetching&&!t,z6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,E1=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function U6(e,t,r){var p,x,f,g,b;const n=E6(),a=I6(),i=Rr(),l=i.defaultQueryOptions(e);(x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||x.call(p,l),l._optimisticResults=n?"isRestoring":"optimistic",q6(l),R6(l,a),M6(a);const o=!i.getQueryCache().get(l.queryHash),[c]=S.useState(()=>new t(i,l)),d=c.getOptimisticResult(l),u=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(w=>{const j=u?c.subscribe(jn.batchCalls(w)):os;return c.updateResult(),j},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(l)},[l,c]),z6(l,d))throw E1(l,c,a);if(O6({result:d,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((g=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,l,d),l.experimental_prefetchInRender&&!al&&B6(d,n)){const w=o?E1(l,c,a):(b=i.getQueryCache().get(l.queryHash))==null?void 0:b.promise;w==null||w.catch(os).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function _t(e,t){return U6(e,C6)}function lr(e,t){const r=Rr(),[n]=S.useState(()=>new L6(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const a=S.useSyncExternalStore(S.useCallback(l=>n.subscribe(jn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=S.useCallback((l,o)=>{n.mutate(l,o).catch(os)},[n]);if(a.error&&By(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const $6="https://krphkpliaoitytorrpcv.supabase.co",W6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtycGhrcGxpYW9pdHl0b3JycGN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MjQ5NzUsImV4cCI6MjA3OTUwMDk3NX0.U4EyUXC6DMf6vnl_H1l9NAvmhWpXfu2OtmCe0bXv2Kg",xe=E4($6,W6,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Zy=S.createContext(void 0),V6=({children:e})=>{const[t,r]=S.useState(null),[n,a]=S.useState(null),[i,l]=S.useState(null),[o,c]=S.useState(!0),d=async x=>{try{const{data:f,error:g}=await xe.from("profiles").select("company_id").eq("user_id",x).single();if(g){console.error("Profile fetch error:",g);return}if(!(f!=null&&f.company_id)){console.warn("No company_id found for user");return}const{data:b,error:w}=await xe.from("company_subscriptions").select(`
          *,
          plan:subscription_plans(name, features, ai_queries_limit, price_bdt, price_usd)
        `).eq("company_id",f.company_id).single();if(w){console.error("Subscription fetch error:",w);return}b&&l(b)}catch(f){console.error("Subscription fetch error:",f)}},u=async()=>{t&&await d(t.id)};S.useEffect(()=>{const{data:{subscription:x}}=xe.auth.onAuthStateChange(async(f,g)=>{a(g),r((g==null?void 0:g.user)??null),g!=null&&g.user?await d(g.user.id):l(null),c(!1)});return xe.auth.getSession().then(async({data:{session:f}})=>{a(f),r((f==null?void 0:f.user)??null),f!=null&&f.user&&await d(f.user.id),c(!1)}),()=>x.unsubscribe()},[]);const p=async()=>{await xe.auth.signOut(),window.location.href="/login"};return s.jsx(Zy.Provider,{value:{user:t,session:n,subscription:i,isLoading:o,signOut:p,refreshSubscription:u},children:e})},Wn=()=>{const e=S.useContext(Zy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function Bn({className:e,...t}){return s.jsx("div",{className:We("animate-pulse rounded-md bg-muted",e),...t})}const H6=au("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),cc=S.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:We(H6({variant:t}),e),...r}));cc.displayName="Alert";const Y6=S.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:We("mb-1 font-medium leading-none tracking-tight",e),...t}));Y6.displayName="AlertTitle";const dc=S.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:We("text-sm [&_p]:leading-relaxed",e),...t}));dc.displayName="AlertDescription";const Gt=({children:e})=>{const{user:t,isLoading:r}=Wn(),{data:n,isLoading:a}=_t({queryKey:["profile",t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{data:i}=await xe.from("profiles").select("company_id").eq("user_id",t.id).single();return i},enabled:!!t});return r||a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"space-y-4 w-full max-w-md p-8",children:[s.jsx(Bn,{className:"h-12 w-full"}),s.jsx(Bn,{className:"h-32 w-full"}),s.jsx(Bn,{className:"h-32 w-full"})]})}):t?t&&!n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(cc,{variant:"destructive",className:"max-w-md",children:[s.jsx(_0,{className:"h-4 w-4"}),s.jsxs(dc,{children:[s.jsx("strong",{children:"Account Error:"})," Your account setup is incomplete. Please contact support at support@torqueninja.com"]})]})}):s.jsx(s.Fragment,{children:e}):s.jsx(Fh,{to:"/login",replace:!0})},zd=au("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),je=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const l=n?l4:"button";return s.jsx(l,{className:We(zd({variant:t,size:r,className:e})),ref:i,...a})});je.displayName="Button";const or=({children:e})=>{const{subscription:t,user:r}=Wn(),n=Zt(),{data:a}=_t({queryKey:["is-super-admin",r==null?void 0:r.id],queryFn:async()=>{if(!r)return!1;const{data:i}=await xe.from("user_roles").select("role").eq("user_id",r.id).eq("role","super_admin").single();return!!i},enabled:!!r});if(a)return s.jsx(s.Fragment,{children:e});if((t==null?void 0:t.status)==="trial"||(t==null?void 0:t.status)==="active"){if(t.status==="trial"&&t.trial_ends_at){const i=Math.ceil((new Date(t.trial_ends_at).getTime()-Date.now())/864e5);if(i<=3&&i>0)return s.jsxs(s.Fragment,{children:[s.jsxs(cc,{className:"mb-4 border-orange-500 bg-orange-50 dark:bg-orange-950",children:[s.jsx(Ih,{className:"h-4 w-4 text-orange-600"}),s.jsxs(dc,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-orange-800 dark:text-orange-200",children:["Your trial ends in ",s.jsxs("strong",{children:[i," day",i!==1?"s":""]}),"."]}),s.jsx(je,{variant:"outline",size:"sm",onClick:l=>{l.stopPropagation(),n("/billing")},className:"ml-4 border-orange-600 text-orange-600 hover:bg-orange-100",children:"Upgrade Now"})]})]}),e]})}return s.jsx(s.Fragment,{children:e})}return s.jsx(Fh,{to:"/billing",replace:!0})},oi=({children:e})=>{const{user:t,isLoading:r}=Wn(),{data:n,isLoading:a}=_t({queryKey:["isSuperAdmin",t==null?void 0:t.id],queryFn:async()=>{if(!t)return!1;const{data:i}=await xe.from("user_roles").select("role").eq("user_id",t.id).eq("role","super_admin").maybeSingle();return!!i},enabled:!!t});return r||a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"space-y-4 w-full max-w-md p-8",children:[s.jsx(Bn,{className:"h-12 w-full"}),s.jsx(Bn,{className:"h-32 w-full"}),s.jsx(Bn,{className:"h-32 w-full"})]})}):t?n?s.jsx(s.Fragment,{children:e}):s.jsx(Fh,{to:"/dashboard",replace:!0}):s.jsx(Fh,{to:"/login",replace:!0})},_e=S.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_e.displayName="Card";const Ct=S.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:We("flex flex-col space-y-1.5 p-6",e),...t}));Ct.displayName="CardHeader";const Pt=S.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:We("text-2xl font-semibold leading-none tracking-tight",e),...t}));Pt.displayName="CardTitle";const go=S.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:We("text-sm text-muted-foreground",e),...t}));go.displayName="CardDescription";const wt=S.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:We("p-6 pt-0",e),...t}));wt.displayName="CardContent";const G6=S.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:We("flex items-center p-6 pt-0",e),...t}));G6.displayName="CardFooter";class K6 extends S.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsx(_e,{className:"max-w-md w-full p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx(_0,{className:"h-16 w-16 text-destructive"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Something went wrong"}),s.jsx("p",{className:"text-muted-foreground",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),this.state.error&&s.jsxs("details",{className:"w-full text-left text-sm",children:[s.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"Error details"}),s.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-auto",children:this.state.error.toString()})]}),s.jsx(je,{onClick:()=>window.location.reload(),className:"w-full",children:"Refresh Page"})]})})}):this.props.children}}const Ie=S.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ie.displayName="Input";function Z6(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var D0="ScrollArea",[Qy,UF]=Zs(D0),[Q6,Xs]=Qy(D0),Xy=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...l}=e,[o,c]=S.useState(null),[d,u]=S.useState(null),[p,x]=S.useState(null),[f,g]=S.useState(null),[b,w]=S.useState(null),[j,P]=S.useState(0),[F,D]=S.useState(0),[z,Y]=S.useState(!1),[ee,k]=S.useState(!1),_=cn(t,C=>c(C)),M=d0(a);return s.jsx(Q6,{scope:r,type:n,dir:M,scrollHideDelay:i,scrollArea:o,viewport:d,onViewportChange:u,content:p,onContentChange:x,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:z,onScrollbarXEnabledChange:Y,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:ee,onScrollbarYEnabledChange:k,onCornerWidthChange:P,onCornerHeightChange:D,children:s.jsx(cr.div,{dir:M,...l,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":F+"px",...e.style}})})});Xy.displayName=D0;var Jy="ScrollAreaViewport",eb=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,l=Xs(Jy,r),o=S.useRef(null),c=cn(t,o,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(cr.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});eb.displayName=Jy;var $a="ScrollAreaScrollbar",E0=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xs($a,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,o=e.orientation==="horizontal";return S.useEffect(()=>(o?i(!0):l(!0),()=>{o?i(!1):l(!1)}),[o,i,l]),a.type==="hover"?s.jsx(X6,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(J6,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(tb,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(T0,{...n,ref:t}):null});E0.displayName=$a;var X6=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xs($a,e.__scopeScrollArea),[i,l]=S.useState(!1);return S.useEffect(()=>{const o=a.scrollArea;let c=0;if(o){const d=()=>{window.clearTimeout(c),l(!0)},u=()=>{c=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(va,{present:r||i,children:s.jsx(tb,{"data-state":i?"visible":"hidden",...n,ref:t})})}),J6=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xs($a,e.__scopeScrollArea),i=e.orientation==="horizontal",l=yf(()=>c("SCROLL_END"),100),[o,c]=Z6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,a.scrollHideDelay,c]),S.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let p=d[u];const x=()=>{const f=d[u];p!==f&&(c("SCROLL"),l()),p=f};return d.addEventListener("scroll",x),()=>d.removeEventListener("scroll",x)}},[a.viewport,i,c,l]),s.jsx(va,{present:r||o!=="hidden",children:s.jsx(T0,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Xt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Xt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),tb=S.forwardRef((e,t)=>{const r=Xs($a,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,l]=S.useState(!1),o=e.orientation==="horizontal",c=yf(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;l(o?d:u)}},10);return uc(r.viewport,c),uc(r.content,c),s.jsx(va,{present:n||i,children:s.jsx(T0,{"data-state":i?"visible":"hidden",...a,ref:t})})}),T0=S.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Xs($a,e.__scopeScrollArea),i=S.useRef(null),l=S.useRef(0),[o,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=ib(o.viewport,o.content),u={...n,sizes:o,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function p(x,f){return aS(x,l.current,o,f)}return r==="horizontal"?s.jsx(eS,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollLeft,f=T1(x,o,a.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=p(x,a.dir))}}):r==="vertical"?s.jsx(tS,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollTop,f=T1(x,o);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=p(x))}}):null}),eS=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xs($a,e.__scopeScrollArea),[l,o]=S.useState(),c=S.useRef(null),d=cn(t,c,i.onScrollbarXChange);return S.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),s.jsx(nb,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vf(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,p)=>{if(i.viewport){const x=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(x),lb(x,p)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Bh(l.paddingLeft),paddingEnd:Bh(l.paddingRight)}})}})}),tS=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xs($a,e.__scopeScrollArea),[l,o]=S.useState(),c=S.useRef(null),d=cn(t,c,i.onScrollbarYChange);return S.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),s.jsx(nb,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vf(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,p)=>{if(i.viewport){const x=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(x),lb(x,p)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Bh(l.paddingTop),paddingEnd:Bh(l.paddingBottom)}})}})}),[rS,rb]=Qy($a),nb=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:p,...x}=e,f=Xs($a,r),[g,b]=S.useState(null),w=cn(t,_=>b(_)),j=S.useRef(null),P=S.useRef(""),F=f.viewport,D=n.content-n.viewport,z=Ys(u),Y=Ys(c),ee=yf(p,10);function k(_){if(j.current){const M=_.clientX-j.current.left,C=_.clientY-j.current.top;d({x:M,y:C})}}return S.useEffect(()=>{const _=M=>{const C=M.target;(g==null?void 0:g.contains(C))&&z(M,D)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[F,g,D,z]),S.useEffect(Y,[n,Y]),uc(g,ee),uc(f.content,ee),s.jsx(rS,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Ys(i),onThumbPointerUp:Ys(l),onThumbPositionChange:Y,onThumbPointerDown:Ys(o),children:s.jsx(cr.div,{...x,ref:w,style:{position:"absolute",...x.style},onPointerDown:Xt(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),j.current=g.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),k(_))}),onPointerMove:Xt(e.onPointerMove,k),onPointerUp:Xt(e.onPointerUp,_=>{const M=_.target;M.hasPointerCapture(_.pointerId)&&M.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=P.current,f.viewport&&(f.viewport.style.scrollBehavior=""),j.current=null})})})}),qh="ScrollAreaThumb",sb=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=rb(qh,e.__scopeScrollArea);return s.jsx(va,{present:r||a.hasThumb,children:s.jsx(nS,{ref:t,...n})})}),nS=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Xs(qh,r),l=rb(qh,r),{onThumbPositionChange:o}=l,c=cn(t,p=>l.onThumbChange(p)),d=S.useRef(void 0),u=yf(()=>{d.current&&(d.current(),d.current=void 0)},100);return S.useEffect(()=>{const p=i.viewport;if(p){const x=()=>{if(u(),!d.current){const f=iS(p,o);d.current=f,o()}};return o(),p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[i.viewport,u,o]),s.jsx(cr.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Xt(e.onPointerDownCapture,p=>{const f=p.target.getBoundingClientRect(),g=p.clientX-f.left,b=p.clientY-f.top;l.onThumbPointerDown({x:g,y:b})}),onPointerUp:Xt(e.onPointerUp,l.onThumbPointerUp)})});sb.displayName=qh;var F0="ScrollAreaCorner",ab=S.forwardRef((e,t)=>{const r=Xs(F0,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(sS,{...e,ref:t}):null});ab.displayName=F0;var sS=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Xs(F0,r),[i,l]=S.useState(0),[o,c]=S.useState(0),d=!!(i&&o);return uc(a.scrollbarX,()=>{var p;const u=((p=a.scrollbarX)==null?void 0:p.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),uc(a.scrollbarY,()=>{var p;const u=((p=a.scrollbarY)==null?void 0:p.offsetWidth)||0;a.onCornerWidthChange(u),l(u)}),d?s.jsx(cr.div,{...n,ref:t,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bh(e){return e?parseInt(e,10):0}function ib(e,t){const r=e/t;return isNaN(r)?0:r}function vf(e){const t=ib(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function aS(e,t,r,n="ltr"){const a=vf(r),i=a/2,l=t||i,o=a-l,c=r.scrollbar.paddingStart+l,d=r.scrollbar.size-r.scrollbar.paddingEnd-o,u=r.content-r.viewport,p=n==="ltr"?[0,u]:[u*-1,0];return ob([c,d],p)(e)}function T1(e,t,r="ltr"){const n=vf(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,l=t.content-t.viewport,o=i-n,c=r==="ltr"?[0,l]:[l*-1,0],d=c4(e,c);return ob([0,l],[0,o])(d)}function ob(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function lb(e,t){return e>0&&e<t}var iS=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=r.left!==i.left,o=r.top!==i.top;(l||o)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function yf(e,t){const r=Ys(e),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function uc(e,t){const r=Ys(t);Od(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var cb=Xy,oS=eb,lS=ab;const db=S.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(cb,{ref:n,className:We("relative overflow-hidden",e),...r,children:[s.jsx(oS,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(ub,{}),s.jsx(lS,{})]}));db.displayName=cb.displayName;const ub=S.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(E0,{ref:n,orientation:t,className:We("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(sb,{className:"relative flex-1 rounded-full bg-border"})}));ub.displayName=E0.displayName;const cS=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState([]),[a,i]=S.useState(""),[l,o]=S.useState(!1),c=S.useRef(null),{toast:d}=kn();S.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[r]);const u=async()=>{var x,f,g;if(!a.trim()||l)return;const p={role:"user",content:a};n(b=>[...b,p]),i(""),o(!0);try{const w=await fetch("https://krphkpliaoitytorrpcv.supabase.co/functions/v1/ai-chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtycGhrcGxpYW9pdHl0b3JycGN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MjQ5NzUsImV4cCI6MjA3OTUwMDk3NX0.U4EyUXC6DMf6vnl_H1l9NAvmhWpXfu2OtmCe0bXv2Kg"},body:JSON.stringify({messages:[...r,p]})});if(w.status===429){d({title:"Rate limit exceeded",description:"Please try again in a few moments.",variant:"destructive"});return}if(w.status===402){d({title:"AI credits exhausted",description:"Please upgrade your plan or add credits.",variant:"destructive"});return}if(!w.ok||!w.body)throw new Error("Failed to get AI response");const j=w.body.getReader(),P=new TextDecoder;let F="",D="",z=!1;const Y=ee=>{F+=ee,n(k=>{const _=k[k.length-1];return(_==null?void 0:_.role)==="assistant"?k.map((M,C)=>C===k.length-1?{...M,content:F}:M):[...k,{role:"assistant",content:F}]})};for(;!z;){const{done:ee,value:k}=await j.read();if(ee)break;D+=P.decode(k,{stream:!0});let _;for(;(_=D.indexOf(`
`))!==-1;){let M=D.slice(0,_);if(D=D.slice(_+1),M.endsWith("\r")&&(M=M.slice(0,-1)),M.startsWith(":")||M.trim()===""||!M.startsWith("data: "))continue;const C=M.slice(6).trim();if(C==="[DONE]"){z=!0;break}try{const W=(g=(f=(x=JSON.parse(C).choices)==null?void 0:x[0])==null?void 0:f.delta)==null?void 0:g.content;W&&Y(W)}catch{D=M+`
`+D;break}}}}catch(b){console.error("AI chat error:",b),d({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"})}finally{o(!1)}};return e?s.jsxs(_e,{className:"fixed bottom-6 right-6 w-96 h-[600px] shadow-2xl flex flex-col",children:[s.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(Pt,{className:"text-lg",children:"AI Assistant"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{size:"icon",variant:"ghost",onClick:()=>t(!1),children:s.jsx(bN,{className:"h-4 w-4"})}),s.jsx(je,{size:"icon",variant:"ghost",onClick:()=>t(!1),children:s.jsx(iu,{className:"h-4 w-4"})})]})]}),s.jsxs(wt,{className:"flex-1 flex flex-col p-4 pt-0",children:[s.jsx(db,{ref:c,className:"flex-1 pr-4",children:s.jsxs("div",{className:"space-y-4",children:[r.length===0&&s.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"Ask me anything about your business data!"}),r.map((p,x)=>s.jsx("div",{className:`flex ${p.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${p.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:p.content})})},x)),l&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted rounded-lg px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-foreground/50 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-foreground/50 rounded-full animate-bounce delay-100"}),s.jsx("div",{className:"w-2 h-2 bg-foreground/50 rounded-full animate-bounce delay-200"})]})})})]})}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(Ie,{value:a,onChange:p=>i(p.target.value),onKeyPress:p=>p.key==="Enter"&&u(),placeholder:"Ask about your business...",disabled:l}),s.jsx(je,{onClick:u,disabled:l||!a.trim(),size:"icon",children:s.jsx(SN,{className:"h-4 w-4"})})]})]})]}):s.jsx(je,{onClick:()=>t(!0),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg",size:"icon",children:s.jsx(py,{className:"h-6 w-6"})})},dS=au("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yr({className:e,variant:t,...r}){return s.jsx("div",{className:We(dS({variant:t}),e),...r})}var bf="Popover",[hb,$F]=Zs(bf,[df]),ou=df(),[uS,jo]=hb(bf),fb=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!1}=e,o=ou(t),c=S.useRef(null),[d,u]=S.useState(!1),[p,x]=Sc({prop:n,defaultProp:a??!1,onChange:i,caller:bf});return s.jsx(m4,{...o,children:s.jsx(uS,{scope:t,contentId:v2(),triggerRef:c,open:p,onOpenChange:x,onOpenToggle:S.useCallback(()=>x(f=>!f),[x]),hasCustomAnchor:d,onCustomAnchorAdd:S.useCallback(()=>u(!0),[]),onCustomAnchorRemove:S.useCallback(()=>u(!1),[]),modal:l,children:r})})};fb.displayName=bf;var mb="PopoverAnchor",hS=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(mb,r),i=ou(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:o}=a;return S.useEffect(()=>(l(),()=>o()),[l,o]),s.jsx(c0,{...i,...n,ref:t})});hS.displayName=mb;var pb="PopoverTrigger",xb=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(pb,r),i=ou(r),l=cn(t,a.triggerRef),o=s.jsx(cr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wb(a.open),...n,ref:l,onClick:Xt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:s.jsx(c0,{asChild:!0,...i,children:o})});xb.displayName=pb;var I0="PopoverPortal",[fS,mS]=hb(I0,{forceMount:void 0}),gb=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=jo(I0,t);return s.jsx(fS,{scope:t,forceMount:r,children:s.jsx(va,{present:r||i.open,children:s.jsx(f2,{asChild:!0,container:a,children:n})})})};gb.displayName=I0;var hc="PopoverContent",vb=S.forwardRef((e,t)=>{const r=mS(hc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=jo(hc,e.__scopePopover);return s.jsx(va,{present:n||i.open,children:i.modal?s.jsx(xS,{...a,ref:t}):s.jsx(gS,{...a,ref:t})})});vb.displayName=hc;var pS=p4("PopoverContent.RemoveScroll"),xS=S.forwardRef((e,t)=>{const r=jo(hc,e.__scopePopover),n=S.useRef(null),a=cn(t,n),i=S.useRef(!1);return S.useEffect(()=>{const l=n.current;if(l)return d4(l)},[]),s.jsx(u4,{as:pS,allowPinchZoom:!0,children:s.jsx(yb,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xt(e.onCloseAutoFocus,l=>{var o;l.preventDefault(),i.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Xt(e.onPointerDownOutside,l=>{const o=l.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,d=o.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Xt(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),gS=S.forwardRef((e,t)=>{const r=jo(hc,e.__scopePopover),n=S.useRef(!1),a=S.useRef(!1);return s.jsx(yb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),yb=S.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...p}=e,x=jo(hc,r),f=ou(r);return h4(),s.jsx(f4,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(m2,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(p2,{"data-state":wb(x.open),role:"dialog",id:x.contentId,...f,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bb="PopoverClose",vS=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jo(bb,r);return s.jsx(cr.button,{type:"button",...n,ref:t,onClick:Xt(e.onClick,()=>a.onOpenChange(!1))})});vS.displayName=bb;var yS="PopoverArrow",bS=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ou(r);return s.jsx(x2,{...a,...n,ref:t})});bS.displayName=yS;function wb(e){return e?"open":"closed"}var wS=fb,_S=xb,jS=gb,_b=vb;const Qn=wS,Xn=_S,$n=S.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(jS,{children:s.jsx(_b,{ref:a,align:t,sideOffset:r,className:We("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));$n.displayName=_b.displayName;function It(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ws(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ls(e,t){const r=It(e);return isNaN(t)?ws(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function pa(e,t){const r=It(e);if(isNaN(t))return ws(e,NaN);if(!t)return r;const n=r.getDate(),a=ws(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const R0=6048e5,NS=864e5,lh=43200,F1=1440;let SS={};function Lc(){return SS}function Ua(e,t){var o,c,d,u;const r=Lc(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=It(e),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function ol(e){return Ua(e,{weekStartsOn:1})}function jb(e){const t=It(e),r=t.getFullYear(),n=ws(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ol(n),i=ws(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=ol(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function fc(e){const t=It(e);return t.setHours(0,0,0,0),t}function mc(e){const t=It(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ra(e,t){const r=fc(e),n=fc(t),a=+r-mc(r),i=+n-mc(n);return Math.round((a-i)/NS)}function kS(e){const t=jb(e),r=ws(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ol(r)}function Lp(e,t){const r=t*7;return ls(e,r)}function CS(e,t){return pa(e,t*12)}function AS(e){let t;return e.forEach(function(r){const n=It(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function PS(e){let t;return e.forEach(r=>{const n=It(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function jh(e,t){const r=It(e),n=It(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function LS(e){return ws(e,Date.now())}function ys(e,t){const r=fc(e),n=fc(t);return+r==+n}function M0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function DS(e){if(!M0(e)&&typeof e!="number")return!1;const t=It(e);return!isNaN(Number(t))}function pc(e,t){const r=It(e),n=It(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function ES(e,t,r){const n=Ua(e,r),a=Ua(t,r),i=+n-mc(n),l=+a-mc(a);return Math.round((i-l)/R0)}function TS(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function FS(e,t){return+It(e)-+It(t)}function IS(e){const t=It(e);return t.setHours(23,59,59,999),t}function lu(e){const t=It(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function RS(e){const t=It(e);return+IS(t)==+lu(t)}function MS(e,t){const r=It(e),n=It(t),a=jh(r,n),i=Math.abs(pc(r,n));let l;if(i<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let o=jh(r,n)===-a;RS(It(e))&&i===1&&jh(e,n)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function OS(e,t,r){const n=FS(e,t)/1e3;return TS(r==null?void 0:r.roundingMethod)(n)}function hs(e){const t=It(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Nb(e){const t=It(e),r=ws(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function O0(e,t){var o,c,d,u;const r=Lc(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=It(e),i=a.getDay(),l=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function Sb(e){return O0(e,{weekStartsOn:1})}const qS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BS=(e,t,r)=>{let n;const a=qS[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},US={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$S={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WS={date:Nm({formats:zS,defaultWidth:"full"}),time:Nm({formats:US,defaultWidth:"full"}),dateTime:Nm({formats:$S,defaultWidth:"full"})},VS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HS=(e,t,r,n)=>VS[e];function vd(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):l;a=e.formattingValues[o]||e.formattingValues[l]}else{const l=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const YS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JS=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},e8={ordinalNumber:JS,era:vd({values:YS,defaultWidth:"wide"}),quarter:vd({values:GS,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vd({values:KS,defaultWidth:"wide"}),day:vd({values:ZS,defaultWidth:"wide"}),dayPeriod:vd({values:QS,defaultWidth:"wide",formattingValues:XS,defaultFormattingWidth:"wide"})};function yd(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const l=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?r8(o,p=>p.test(l)):t8(o,p=>p.test(l));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(l.length);return{value:d,rest:u}}}function t8(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function r8(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function n8(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const o=t.slice(a.length);return{value:l,rest:o}}}const s8=/^(\d+)(th|st|nd|rd)?/i,a8=/\d+/i,i8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},o8={any:[/^b/i,/^(a|c)/i]},l8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c8={any:[/1/i,/2/i,/3/i,/4/i]},d8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},u8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},x8={ordinalNumber:n8({matchPattern:s8,parsePattern:a8,valueCallback:e=>parseInt(e,10)}),era:yd({matchPatterns:i8,defaultMatchWidth:"wide",parsePatterns:o8,defaultParseWidth:"any"}),quarter:yd({matchPatterns:l8,defaultMatchWidth:"wide",parsePatterns:c8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yd({matchPatterns:d8,defaultMatchWidth:"wide",parsePatterns:u8,defaultParseWidth:"any"}),day:yd({matchPatterns:h8,defaultMatchWidth:"wide",parsePatterns:f8,defaultParseWidth:"any"}),dayPeriod:yd({matchPatterns:m8,defaultMatchWidth:"any",parsePatterns:p8,defaultParseWidth:"any"})},q0={code:"en-US",formatDistance:BS,formatLong:WS,formatRelative:HS,localize:e8,match:x8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function g8(e){const t=It(e);return Ra(t,Nb(t))+1}function kb(e){const t=It(e),r=+ol(t)-+kS(t);return Math.round(r/R0)+1}function Cb(e,t){var u,p,x,f;const r=It(e),n=r.getFullYear(),a=Lc(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(x=a.locale)==null?void 0:x.options)==null?void 0:f.firstWeekContainsDate)??1,l=ws(e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const o=Ua(l,t),c=ws(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Ua(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function v8(e,t){var o,c,d,u;const r=Lc(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Cb(e,t),i=ws(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ua(i,t)}function Ab(e,t){const r=It(e),n=+Ua(r,t)-+v8(r,t);return Math.round(n/R0)+1}function jr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const zi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return jr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):jr(r+1,2)},d(e,t){return jr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return jr(e.getHours()%12||12,t.length)},H(e,t){return jr(e.getHours(),t.length)},m(e,t){return jr(e.getMinutes(),t.length)},s(e,t){return jr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return jr(a,t.length)}},Pl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return zi.y(e,t)},Y:function(e,t,r,n){const a=Cb(e,n),i=a>0?a:1-a;if(t==="YY"){const l=i%100;return jr(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):jr(i,t.length)},R:function(e,t){const r=jb(e);return jr(r,t.length)},u:function(e,t){const r=e.getFullYear();return jr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return jr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return jr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return zi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return jr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Ab(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):jr(a,t.length)},I:function(e,t,r){const n=kb(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):jr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):zi.d(e,t)},D:function(e,t,r){const n=g8(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):jr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return jr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return jr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return jr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Pl.noon:n===0?a=Pl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Pl.evening:n>=12?a=Pl.afternoon:n>=4?a=Pl.morning:a=Pl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):zi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):jr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):jr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):zi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):zi.s(e,t)},S:function(e,t){return zi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return M1(n);case"XXXX":case"XX":return zo(n);case"XXXXX":case"XXX":default:return zo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return M1(n);case"xxxx":case"xx":return zo(n);case"xxxxx":case"xxx":default:return zo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+R1(n,":");case"OOOO":default:return"GMT"+zo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+R1(n,":");case"zzzz":default:return"GMT"+zo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return jr(n,t.length)},T:function(e,t,r){const n=e.getTime();return jr(n,t.length)}};function R1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+jr(i,2)}function M1(e,t){return e%60===0?(e>0?"-":"+")+jr(Math.abs(e)/60,2):zo(e,t)}function zo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=jr(Math.trunc(n/60),2),i=jr(n%60,2);return r+a+t+i}const O1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Pb=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},y8=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return O1(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",O1(n,t)).replace("{{time}}",Pb(a,t))},b8={p:Pb,P:y8},w8=/^D+$/,_8=/^Y+$/,j8=["D","DD","YY","YYYY"];function N8(e){return w8.test(e)}function S8(e){return _8.test(e)}function k8(e,t,r){const n=C8(e,t,r);if(console.warn(n),j8.includes(e))throw new RangeError(n)}function C8(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const A8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,P8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L8=/^'([^]*?)'?$/,D8=/''/g,E8=/[a-zA-Z]/;function nt(e,t,r){var u,p,x,f,g,b,w,j;const n=Lc(),a=(r==null?void 0:r.locale)??n.locale??q0,i=(r==null?void 0:r.firstWeekContainsDate)??((p=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(x=n.locale)==null?void 0:x.options)==null?void 0:f.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((b=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((j=(w=n.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??0,o=It(e);if(!DS(o))throw new RangeError("Invalid time value");let c=t.match(P8).map(P=>{const F=P[0];if(F==="p"||F==="P"){const D=b8[F];return D(P,a.formatLong)}return P}).join("").match(A8).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const F=P[0];if(F==="'")return{isToken:!1,value:T8(P)};if(I1[F])return{isToken:!0,value:P};if(F.match(E8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:P}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const d={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return c.map(P=>{if(!P.isToken)return P.value;const F=P.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&S8(F)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&N8(F))&&k8(F,t,String(e));const D=I1[F[0]];return D(o,F,a.localize,d)}).join("")}function T8(e){const t=e.match(L8);return t?t[1].replace(D8,"'"):e}function F8(e,t,r){const n=Lc(),a=(r==null?void 0:r.locale)??n.locale??q0,i=2520,l=jh(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l});let c,d;l>0?(c=It(t),d=It(e)):(c=It(e),d=It(t));const u=OS(d,c),p=(mc(d)-mc(c))/1e3,x=Math.round((u-p)/60);let f;if(x<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,o):u<10?a.formatDistance("lessThanXSeconds",10,o):u<20?a.formatDistance("lessThanXSeconds",20,o):u<40?a.formatDistance("halfAMinute",0,o):u<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):x===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",x,o);if(x<45)return a.formatDistance("xMinutes",x,o);if(x<90)return a.formatDistance("aboutXHours",1,o);if(x<F1){const g=Math.round(x/60);return a.formatDistance("aboutXHours",g,o)}else{if(x<i)return a.formatDistance("xDays",1,o);if(x<lh){const g=Math.round(x/F1);return a.formatDistance("xDays",g,o)}else if(x<lh*2)return f=Math.round(x/lh),a.formatDistance("aboutXMonths",f,o)}if(f=MS(d,c),f<12){const g=Math.round(x/lh);return a.formatDistance("xMonths",g,o)}else{const g=f%12,b=Math.trunc(f/12);return g<3?a.formatDistance("aboutXYears",b,o):g<9?a.formatDistance("overXYears",b,o):a.formatDistance("almostXYears",b+1,o)}}function wf(e,t){return F8(e,LS(e),t)}function I8(e){const t=It(e),r=t.getFullYear(),n=t.getMonth(),a=ws(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function R8(e){return Math.trunc(+It(e)/1e3)}function M8(e){const t=It(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function O8(e,t){return ES(M8(e),hs(e),t)+1}function Dp(e,t){const r=It(e),n=It(t);return r.getTime()>n.getTime()}function Lb(e,t){const r=It(e),n=It(t);return+r<+n}function B0(e,t){const r=It(e),n=It(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function q8(e,t){const r=It(e),n=It(t);return r.getFullYear()===n.getFullYear()}function Sm(e,t){return ls(e,-t)}function km(e,t){const r=It(e),n=r.getFullYear(),a=r.getDate(),i=ws(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const l=I8(i);return r.setMonth(t,Math.min(a,l)),r}function q1(e,t){const r=It(e);return isNaN(+r)?ws(e,NaN):(r.setFullYear(t),r)}function B8(){const{user:e}=Wn(),t=Rr(),r=Zt(),{data:n}=_t({queryKey:["notifications",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:l}=await xe.from("notifications").select("*").eq("user_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1}).limit(10);return l||[]},enabled:!!e,refetchInterval:3e4}),a=lr({mutationFn:async l=>{await xe.from("notifications").update({is_read:!0}).eq("id",l)},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]})}}),i=l=>{a.mutate(l.id),l.entity_type==="product"&&l.entity_id?r(`/products/${l.entity_id}`):l.entity_type==="invoice"&&l.entity_id?r(`/invoices/${l.entity_id}`):l.entity_type==="subscription"&&r("/billing")};return s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(oc,{className:"h-5 w-5"}),n&&n.length>0&&s.jsx(yr,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-destructive text-destructive-foreground",children:n.length>9?"9+":n.length})]})}),s.jsxs($n,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold",children:"Notifications"}),n&&n.length>0&&s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>r("/notifications"),children:"View All"})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:!n||n.length===0?s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(oc,{className:"h-12 w-12 mx-auto mb-2 opacity-20"}),s.jsx("p",{children:"No new notifications"})]}):s.jsx("div",{className:"divide-y divide-border",children:n.map(l=>s.jsxs("div",{className:"p-4 hover:bg-muted cursor-pointer transition-colors",onClick:()=>i(l),children:[s.jsx("div",{className:"font-medium text-sm mb-1",children:l.title}),s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:l.message}),s.jsx("div",{className:"text-xs text-muted-foreground",children:wf(new Date(l.created_at),{addSuffix:!0})})]},l.id))})})]})]})}const z8=()=>{const{user:e}=Wn(),{toast:t}=kn(),[r,n]=S.useState(!1),[a,i]=S.useState(!1);if(!e||e.email_confirmed_at||r)return null;const l=async()=>{if(e.email){i(!0);try{const{error:o}=await xe.auth.resend({type:"signup",email:e.email});if(o)throw o;t({title:"Email Sent",description:"Verification email has been resent."})}catch(o){t({title:"Error",description:o.message,variant:"destructive"})}finally{i(!1)}}};return s.jsx(cc,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950/20",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qd,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(dc,{className:"text-amber-800 dark:text-amber-200",children:[s.jsx("strong",{children:"Please verify your email address."})," Check your inbox for a verification link."]}),s.jsx(je,{size:"sm",variant:"outline",onClick:l,disabled:a,className:"mt-2 border-amber-600 text-amber-600 hover:bg-amber-100",children:a?"Sending...":"Resend Email"})]})]}),s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"h-6 w-6 p-0",children:s.jsx(iu,{className:"h-4 w-4"})})]})})};var Db={exports:{}},Eb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=S;function U8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $8=typeof Object.is=="function"?Object.is:U8,W8=xc.useState,V8=xc.useEffect,H8=xc.useLayoutEffect,Y8=xc.useDebugValue;function G8(e,t){var r=t(),n=W8({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return H8(function(){a.value=r,a.getSnapshot=t,Cm(a)&&i({inst:a})},[e,r,t]),V8(function(){return Cm(a)&&i({inst:a}),e(function(){Cm(a)&&i({inst:a})})},[e]),Y8(r),r}function Cm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$8(e,r)}catch{return!0}}function K8(e,t){return t()}var Z8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K8:G8;Eb.useSyncExternalStore=xc.useSyncExternalStore!==void 0?xc.useSyncExternalStore:Z8;Db.exports=Eb;var Q8=Db.exports;function X8(){return Q8.useSyncExternalStore(J8,()=>!0,()=>!1)}function J8(){return()=>{}}var z0="Avatar",[ek,WF]=Zs(z0),[tk,Tb]=ek(z0),Fb=S.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=S.useState("idle");return s.jsx(tk,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(cr.span,{...n,ref:t})})});Fb.displayName=z0;var Ib="AvatarImage",Rb=S.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,l=Tb(Ib,r),o=rk(n,i),c=Ys(d=>{a(d),l.onImageLoadingStatusChange(d)});return Od(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?s.jsx(cr.img,{...i,ref:t,src:n}):null});Rb.displayName=Ib;var Mb="AvatarFallback",Ob=S.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Tb(Mb,r),[l,o]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),l&&i.imageLoadingStatus!=="loaded"?s.jsx(cr.span,{...a,ref:t}):null});Ob.displayName=Mb;function B1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rk(e,{referrerPolicy:t,crossOrigin:r}){const n=X8(),a=S.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[l,o]=S.useState(()=>B1(i,e));return Od(()=>{o(B1(i,e))},[i,e]),Od(()=>{const c=p=>()=>{o(p)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),l}var qb=Fb,Bb=Rb,zb=Ob;const Ub=S.forwardRef(({className:e,...t},r)=>s.jsx(qb,{ref:r,className:We("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ub.displayName=qb.displayName;const nk=S.forwardRef(({className:e,...t},r)=>s.jsx(Bb,{ref:r,className:We("aspect-square h-full w-full",e),...t}));nk.displayName=Bb.displayName;const $b=S.forwardRef(({className:e,...t},r)=>s.jsx(zb,{ref:r,className:We("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));$b.displayName=zb.displayName;const sk=g4,ak=v4,ik=S.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(y2,{ref:a,className:We("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(hy,{className:"ml-auto h-4 w-4"})]}));ik.displayName=y2.displayName;const ok=S.forwardRef(({className:e,...t},r)=>s.jsx(b2,{ref:r,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ok.displayName=b2.displayName;const Wb=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(x4,{children:s.jsx(w2,{ref:n,sideOffset:t,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Wb.displayName=w2.displayName;const Ep=S.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(_2,{ref:n,className:We("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ep.displayName=_2.displayName;const lk=S.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(j2,{ref:a,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(N2,{children:s.jsx(Ts,{className:"h-4 w-4"})})}),t]}));lk.displayName=j2.displayName;const ck=S.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(S2,{ref:n,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(N2,{children:s.jsx(fy,{className:"h-2 w-2 fill-current"})})}),t]}));ck.displayName=S2.displayName;const dk=S.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(k2,{ref:n,className:We("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));dk.displayName=k2.displayName;const uk=S.forwardRef(({className:e,...t},r)=>s.jsx(C2,{ref:r,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));uk.displayName=C2.displayName;var hk="Separator",z1="horizontal",fk=["horizontal","vertical"],Vb=S.forwardRef((e,t)=>{const{decorative:r,orientation:n=z1,...a}=e,i=mk(n)?n:z1,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(cr.div,{"data-orientation":i,...o,...a,ref:t})});Vb.displayName=hk;function mk(e){return fk.includes(e)}var Hb=Vb;const zh=S.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(Hb,{ref:a,decorative:r,orientation:t,className:We("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));zh.displayName=Hb.displayName;const dt=({children:e})=>{var x;const[t,r]=S.useState(!0),[n,a]=S.useState(""),i=U2(),l=Zt(),{toast:o}=kn();xe.auth.getUser().then(({data:f})=>{var g;(g=f.user)!=null&&g.email&&!n&&a(f.user.email)});const{data:c}=_t({queryKey:["isSuperAdmin"],queryFn:async()=>{const{data:{user:f}}=await xe.auth.getUser();if(!f)return!1;const{data:g}=await xe.from("user_roles").select("role").eq("user_id",f.id).eq("role","super_admin").maybeSingle();return!!g}}),d=[{name:"Dashboard",href:"/dashboard",icon:g1},{name:"Clients",href:"/clients",icon:pf},{name:"Products",href:"/products",icon:hl},{name:"Invoices",href:"/invoices",icon:_o},{name:"Quotes",href:"/quotes",icon:fN},{name:"Payments",href:"/payments",icon:io},{name:"Expenses",href:"/expenses",icon:xy},{name:"Projects",href:"/projects",icon:pN},{name:"AI Usage",href:"/ai-usage",icon:wh},{name:"Reports",href:"/reports",icon:wh},{name:"Automation",href:"/automation",icon:N0},{name:"Webhooks",href:"/webhooks",icon:DN},{name:"API Keys",href:"/api-keys",icon:ym},{name:"Settings",href:"/settings",icon:kN}],u=[{name:"Admin Dashboard",href:"/admin",icon:g1},{name:"Users",href:"/admin/users",icon:PN},{name:"Subscriptions",href:"/admin/subscriptions",icon:io},{name:"Platform Settings",href:"/admin/platform-settings",icon:gy},{name:"Domains",href:"/admin/domains",icon:my},{name:"API Keys",href:"/admin/api-keys",icon:ym},{name:"Analytics",href:"/admin/analytics",icon:wh},{name:"Payment Gateways",href:"/admin/payment-gateways",icon:ff},{name:"Reset User Password",href:"/admin/password-reset",icon:ym}],p=async()=>{const{error:f}=await xe.auth.signOut();f?o({title:"Error",description:f.message,variant:"destructive"}):l("/login")};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"sticky top-0 z-40 border-b border-border bg-card shadow-sm",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(!t),className:"lg:hidden",children:t?s.jsx(iu,{}):s.jsx(yN,{})}),s.jsxs(Pd,{to:"/",className:"flex items-center gap-3",children:[s.jsx("img",{src:"/logo.png",alt:"Torque Stickers",className:"h-10"}),s.jsx("span",{className:"text-xl font-bold text-foreground hidden sm:block",children:"Torque Stickers"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B8,{}),s.jsxs(sk,{children:[s.jsx(ak,{asChild:!0,children:s.jsxs(je,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(Ub,{className:"h-8 w-8",children:s.jsx($b,{className:"bg-primary/10 text-primary",children:((x=n==null?void 0:n[0])==null?void 0:x.toUpperCase())||"U"})}),c&&s.jsx(yr,{variant:"destructive",className:"text-xs px-2 py-0",children:"ADMIN"}),s.jsx(w0,{className:"h-4 w-4"})]})}),s.jsxs(Wb,{align:"end",children:[s.jsxs(Ep,{onClick:()=>l("/profile"),children:[s.jsx(LN,{className:"h-4 w-4 mr-2"}),"Profile"]}),s.jsxs(Ep,{onClick:p,children:[s.jsx(vN,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})}),s.jsxs("div",{className:"flex",children:[s.jsx("aside",{className:`fixed lg:sticky top-16 left-0 z-30 h-[calc(100vh-4rem)] w-64 border-r border-border bg-sidebar transition-transform duration-300 ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:s.jsxs("nav",{className:"space-y-1 p-4",children:[d.map(f=>{const g=i.pathname===f.href;return s.jsxs(Pd,{to:f.href,className:`flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${g?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"}`,children:[s.jsx(f.icon,{className:"h-5 w-5"}),f.name]},f.name)}),c&&s.jsxs(s.Fragment,{children:[s.jsx(zh,{className:"my-4"}),s.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground",children:"ADMIN"}),u.map(f=>{const g=i.pathname===f.href;return s.jsxs(Pd,{to:f.href,className:`flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${g?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"}`,children:[s.jsx(f.icon,{className:"h-5 w-5"}),f.name]},f.name)})]})]})}),s.jsxs("main",{className:"flex-1 p-6 lg:p-8",children:[s.jsx(z8,{}),e]})]}),s.jsx(cS,{})]})},pk=()=>{const{user:e}=Wn(),{data:t,isLoading:r}=_t({queryKey:["dashboard-stats",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:i}=await xe.from("profiles").select("company_id").eq("user_id",e.id).single();if(!(i!=null&&i.company_id))return null;const{data:l}=await xe.from("invoices").select("status, total, balance").eq("company_id",i.company_id),o=(l==null?void 0:l.filter(f=>f.status==="draft").length)||0,c=(l==null?void 0:l.filter(f=>f.status==="sent").length)||0,d=(l==null?void 0:l.filter(f=>f.status==="overdue").length)||0,u=(l==null?void 0:l.filter(f=>f.status==="paid").length)||0,p=(l==null?void 0:l.reduce((f,g)=>f+(g.total||0),0))||0,x=(l==null?void 0:l.reduce((f,g)=>f+(g.balance||0),0))||0;return{draft:o,sent:c,overdue:d,paid:u,totalRevenue:p,outstanding:x}},enabled:!!e}),n=i=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(i).replace("BDT","");if(r)return s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(i=>s.jsxs(_e,{className:"animate-pulse",children:[s.jsx(Ct,{className:"h-20 bg-muted"}),s.jsx(wt,{className:"h-24 bg-muted/50"})]},i))});const a=[{title:"Total Revenue",value:n((t==null?void 0:t.totalRevenue)||0),icon:ff,description:"All time",color:"text-primary"},{title:"Outstanding",value:n((t==null?void 0:t.outstanding)||0),icon:dN,description:`${(t==null?void 0:t.sent)||0} sent, ${(t==null?void 0:t.overdue)||0} overdue`,color:"text-status-overdue"},{title:"Paid Invoices",value:(t==null?void 0:t.paid)||0,icon:j0,description:"Completed",color:"text-status-paid"},{title:"Draft Invoices",value:(t==null?void 0:t.draft)||0,icon:_o,description:"Not sent yet",color:"text-muted-foreground"}];return s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:a.map(i=>s.jsxs(_e,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ct,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Pt,{className:"text-sm font-medium text-muted-foreground",children:i.title}),s.jsx(i.icon,{className:`h-5 w-5 ${i.color}`})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description})]})]},i.title))})},xk=()=>{const{user:e}=Wn(),{data:t,isLoading:r}=_t({queryKey:["recent-activity",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:n}=await xe.from("profiles").select("company_id").eq("user_id",e.id).single();if(!(n!=null&&n.company_id))return[];const{data:a}=await xe.from("activity_log").select("*").eq("company_id",n.company_id).order("activity_date",{ascending:!1}).limit(10);return a||[]},enabled:!!e});return r?s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Recent Activity"})}),s.jsx(wt,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(n=>s.jsxs("div",{className:"flex items-center gap-4 animate-pulse",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-muted"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})]},n))})})]}):s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Recent Activity"})}),s.jsx(wt,{children:s.jsx("div",{className:"space-y-4",children:(t==null?void 0:t.length)===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No recent activity"}):t==null?void 0:t.map(n=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-medium",children:n.activity.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:n.activity}),s.jsx("p",{className:"text-xs text-muted-foreground",children:wf(new Date(n.activity_date),{addSuffix:!0})})]})]},n.id))})})]})},gk=()=>{const e=Zt(),t=[{title:"New Invoice",icon:_o,onClick:()=>e("/invoices/new"),variant:"default"},{title:"New Client",icon:pf,onClick:()=>e("/clients/new"),variant:"outline"},{title:"New Product",icon:hl,onClick:()=>e("/products/new"),variant:"outline"},{title:"Import CSV",icon:Rh,onClick:()=>e("/import"),variant:"outline"}];return s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Quick Actions"})}),s.jsx(wt,{children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map(r=>s.jsxs(je,{variant:r.variant,onClick:r.onClick,className:"h-auto flex-col gap-2 py-4",children:[s.jsx(r.icon,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:r.title})]},r.title))})})]})};function vk(){const e=Zt(),{data:t,isLoading:r}=_t({queryKey:["low-stock-widget"],queryFn:async()=>{const{data:n}=await xe.from("products").select("id, name, stock_quantity, reorder_point").eq("is_active",!0).order("stock_quantity",{ascending:!0}).limit(100);return(n||[]).filter(a=>(a.stock_quantity||0)<=(a.reorder_point||10)).slice(0,5)}});return r?s.jsxs(_e,{className:"animate-pulse",children:[s.jsx(Ct,{children:s.jsx("div",{className:"h-6 bg-muted rounded w-1/3"})}),s.jsx(wt,{children:s.jsx("div",{className:"space-y-3",children:[1,2,3].map(n=>s.jsx("div",{className:"h-12 bg-muted rounded"},n))})})]}):!t||t.length===0?null:s.jsxs(_e,{className:"hover:shadow-md transition-shadow",children:[s.jsx(Ct,{children:s.jsxs(Pt,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Ih,{className:"h-5 w-5 text-orange-500"}),"Low Stock Alerts",s.jsx(yr,{variant:"destructive",className:"ml-auto",children:t.length})]})}),s.jsx(wt,{children:s.jsx("div",{className:"space-y-3",children:t.map(n=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg hover:bg-muted/70 cursor-pointer transition-colors",onClick:()=>e(`/products/${n.id}`),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hl,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:n.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Reorder at: ",n.reorder_point||10," units"]})]})]}),s.jsxs(yr,{variant:"destructive",children:[n.stock_quantity||0," left"]})]},n.id))})})]})}function yk(){const{user:e}=Wn(),{data:t,isLoading:r}=_t({queryKey:["ai-insights-widget",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:a}=await xe.from("notifications").select("*").eq("user_id",e.id).eq("type","business_insight").order("created_at",{ascending:!1}).limit(1);return a||[]},enabled:!!e});if(r)return s.jsxs(_e,{className:"animate-pulse",children:[s.jsx(Ct,{children:s.jsx("div",{className:"h-6 bg-muted rounded w-1/2"})}),s.jsx(wt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded"}),s.jsx("div",{className:"h-4 bg-muted rounded w-5/6"}),s.jsx("div",{className:"h-4 bg-muted rounded w-4/6"})]})})]});if(!t||t.length===0)return null;const n=t[0];return s.jsxs(_e,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[s.jsx(Ct,{children:s.jsxs(Pt,{className:"flex items-center gap-2 text-lg",children:[s.jsx(vy,{className:"h-5 w-5 text-primary"}),"AI Business Insights",s.jsx(Cc,{className:"h-4 w-4 ml-auto text-primary"})]})}),s.jsx(wt,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:wf(new Date(n.created_at),{addSuffix:!0})}),s.jsx("div",{className:"prose prose-sm max-w-none",children:s.jsx("div",{className:"text-sm leading-relaxed whitespace-pre-line",children:n.message})})]})})]})}const U0=P2,Yb=L2,bk=A2,Gb=S.forwardRef(({className:e,...t},r)=>s.jsx(u0,{ref:r,className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Gb.displayName=u0.displayName;const _f=S.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(bk,{children:[s.jsx(Gb,{}),s.jsxs(h0,{ref:n,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(f0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(iu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_f.displayName=h0.displayName;const jf=({className:e,...t})=>s.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});jf.displayName="DialogHeader";const Nf=S.forwardRef(({className:e,...t},r)=>s.jsx(m0,{ref:r,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));Nf.displayName=m0.displayName;const Kb=S.forwardRef(({className:e,...t},r)=>s.jsx(p0,{ref:r,className:We("text-sm text-muted-foreground",e),...t}));Kb.displayName=p0.displayName;const wk=({show:e,onClose:t})=>{const r=Zt(),{subscription:n}=Wn(),[a,i]=S.useState(""),[l,o]=S.useState(!1);S.useEffect(()=>{const d=localStorage.getItem("payment_modal_dismissed");if(d){const u=new Date(d),p=new Date;u.toDateString()===p.toDateString()&&o(!0)}},[]),S.useEffect(()=>{if(n!=null&&n.trial_ends_at){const d=()=>{const p=new Date,f=new Date(n.trial_ends_at).getTime()-p.getTime();if(f<=0){i("Trial expired");return}const g=Math.floor(f/(1e3*60*60*24)),b=Math.floor(f%(1e3*60*60*24)/(1e3*60*60)),w=Math.floor(f%(1e3*60*60)/(1e3*60));g>0?i(`${g} day${g>1?"s":""} ${b}h remaining`):b>0?i(`${b}h ${w}m remaining`):i(`${w} minute${w>1?"s":""} remaining`)};d();const u=setInterval(d,6e4);return()=>clearInterval(u)}},[n]);const c=[{name:"Professional",priceBDT:"5,000",priceUSD:"$50",period:"/month",popular:!0,features:["Unlimited products & invoices","Advanced AI analytics","Smart notifications","1,000 AI queries/month","Priority support"]},{name:"Lifetime",priceBDT:"10,000",priceUSD:"$100",period:"one-time",badge:"Best Value",features:["Everything in Professional","Unlimited AI queries","Lifetime updates","Premium support","No recurring fees ever"]}];return s.jsx(U0,{open:e,onOpenChange:t,children:s.jsxs(_f,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(jf,{children:[s.jsxs(Nf,{className:"text-3xl flex items-center gap-2",children:[s.jsx(N0,{className:"h-8 w-8 text-primary"}),"Upgrade Your Experience"]}),s.jsx(Kb,{className:"text-lg",children:(n==null?void 0:n.status)==="trial"&&a&&s.jsxs("span",{className:"text-orange-500 font-semibold",children:[a," in your free trial"]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Cc,{className:"h-5 w-5 text-primary"}),"What you'll get with a paid plan:"]}),s.jsxs("ul",{className:"grid md:grid-cols-2 gap-2 text-sm",children:[s.jsx("li",{children:" Unlimited products & inventory"}),s.jsx("li",{children:" Unlimited invoices & quotes"}),s.jsx("li",{children:" Advanced AI business insights"}),s.jsx("li",{children:" Smart automated notifications"}),s.jsx("li",{children:" Priority customer support"}),s.jsx("li",{children:" Export data to CSV"})]})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:c.map(d=>s.jsx(_e,{className:d.popular?"border-primary shadow-lg":"",children:s.jsxs(wt,{className:"p-6 space-y-4",children:[d.badge&&s.jsx("div",{className:"inline-block bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:d.badge}),d.popular&&s.jsx("div",{className:"inline-block bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:"Most Popular"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:d.name}),s.jsxs("div",{className:"text-3xl font-bold mt-2",children:[s.jsx("span",{className:"text-muted-foreground text-lg",children:"BDT "}),d.priceBDT,s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:d.period})]}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["or ",d.priceUSD," USD",d.period]})]}),s.jsx("ul",{className:"space-y-2 text-sm",children:d.features.map((u,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-0.5",children:""}),u]},p))}),s.jsxs(je,{className:"w-full",variant:d.popular?"default":"outline",onClick:()=>{t(),r("/billing")},children:[s.jsx(io,{className:"mr-2 h-4 w-4"}),"Choose ",d.name]})]})},d.name))}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"All plans include 7-day free trial  Cancel anytime"}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx(je,{variant:"ghost",onClick:()=>{localStorage.setItem("payment_modal_dismissed",new Date().toISOString()),t()},children:"Don't show again today"}),s.jsx(je,{variant:"outline",onClick:t,children:"Continue with trial"})]})]})]})]})})},_k=()=>{const{user:e,subscription:t}=Wn(),[r,n]=S.useState(!1),{data:a}=_t({queryKey:["dashboard-customization",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:l}=await xe.from("profiles").select("company_id").eq("user_id",e.id).single();if(!l)return null;const{data:o}=await xe.from("dashboard_customization").select("*").eq("company_id",l.company_id).single();return o},enabled:!!e}),i=(a==null?void 0:a.visible_modules)||["inventory","quotes","invoices","clients","analytics"];return S.useEffect(()=>{if((t==null?void 0:t.status)==="trial"){const l=setTimeout(()=>{n(!0)},3e4);return()=>clearTimeout(l)}},[t]),s.jsxs(dt,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Welcome to TorqueNinja Business Management"})]}),s.jsx(pk,{}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsx(gk,{}),s.jsx(xk,{})]}),i.includes("inventory")&&s.jsx(vk,{}),i.includes("analytics")&&s.jsx(yk,{})]}),s.jsx(wk,{show:r,onClose:()=>n(!1)})]})};var jk="Label",Zb=S.forwardRef((e,t)=>s.jsx(cr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Zb.displayName=jk;var Qb=Zb;const Nk=au("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=S.forwardRef(({className:e,...t},r)=>s.jsx(Qb,{ref:r,className:We(Nk(),e),...t}));fe.displayName=Qb.displayName;const Sk=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(""),[a,i]=S.useState(!1),l=Zt(),{toast:o}=kn(),{user:c,isLoading:d}=Wn();S.useEffect(()=>{!d&&c&&l("/dashboard")},[c,d,l]);const u=async p=>{p.preventDefault(),i(!0);const{data:x,error:f}=await xe.auth.signInWithPassword({email:e,password:r});if(f){o({title:"Login Failed",description:f.message,variant:"destructive"}),i(!1);return}if(x.user){const{data:g}=await xe.from("profiles").select("company_id").eq("user_id",x.user.id).single();if(!g){o({title:"Account Setup Error",description:"Your account is incomplete. Please contact support.",variant:"destructive"}),i(!1);return}if(!x.user.email_confirmed_at){l("/verify-pending"),i(!1);return}const{data:b}=await xe.from("user_roles").select("role").eq("user_id",x.user.id).single();o({title:"Success",description:"Logged in successfully"}),(b==null?void 0:b.role)==="super_admin"?l("/admin"):l("/dashboard")}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:s.jsxs("div",{className:"w-full max-w-md p-8 bg-card rounded-lg shadow-primary",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:"/logo.png",alt:"Torque Stickers",className:"h-16"})}),s.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Welcome Back"}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(Ie,{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"password",children:"Password"}),s.jsx(Ie,{id:"password",type:"password",value:r,onChange:p=>n(p.target.value),required:!0})]}),s.jsx(je,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"})]}),s.jsxs("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsx(Pd,{to:"/signup",className:"text-primary hover:underline",children:"Sign up"})]})]})})};var $0="Radio",[kk,Xb]=Zs($0),[Ck,Ak]=kk($0),Jb=S.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:l,value:o="on",onCheck:c,form:d,...u}=e,[p,x]=S.useState(null),f=cn(t,w=>x(w)),g=S.useRef(!1),b=p?d||!!p.closest("form"):!0;return s.jsxs(Ck,{scope:r,checked:a,disabled:l,children:[s.jsx(cr.button,{type:"button",role:"radio","aria-checked":a,"data-state":n5(a),"data-disabled":l?"":void 0,disabled:l,value:o,...u,ref:f,onClick:Xt(e.onClick,w=>{a||c==null||c(),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&s.jsx(r5,{control:p,bubbles:!g.current,name:n,value:o,checked:a,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Jb.displayName=$0;var e5="RadioIndicator",t5=S.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=Ak(e5,r);return s.jsx(va,{present:n||i.checked,children:s.jsx(cr.span,{"data-state":n5(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});t5.displayName=e5;var Pk="RadioBubbleInput",r5=S.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const l=S.useRef(null),o=cn(l,i),c=x0(r),d=g0(t);return S.useEffect(()=>{const u=l.current;if(!u)return;const p=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&f){const g=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(g)}},[c,r,n]),s.jsx(cr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});r5.displayName=Pk;function n5(e){return e?"checked":"unchecked"}var Lk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sf="RadioGroup",[Dk,VF]=Zs(Sf,[uf,Xb]),s5=uf(),a5=Xb(),[Ek,Tk]=Dk(Sf),i5=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:l=!1,disabled:o=!1,orientation:c,dir:d,loop:u=!0,onValueChange:p,...x}=e,f=s5(r),g=d0(d),[b,w]=Sc({prop:i,defaultProp:a??null,onChange:p,caller:Sf});return s.jsx(Ek,{scope:r,name:n,required:l,disabled:o,value:b,onValueChange:w,children:s.jsx(D2,{asChild:!0,...f,orientation:c,dir:g,loop:u,children:s.jsx(cr.div,{role:"radiogroup","aria-required":l,"aria-orientation":c,"data-disabled":o?"":void 0,dir:g,...x,ref:t})})})});i5.displayName=Sf;var o5="RadioGroupItem",l5=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=Tk(o5,r),l=i.disabled||n,o=s5(r),c=a5(r),d=S.useRef(null),u=cn(t,d),p=i.value===a.value,x=S.useRef(!1);return S.useEffect(()=>{const f=b=>{Lk.includes(b.key)&&(x.current=!0)},g=()=>x.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",g)}},[]),s.jsx(E2,{asChild:!0,...o,focusable:!l,active:p,children:s.jsx(Jb,{disabled:l,required:i.required,checked:p,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:Xt(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Xt(a.onFocus,()=>{var f;x.current&&((f=d.current)==null||f.click())})})})});l5.displayName=o5;var Fk="RadioGroupIndicator",c5=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=a5(r);return s.jsx(t5,{...a,...n,ref:t})});c5.displayName=Fk;var d5=i5,u5=l5,Ik=c5;const W0=S.forwardRef(({className:e,...t},r)=>s.jsx(d5,{className:We("grid gap-2",e),...t,ref:r}));W0.displayName=d5.displayName;const Uh=S.forwardRef(({className:e,...t},r)=>s.jsx(u5,{ref:r,className:We("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Ik,{className:"flex items-center justify-center",children:s.jsx(fy,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Uh.displayName=u5.displayName;const Rk=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(""),[a,i]=S.useState(""),[l,o]=S.useState(!1),[c,d]=S.useState([]),[u,p]=S.useState(""),[x,f]=S.useState("BDT"),g=Zt(),{toast:b}=kn(),{user:w,isLoading:j}=Wn();S.useEffect(()=>{!j&&w&&g("/dashboard")},[w,j,g]),S.useEffect(()=>{P()},[]);const P=async()=>{var ee;const{data:z,error:Y}=await xe.from("subscription_plans").select("*").order("price_bdt",{ascending:!0});!Y&&z&&(d(z),p(((ee=z[0])==null?void 0:ee.id)||""))},F=async z=>{var k;z.preventDefault(),o(!0);const{data:Y,error:ee}=await xe.auth.signUp({email:e,password:r,options:{emailRedirectTo:`${window.location.origin}/verify-email`,data:{full_name:a,selected_plan:u,currency:x}}});if(ee){b({title:"Signup Failed",description:ee.message,variant:"destructive"}),o(!1);return}Y.user&&!Y.user.email_confirmed_at&&((k=Y.user.identities)==null?void 0:k.length)===0?(b({title:"Check Your Email",description:"Please verify your email address to continue."}),g("/verify-pending")):(b({title:"Success!",description:"Your account has been created with a 7-day trial."}),setTimeout(()=>{g("/dashboard")},500)),o(!1)},D=c.find(z=>z.id===u);return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10 p-4",children:s.jsxs("div",{className:"w-full max-w-4xl p-8 bg-card rounded-lg shadow-primary",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:"/logo.png",alt:"TorqueNinja",className:"h-16"})}),s.jsx("h1",{className:"text-2xl font-bold text-center mb-2",children:"Create Your Account"}),s.jsx("p",{className:"text-center text-muted-foreground mb-6",children:"Start your 7-day free trial"}),s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"fullName",children:"Full Name"}),s.jsx(Ie,{id:"fullName",type:"text",value:a,onChange:z=>i(z.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(Ie,{id:"email",type:"email",value:e,onChange:z=>t(z.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"password",children:"Password"}),s.jsx(Ie,{id:"password",type:"password",value:r,onChange:z=>n(z.target.value),required:!0,minLength:6})]})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"mb-3 block",children:"Select Currency"}),s.jsxs(W0,{value:x,onValueChange:z=>f(z),className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uh,{value:"BDT",id:"bdt"}),s.jsx(fe,{htmlFor:"bdt",className:"cursor-pointer",children:"BDT ()"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uh,{value:"USD",id:"usd"}),s.jsx(fe,{htmlFor:"usd",className:"cursor-pointer",children:"USD ($)"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"mb-3 block",children:"Choose Your Plan"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(z=>{var Y,ee,k,_,M;return s.jsxs(_e,{className:`cursor-pointer transition-all ${u===z.id?"border-primary shadow-lg":"border-border hover:border-primary/50"}`,onClick:()=>p(z.id),children:[s.jsxs(Ct,{children:[s.jsxs(Pt,{className:"flex items-center justify-between",children:[z.name,u===z.id&&s.jsx(Ts,{className:"h-5 w-5 text-primary"})]}),s.jsx(go,{children:z.description})]}),s.jsxs(wt,{children:[s.jsxs("div",{className:"text-3xl font-bold mb-4",children:[x==="BDT"?`${z.price_bdt}`:`$${z.price_usd}`,!z.is_one_time&&s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/month"}),z.is_one_time&&s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:" one-time"})]}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[((Y=z.features)==null?void 0:Y.products_limit)!==null&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"h-4 w-4 text-primary"}),z.features.products_limit?`${z.features.products_limit} Products`:"Unlimited Products"]}),((ee=z.features)==null?void 0:ee.invoices_limit)!==null&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"h-4 w-4 text-primary"}),z.features.invoices_limit?`${z.features.invoices_limit} Invoices`:"Unlimited Invoices"]}),((k=z.features)==null?void 0:k.advanced_analytics)&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"h-4 w-4 text-primary"}),"Advanced Analytics"]}),((_=z.features)==null?void 0:_.smart_notifications)&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"h-4 w-4 text-primary"}),"Smart Notifications"]}),((M=z.features)==null?void 0:M.unlimited_ai)&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"h-4 w-4 text-primary"}),"Unlimited AI Assistant"]})]})]})]},z.id)})})]}),s.jsx(je,{type:"submit",className:"w-full",disabled:l||!u,children:l?"Creating account...":`Start Free Trial - ${(D==null?void 0:D.name)||""}`}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"7-day free trial  No credit card required  Cancel anytime"})]}),s.jsxs("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(Pd,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})]})})},Mk=()=>{const[e,t]=S.useState(""),r=Zt(),{data:n,isLoading:a}=_t({queryKey:["clients",e],queryFn:async()=>{let l=xe.from("clients").select("*").order("created_at",{ascending:!1});e&&(l=l.or(`name.ilike.%${e}%,email.ilike.%${e}%,phone.ilike.%${e}%`));const{data:o}=await l;return o||[]}}),i=l=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(l).replace("BDT","");return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clients"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your customer database"})]}),s.jsxs(je,{onClick:()=>r("/clients/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"New Client"]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(mf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(Ie,{placeholder:"Search clients...",value:e,onChange:l=>t(l.target.value),className:"pl-10"})]})}),a?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(l=>s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-6 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),s.jsx("div",{className:"h-4 bg-muted rounded w-2/3"})]})},l))}):(n==null?void 0:n.length)===0?s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No clients found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:e?"Try a different search term":"Get started by adding your first client"}),s.jsxs(je,{onClick:()=>r("/clients/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Add Client"]})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n==null?void 0:n.map(l=>s.jsx(_e,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(`/clients/${l.id}`),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:l.name}),l.client_number&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",l.client_number]})]}),l.email&&s.jsx("p",{className:"text-sm text-muted-foreground",children:l.email}),l.phone&&s.jsx("p",{className:"text-sm text-muted-foreground",children:l.phone}),s.jsxs("div",{className:"pt-3 border-t",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Balance:"}),s.jsx("span",{className:"font-medium",children:i(l.balance||0)})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsx("span",{className:"font-medium text-status-paid",children:i(l.paid_to_date||0)})]})]})]})},l.id))})]})})};var cu=e=>e.type==="checkbox",Vo=e=>e instanceof Date,cs=e=>e==null;const h5=e=>typeof e=="object";var an=e=>!cs(e)&&!Array.isArray(e)&&h5(e)&&!Vo(e),Ok=e=>an(e)&&e.target?cu(e.target)?e.target.checked:e.target.value:e,qk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Bk=(e,t)=>e.has(qk(t)),zk=e=>{const t=e.constructor&&e.constructor.prototype;return an(t)&&t.hasOwnProperty("isPrototypeOf")},V0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(V0&&(e instanceof Blob||n))&&(r||an(e)))if(t=r?[]:{},!r&&!zk(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Pn(e[a]));else return e;return t}var kf=e=>/^\w*$/.test(e),mn=e=>e===void 0,H0=e=>Array.isArray(e)?e.filter(Boolean):[],Y0=e=>H0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),tt=(e,t,r)=>{if(!t||!an(e))return r;const n=(kf(t)?[t]:Y0(t)).reduce((a,i)=>cs(a)?a:a[i],e);return mn(n)||n===e?mn(e[t])?r:e[t]:n},Da=e=>typeof e=="boolean",Cr=(e,t,r)=>{let n=-1;const a=kf(t)?[t]:Y0(t),i=a.length,l=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==l){const d=e[o];c=an(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const U1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ha={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},li={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Uk=Ve.createContext(null);Uk.displayName="HookFormContext";var $k=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const l=i;return t._proxyFormState[l]!==ha.all&&(t._proxyFormState[l]=!n||ha.all),e[l]}});return a};const Wk=typeof window<"u"?Ve.useLayoutEffect:Ve.useEffect;var Ma=e=>typeof e=="string",Vk=(e,t,r,n,a)=>Ma(e)?(n&&t.watch.add(e),tt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),tt(r,i))):(n&&(t.watchAll=!0),r),Tp=e=>cs(e)||!h5(e);function Gi(e,t,r=new WeakSet){if(Tp(e)||Tp(t))return e===t;if(Vo(e)&&Vo(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const l=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Vo(l)&&Vo(o)||an(l)&&an(o)||Array.isArray(l)&&Array.isArray(o)?!Gi(l,o,r):l!==o)return!1}}return!0}var f5=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Dd=e=>Array.isArray(e)?e:[e],$1=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},gs=e=>an(e)&&!Object.keys(e).length,G0=e=>e.type==="file",fa=e=>typeof e=="function",$h=e=>{if(!V0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},m5=e=>e.type==="select-multiple",K0=e=>e.type==="radio",Hk=e=>K0(e)||cu(e),Am=e=>$h(e)&&e.isConnected;function Yk(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=mn(e)?n++:e[t[n++]];return e}function Gk(e){for(const t in e)if(e.hasOwnProperty(t)&&!mn(e[t]))return!1;return!0}function fn(e,t){const r=Array.isArray(t)?t:kf(t)?[t]:Y0(t),n=r.length===1?e:Yk(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(an(n)&&gs(n)||Array.isArray(n)&&Gk(n))&&fn(e,r.slice(0,-1)),e}var p5=e=>{for(const t in e)if(fa(e[t]))return!0;return!1};function Wh(e,t={}){const r=Array.isArray(e);if(an(e)||r)for(const n in e)Array.isArray(e[n])||an(e[n])&&!p5(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Wh(e[n],t[n])):cs(e[n])||(t[n]=!0);return t}function x5(e,t,r){const n=Array.isArray(e);if(an(e)||n)for(const a in e)Array.isArray(e[a])||an(e[a])&&!p5(e[a])?mn(t)||Tp(r[a])?r[a]=Array.isArray(e[a])?Wh(e[a],[]):{...Wh(e[a])}:x5(e[a],cs(t)?{}:t[a],r[a]):r[a]=!Gi(e[a],t[a]);return r}var bd=(e,t)=>x5(e,t,Wh(t));const W1={value:!1,isValid:!1},V1={value:!0,isValid:!0};var g5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mn(e[0].attributes.value)?mn(e[0].value)||e[0].value===""?V1:{value:e[0].value,isValid:!0}:V1:W1}return W1},v5=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>mn(e)?e:t?e===""?NaN:e&&+e:r&&Ma(e)?new Date(e):n?n(e):e;const H1={isValid:!1,value:null};var y5=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,H1):H1;function Y1(e){const t=e.ref;return G0(t)?t.files:K0(t)?y5(e.refs).value:m5(t)?[...t.selectedOptions].map(({value:r})=>r):cu(t)?g5(e.refs).value:v5(mn(t.value)?e.ref.value:t.value,e)}var Kk=(e,t,r,n)=>{const a={};for(const i of e){const l=tt(t,i);l&&Cr(a,i,l._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Vh=e=>e instanceof RegExp,wd=e=>mn(e)?e:Vh(e)?e.source:an(e)?Vh(e.value)?e.value.source:e.value:e,G1=e=>({isOnSubmit:!e||e===ha.onSubmit,isOnBlur:e===ha.onBlur,isOnChange:e===ha.onChange,isOnAll:e===ha.all,isOnTouch:e===ha.onTouched});const K1="AsyncFunction";var Zk=e=>!!e&&!!e.validate&&!!(fa(e.validate)&&e.validate.constructor.name===K1||an(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===K1)),Qk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Z1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ed=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=tt(e,a);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],a)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Ed(o,t))break}else if(an(o)&&Ed(o,t))break}}};function Q1(e,t,r){const n=tt(e,r);if(n||kf(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),l=tt(t,i),o=tt(e,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};a.pop()}return{name:r}}var Xk=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return gs(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!n||ha.all))},Jk=(e,t,r)=>!e||!t||e===t||Dd(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),eC=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,tC=(e,t)=>!H0(tt(e,t)).length&&fn(e,t),rC=(e,t,r)=>{const n=Dd(tt(e,r));return Cr(n,"root",t[r]),Cr(e,r,n),e},Nh=e=>Ma(e);function X1(e,t,r="validate"){if(Nh(e)||Array.isArray(e)&&e.every(Nh)||Da(e)&&!e)return{type:r,message:Nh(e)?e:"",ref:t}}var Ll=e=>an(e)&&!Vh(e)?e:{value:e,message:""},J1=async(e,t,r,n,a,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:p,max:x,pattern:f,validate:g,name:b,valueAsNumber:w,mount:j}=e._f,P=tt(r,b);if(!j||t.has(b))return{};const F=o?o[0]:l,D=A=>{a&&F.reportValidity&&(F.setCustomValidity(Da(A)?"":A||""),F.reportValidity())},z={},Y=K0(l),ee=cu(l),k=Y||ee,_=(w||G0(l))&&mn(l.value)&&mn(P)||$h(l)&&l.value===""||P===""||Array.isArray(P)&&!P.length,M=f5.bind(null,b,n,z),C=(A,W,U,oe=li.maxLength,ue=li.minLength)=>{const te=A?W:U;z[b]={type:A?oe:ue,message:te,ref:l,...M(A?oe:ue,te)}};if(i?!Array.isArray(P)||!P.length:c&&(!k&&(_||cs(P))||Da(P)&&!P||ee&&!g5(o).isValid||Y&&!y5(o).isValid)){const{value:A,message:W}=Nh(c)?{value:!!c,message:c}:Ll(c);if(A&&(z[b]={type:li.required,message:W,ref:F,...M(li.required,W)},!n))return D(W),z}if(!_&&(!cs(p)||!cs(x))){let A,W;const U=Ll(x),oe=Ll(p);if(!cs(P)&&!isNaN(P)){const ue=l.valueAsNumber||P&&+P;cs(U.value)||(A=ue>U.value),cs(oe.value)||(W=ue<oe.value)}else{const ue=l.valueAsDate||new Date(P),te=ke=>new Date(new Date().toDateString()+" "+ke),X=l.type=="time",ne=l.type=="week";Ma(U.value)&&P&&(A=X?te(P)>te(U.value):ne?P>U.value:ue>new Date(U.value)),Ma(oe.value)&&P&&(W=X?te(P)<te(oe.value):ne?P<oe.value:ue<new Date(oe.value))}if((A||W)&&(C(!!A,U.message,oe.message,li.max,li.min),!n))return D(z[b].message),z}if((d||u)&&!_&&(Ma(P)||i&&Array.isArray(P))){const A=Ll(d),W=Ll(u),U=!cs(A.value)&&P.length>+A.value,oe=!cs(W.value)&&P.length<+W.value;if((U||oe)&&(C(U,A.message,W.message),!n))return D(z[b].message),z}if(f&&!_&&Ma(P)){const{value:A,message:W}=Ll(f);if(Vh(A)&&!P.match(A)&&(z[b]={type:li.pattern,message:W,ref:l,...M(li.pattern,W)},!n))return D(W),z}if(g){if(fa(g)){const A=await g(P,r),W=X1(A,F);if(W&&(z[b]={...W,...M(li.validate,W.message)},!n))return D(W.message),z}else if(an(g)){let A={};for(const W in g){if(!gs(A)&&!n)break;const U=X1(await g[W](P,r),F,W);U&&(A={...U,...M(W,U.message)},D(U.message),n&&(z[b]=A))}if(!gs(A)&&(z[b]={ref:F,...A},!n))return z}}return D(!0),z};const nC={mode:ha.onSubmit,reValidateMode:ha.onChange,shouldFocusError:!0};function sC(e={}){let t={...nC,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:fa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=an(t.defaultValues)||an(t.values)?Pn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Pn(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...u};const x={array:$1(),state:$1()},f=t.criteriaMode===ha.all,g=Z=>se=>{clearTimeout(d),d=setTimeout(Z,se)},b=async Z=>{if(!t.disabled&&(u.isValid||p.isValid||Z)){const se=t.resolver?gs((await ee()).errors):await _(n,!0);se!==r.isValid&&x.state.next({isValid:se})}},w=(Z,se)=>{!t.disabled&&(u.isValidating||u.validatingFields||p.isValidating||p.validatingFields)&&((Z||Array.from(o.mount)).forEach(he=>{he&&(se?Cr(r.validatingFields,he,se):fn(r.validatingFields,he))}),x.state.next({validatingFields:r.validatingFields,isValidating:!gs(r.validatingFields)}))},j=(Z,se=[],he,Se,De=!0,Ce=!0)=>{if(Se&&he&&!t.disabled){if(l.action=!0,Ce&&Array.isArray(tt(n,Z))){const Ae=he(tt(n,Z),Se.argA,Se.argB);De&&Cr(n,Z,Ae)}if(Ce&&Array.isArray(tt(r.errors,Z))){const Ae=he(tt(r.errors,Z),Se.argA,Se.argB);De&&Cr(r.errors,Z,Ae),tC(r.errors,Z)}if((u.touchedFields||p.touchedFields)&&Ce&&Array.isArray(tt(r.touchedFields,Z))){const Ae=he(tt(r.touchedFields,Z),Se.argA,Se.argB);De&&Cr(r.touchedFields,Z,Ae)}(u.dirtyFields||p.dirtyFields)&&(r.dirtyFields=bd(a,i)),x.state.next({name:Z,isDirty:C(Z,se),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Cr(i,Z,se)},P=(Z,se)=>{Cr(r.errors,Z,se),x.state.next({errors:r.errors})},F=Z=>{r.errors=Z,x.state.next({errors:r.errors,isValid:!1})},D=(Z,se,he,Se)=>{const De=tt(n,Z);if(De){const Ce=tt(i,Z,mn(he)?tt(a,Z):he);mn(Ce)||Se&&Se.defaultChecked||se?Cr(i,Z,se?Ce:Y1(De._f)):U(Z,Ce),l.mount&&b()}},z=(Z,se,he,Se,De)=>{let Ce=!1,Ae=!1;const Ye={name:Z};if(!t.disabled){if(!he||Se){(u.isDirty||p.isDirty)&&(Ae=r.isDirty,r.isDirty=Ye.isDirty=C(),Ce=Ae!==Ye.isDirty);const Ze=Gi(tt(a,Z),se);Ae=!!tt(r.dirtyFields,Z),Ze?fn(r.dirtyFields,Z):Cr(r.dirtyFields,Z,!0),Ye.dirtyFields=r.dirtyFields,Ce=Ce||(u.dirtyFields||p.dirtyFields)&&Ae!==!Ze}if(he){const Ze=tt(r.touchedFields,Z);Ze||(Cr(r.touchedFields,Z,he),Ye.touchedFields=r.touchedFields,Ce=Ce||(u.touchedFields||p.touchedFields)&&Ze!==he)}Ce&&De&&x.state.next(Ye)}return Ce?Ye:{}},Y=(Z,se,he,Se)=>{const De=tt(r.errors,Z),Ce=(u.isValid||p.isValid)&&Da(se)&&r.isValid!==se;if(t.delayError&&he?(c=g(()=>P(Z,he)),c(t.delayError)):(clearTimeout(d),c=null,he?Cr(r.errors,Z,he):fn(r.errors,Z)),(he?!Gi(De,he):De)||!gs(Se)||Ce){const Ae={...Se,...Ce&&Da(se)?{isValid:se}:{},errors:r.errors,name:Z};r={...r,...Ae},x.state.next(Ae)}},ee=async Z=>{w(Z,!0);const se=await t.resolver(i,t.context,Kk(Z||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(Z),se},k=async Z=>{const{errors:se}=await ee(Z);if(Z)for(const he of Z){const Se=tt(se,he);Se?Cr(r.errors,he,Se):fn(r.errors,he)}else r.errors=se;return se},_=async(Z,se,he={valid:!0})=>{for(const Se in Z){const De=Z[Se];if(De){const{_f:Ce,...Ae}=De;if(Ce){const Ye=o.array.has(Ce.name),Ze=De._f&&Zk(De._f);Ze&&u.validatingFields&&w([Se],!0);const Ke=await J1(De,o.disabled,i,f,t.shouldUseNativeValidation&&!se,Ye);if(Ze&&u.validatingFields&&w([Se]),Ke[Ce.name]&&(he.valid=!1,se))break;!se&&(tt(Ke,Ce.name)?Ye?rC(r.errors,Ke,Ce.name):Cr(r.errors,Ce.name,Ke[Ce.name]):fn(r.errors,Ce.name))}!gs(Ae)&&await _(Ae,se,he)}}return he.valid},M=()=>{for(const Z of o.unMount){const se=tt(n,Z);se&&(se._f.refs?se._f.refs.every(he=>!Am(he)):!Am(se._f.ref))&&re(Z)}o.unMount=new Set},C=(Z,se)=>!t.disabled&&(Z&&se&&Cr(i,Z,se),!Gi(ke(),a)),A=(Z,se,he)=>Vk(Z,o,{...l.mount?i:mn(se)?a:Ma(Z)?{[Z]:se}:se},he,se),W=Z=>H0(tt(l.mount?i:a,Z,t.shouldUnregister?tt(a,Z,[]):[])),U=(Z,se,he={})=>{const Se=tt(n,Z);let De=se;if(Se){const Ce=Se._f;Ce&&(!Ce.disabled&&Cr(i,Z,v5(se,Ce)),De=$h(Ce.ref)&&cs(se)?"":se,m5(Ce.ref)?[...Ce.ref.options].forEach(Ae=>Ae.selected=De.includes(Ae.value)):Ce.refs?cu(Ce.ref)?Ce.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(De)?Ae.checked=!!De.find(Ye=>Ye===Ae.value):Ae.checked=De===Ae.value||!!De)}):Ce.refs.forEach(Ae=>Ae.checked=Ae.value===De):G0(Ce.ref)?Ce.ref.value="":(Ce.ref.value=De,Ce.ref.type||x.state.next({name:Z,values:Pn(i)})))}(he.shouldDirty||he.shouldTouch)&&z(Z,De,he.shouldTouch,he.shouldDirty,!0),he.shouldValidate&&ne(Z)},oe=(Z,se,he)=>{for(const Se in se){if(!se.hasOwnProperty(Se))return;const De=se[Se],Ce=Z+"."+Se,Ae=tt(n,Ce);(o.array.has(Z)||an(De)||Ae&&!Ae._f)&&!Vo(De)?oe(Ce,De,he):U(Ce,De,he)}},ue=(Z,se,he={})=>{const Se=tt(n,Z),De=o.array.has(Z),Ce=Pn(se);Cr(i,Z,Ce),De?(x.array.next({name:Z,values:Pn(i)}),(u.isDirty||u.dirtyFields||p.isDirty||p.dirtyFields)&&he.shouldDirty&&x.state.next({name:Z,dirtyFields:bd(a,i),isDirty:C(Z,Ce)})):Se&&!Se._f&&!cs(Ce)?oe(Z,Ce,he):U(Z,Ce,he),Z1(Z,o)&&x.state.next({...r,name:Z}),x.state.next({name:l.mount?Z:void 0,values:Pn(i)})},te=async Z=>{l.mount=!0;const se=Z.target;let he=se.name,Se=!0;const De=tt(n,he),Ce=Ze=>{Se=Number.isNaN(Ze)||Vo(Ze)&&isNaN(Ze.getTime())||Gi(Ze,tt(i,he,Ze))},Ae=G1(t.mode),Ye=G1(t.reValidateMode);if(De){let Ze,Ke;const bt=se.type?Y1(De._f):Ok(Z),Qe=Z.type===U1.BLUR||Z.type===U1.FOCUS_OUT,er=!Qk(De._f)&&!t.resolver&&!tt(r.errors,he)&&!De._f.deps||eC(Qe,tt(r.touchedFields,he),r.isSubmitted,Ye,Ae),Lt=Z1(he,o,Qe);Cr(i,he,bt),Qe?(De._f.onBlur&&De._f.onBlur(Z),c&&c(0)):De._f.onChange&&De._f.onChange(Z);const jt=z(he,bt,Qe),Ot=!gs(jt)||Lt;if(!Qe&&x.state.next({name:he,type:Z.type,values:Pn(i)}),er)return(u.isValid||p.isValid)&&(t.mode==="onBlur"?Qe&&b():Qe||b()),Ot&&x.state.next({name:he,...Lt?{}:jt});if(!Qe&&Lt&&x.state.next({...r}),t.resolver){const{errors:sr}=await ee([he]);if(Ce(bt),Se){const vt=Q1(r.errors,n,he),pr=Q1(sr,n,vt.name||he);Ze=pr.error,he=pr.name,Ke=gs(sr)}}else w([he],!0),Ze=(await J1(De,o.disabled,i,f,t.shouldUseNativeValidation))[he],w([he]),Ce(bt),Se&&(Ze?Ke=!1:(u.isValid||p.isValid)&&(Ke=await _(n,!0)));Se&&(De._f.deps&&ne(De._f.deps),Y(he,Ke,Ze,jt))}},X=(Z,se)=>{if(tt(r.errors,se)&&Z.focus)return Z.focus(),1},ne=async(Z,se={})=>{let he,Se;const De=Dd(Z);if(t.resolver){const Ce=await k(mn(Z)?Z:De);he=gs(Ce),Se=Z?!De.some(Ae=>tt(Ce,Ae)):he}else Z?(Se=(await Promise.all(De.map(async Ce=>{const Ae=tt(n,Ce);return await _(Ae&&Ae._f?{[Ce]:Ae}:Ae)}))).every(Boolean),!(!Se&&!r.isValid)&&b()):Se=he=await _(n);return x.state.next({...!Ma(Z)||(u.isValid||p.isValid)&&he!==r.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:he}:{},errors:r.errors}),se.shouldFocus&&!Se&&Ed(n,X,Z?De:o.mount),Se},ke=Z=>{const se={...l.mount?i:a};return mn(Z)?se:Ma(Z)?tt(se,Z):Z.map(he=>tt(se,he))},me=(Z,se)=>({invalid:!!tt((se||r).errors,Z),isDirty:!!tt((se||r).dirtyFields,Z),error:tt((se||r).errors,Z),isValidating:!!tt(r.validatingFields,Z),isTouched:!!tt((se||r).touchedFields,Z)}),L=Z=>{Z&&Dd(Z).forEach(se=>fn(r.errors,se)),x.state.next({errors:Z?r.errors:{}})},q=(Z,se,he)=>{const Se=(tt(n,Z,{_f:{}})._f||{}).ref,De=tt(r.errors,Z)||{},{ref:Ce,message:Ae,type:Ye,...Ze}=De;Cr(r.errors,Z,{...Ze,...se,ref:Se}),x.state.next({name:Z,errors:r.errors,isValid:!1}),he&&he.shouldFocus&&Se&&Se.focus&&Se.focus()},I=(Z,se)=>fa(Z)?x.state.subscribe({next:he=>"values"in he&&Z(A(void 0,se),he)}):A(Z,se,!0),V=Z=>x.state.subscribe({next:se=>{Jk(Z.name,se.name,Z.exact)&&Xk(se,Z.formState||u,yt,Z.reRenderRoot)&&Z.callback({values:{...i},...r,...se,defaultValues:a})}}).unsubscribe,J=Z=>(l.mount=!0,p={...p,...Z.formState},V({...Z,formState:p})),re=(Z,se={})=>{for(const he of Z?Dd(Z):o.mount)o.mount.delete(he),o.array.delete(he),se.keepValue||(fn(n,he),fn(i,he)),!se.keepError&&fn(r.errors,he),!se.keepDirty&&fn(r.dirtyFields,he),!se.keepTouched&&fn(r.touchedFields,he),!se.keepIsValidating&&fn(r.validatingFields,he),!t.shouldUnregister&&!se.keepDefaultValue&&fn(a,he);x.state.next({values:Pn(i)}),x.state.next({...r,...se.keepDirty?{isDirty:C()}:{}}),!se.keepIsValid&&b()},ce=({disabled:Z,name:se})=>{(Da(Z)&&l.mount||Z||o.disabled.has(se))&&(Z?o.disabled.add(se):o.disabled.delete(se))},pe=(Z,se={})=>{let he=tt(n,Z);const Se=Da(se.disabled)||Da(t.disabled);return Cr(n,Z,{...he||{},_f:{...he&&he._f?he._f:{ref:{name:Z}},name:Z,mount:!0,...se}}),o.mount.add(Z),he?ce({disabled:Da(se.disabled)?se.disabled:t.disabled,name:Z}):D(Z,!0,se.value),{...Se?{disabled:se.disabled||t.disabled}:{},...t.progressive?{required:!!se.required,min:wd(se.min),max:wd(se.max),minLength:wd(se.minLength),maxLength:wd(se.maxLength),pattern:wd(se.pattern)}:{},name:Z,onChange:te,onBlur:te,ref:De=>{if(De){pe(Z,se),he=tt(n,Z);const Ce=mn(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,Ae=Hk(Ce),Ye=he._f.refs||[];if(Ae?Ye.find(Ze=>Ze===Ce):Ce===he._f.ref)return;Cr(n,Z,{_f:{...he._f,...Ae?{refs:[...Ye.filter(Am),Ce,...Array.isArray(tt(a,Z))?[{}]:[]],ref:{type:Ce.type,name:Z}}:{ref:Ce}}}),D(Z,!1,void 0,Ce)}else he=tt(n,Z,{}),he._f&&(he._f.mount=!1),(t.shouldUnregister||se.shouldUnregister)&&!(Bk(o.array,Z)&&l.action)&&o.unMount.add(Z)}}},we=()=>t.shouldFocusError&&Ed(n,X,o.mount),Ne=Z=>{Da(Z)&&(x.state.next({disabled:Z}),Ed(n,(se,he)=>{const Se=tt(n,he);Se&&(se.disabled=Se._f.disabled||Z,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(De=>{De.disabled=Se._f.disabled||Z}))},0,!1))},Me=(Z,se)=>async he=>{let Se;he&&(he.preventDefault&&he.preventDefault(),he.persist&&he.persist());let De=Pn(i);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:Ce,values:Ae}=await ee();r.errors=Ce,De=Pn(Ae)}else await _(n);if(o.disabled.size)for(const Ce of o.disabled)fn(De,Ce);if(fn(r.errors,"root"),gs(r.errors)){x.state.next({errors:{}});try{await Z(De,he)}catch(Ce){Se=Ce}}else se&&await se({...r.errors},he),we(),setTimeout(we);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gs(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},Be=(Z,se={})=>{tt(n,Z)&&(mn(se.defaultValue)?ue(Z,Pn(tt(a,Z))):(ue(Z,se.defaultValue),Cr(a,Z,Pn(se.defaultValue))),se.keepTouched||fn(r.touchedFields,Z),se.keepDirty||(fn(r.dirtyFields,Z),r.isDirty=se.defaultValue?C(Z,Pn(tt(a,Z))):C()),se.keepError||(fn(r.errors,Z),u.isValid&&b()),x.state.next({...r}))},ze=(Z,se={})=>{const he=Z?Pn(Z):a,Se=Pn(he),De=gs(Z),Ce=De?a:Se;if(se.keepDefaultValues||(a=he),!se.keepValues){if(se.keepDirtyValues){const Ae=new Set([...o.mount,...Object.keys(bd(a,i))]);for(const Ye of Array.from(Ae))tt(r.dirtyFields,Ye)?Cr(Ce,Ye,tt(i,Ye)):ue(Ye,tt(Ce,Ye))}else{if(V0&&mn(Z))for(const Ae of o.mount){const Ye=tt(n,Ae);if(Ye&&Ye._f){const Ze=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if($h(Ze)){const Ke=Ze.closest("form");if(Ke){Ke.reset();break}}}}if(se.keepFieldsRef)for(const Ae of o.mount)ue(Ae,tt(Ce,Ae));else n={}}i=t.shouldUnregister?se.keepDefaultValues?Pn(a):{}:Pn(Ce),x.array.next({values:{...Ce}}),x.state.next({values:{...Ce}})}o={mount:se.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!se.keepIsValid||!!se.keepDirtyValues,l.watch=!!t.shouldUnregister,x.state.next({submitCount:se.keepSubmitCount?r.submitCount:0,isDirty:De?!1:se.keepDirty?r.isDirty:!!(se.keepDefaultValues&&!Gi(Z,a)),isSubmitted:se.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:De?{}:se.keepDirtyValues?se.keepDefaultValues&&i?bd(a,i):r.dirtyFields:se.keepDefaultValues&&Z?bd(a,Z):se.keepDirty?r.dirtyFields:{},touchedFields:se.keepTouched?r.touchedFields:{},errors:se.keepErrors?r.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},$=(Z,se)=>ze(fa(Z)?Z(i):Z,se),Re=(Z,se={})=>{const he=tt(n,Z),Se=he&&he._f;if(Se){const De=Se.refs?Se.refs[0]:Se.ref;De.focus&&(De.focus(),se.shouldSelect&&fa(De.select)&&De.select())}},yt=Z=>{r={...r,...Z}},Pe={control:{register:pe,unregister:re,getFieldState:me,handleSubmit:Me,setError:q,_subscribe:V,_runSchema:ee,_focusError:we,_getWatch:A,_getDirty:C,_setValid:b,_setFieldArray:j,_setDisabledField:ce,_setErrors:F,_getFieldArray:W,_reset:ze,_resetDefaultValues:()=>fa(t.defaultValues)&&t.defaultValues().then(Z=>{$(Z,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Ne,_subjects:x,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(Z){l=Z},get _defaultValues(){return a},get _names(){return o},set _names(Z){o=Z},get _formState(){return r},get _options(){return t},set _options(Z){t={...t,...Z}}},subscribe:J,trigger:ne,register:pe,handleSubmit:Me,watch:I,setValue:ue,getValues:ke,reset:$,resetField:Be,clearErrors:L,unregister:re,setError:q,setFocus:Re,getFieldState:me};return{...Pe,formControl:Pe}}function b5(e={}){const t=Ve.useRef(void 0),r=Ve.useRef(void 0),[n,a]=Ve.useState({isDirty:!1,isValidating:!1,isLoading:fa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:fa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!fa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=sC(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,Wk(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),Ve.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Ve.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Ve.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Ve.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Ve.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),Ve.useEffect(()=>{e.values&&!Gi(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),Ve.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=$k(n,i),t.current}const eg=(e,t,r)=>{if(e&&"reportValidity"in e){const n=tt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},w5=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?eg(n.ref,r,e):n.refs&&n.refs.forEach(a=>eg(a,r,e))}},aC=(e,t)=>{t.shouldUseNativeValidation&&w5(e,t);const r={};for(const n in e){const a=tt(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(iC(t.names||Object.keys(e),n)){const l=Object.assign({},tt(r,n));Cr(l,"root",i),Cr(r,n,l)}else Cr(r,n,i)}return r},iC=(e,t)=>e.some(r=>r.startsWith(t+"."));var oC=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[l]={message:o.message,type:o.code}}else r[l]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(p){return e.push(p)})}),t){var c=r[l].types,d=c&&c[n.code];r[l]=f5(l,t,r,a,d?[].concat(d,n.message):n.message)}e.shift()}return r},_5=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(l,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&w5({},i),{errors:{},values:r.raw?n:d}})}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(l))return{values:{},errors:aC(oC(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}}},mr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return e.objectValues(l)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},e.find=(a,i)=>{for(const l of a)if(i(l))return l},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(mr||(mr={}));var tg;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(tg||(tg={}));const it=mr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hi=e=>{switch(typeof e){case"undefined":return it.undefined;case"string":return it.string;case"number":return Number.isNaN(e)?it.nan:it.number;case"boolean":return it.boolean;case"function":return it.function;case"bigint":return it.bigint;case"symbol":return it.symbol;case"object":return Array.isArray(e)?it.array:e===null?it.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?it.promise:typeof Map<"u"&&e instanceof Map?it.map:typeof Set<"u"&&e instanceof Set?it.set:typeof Date<"u"&&e instanceof Date?it.date:it.object;default:return it.unknown}},He=mr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class yi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof yi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}yi.create=e=>new yi(e);const Fp=(e,t)=>{let r;switch(e.code){case He.invalid_type:e.received===it.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case He.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,mr.jsonStringifyReplacer)}`;break;case He.unrecognized_keys:r=`Unrecognized key(s) in object: ${mr.joinValues(e.keys,", ")}`;break;case He.invalid_union:r="Invalid input";break;case He.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mr.joinValues(e.options)}`;break;case He.invalid_enum_value:r=`Invalid enum value. Expected ${mr.joinValues(e.options)}, received '${e.received}'`;break;case He.invalid_arguments:r="Invalid function arguments";break;case He.invalid_return_type:r="Invalid function return type";break;case He.invalid_date:r="Invalid date";break;case He.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:mr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case He.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case He.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case He.custom:r="Invalid input";break;case He.invalid_intersection_types:r="Intersection results could not be merged";break;case He.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case He.not_finite:r="Number must be finite";break;default:r=t.defaultError,mr.assertNever(e)}return{message:r}};let lC=Fp;function cC(){return lC}const dC=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:t,defaultError:o}).message;return{...a,path:i,message:o}};function Je(e,t){const r=cC(),n=dC({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Fp?void 0:Fp].filter(a=>!!a)});e.common.issues.push(n)}class Rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Bt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return Rs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return Bt;i.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:t.value,value:n}}}const Bt=Object.freeze({status:"aborted"}),kd=e=>({status:"dirty",value:e}),Js=e=>({status:"valid",value:e}),rg=e=>e.status==="aborted",ng=e=>e.status==="dirty",gc=e=>e.status==="valid",Hh=e=>typeof Promise<"u"&&e instanceof Promise;var ut;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ut||(ut={}));class vo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sg=(e,t)=>{if(gc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new yi(e.common.issues);return this._error=r,this._error}}};function Jt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(l,o)=>{const{message:c}=e;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:a}}class hr{get description(){return this._def.description}_getType(t){return Hi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Hi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Rs,ctx:{common:t.parent.common,data:t.data,parsedType:Hi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Hh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hi(t)},a=this._parseSync({data:t,path:n.path,parent:n});return sg(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hi(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return gc(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>gc(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hi(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Hh(a)?a:Promise.resolve(a));return sg(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const l=t(a),o=()=>i.addIssue({code:He.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new bc({schema:this,typeName:zt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ho.create(this,this._def)}nullable(){return wc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qa.create(this)}promise(){return Zh.create(this,this._def)}or(t){return Gh.create([this,t],this._def)}and(t){return Kh.create(this,t,this._def)}transform(t){return new bc({...Jt(this._def),schema:this,typeName:zt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Op({...Jt(this._def),innerType:this,defaultValue:r,typeName:zt.ZodDefault})}brand(){return new TC({typeName:zt.ZodBranded,type:this,...Jt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new qp({...Jt(this._def),innerType:this,catchValue:r,typeName:zt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Z0.create(this,t)}readonly(){return Bp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const uC=/^c[^\s-]{8,}$/i,hC=/^[0-9a-z]+$/,fC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pC=/^[a-z0-9_-]{21}$/i,xC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pm;const bC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_C=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,SC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,j5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kC=new RegExp(`^${j5}$`);function N5(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function CC(e){return new RegExp(`^${N5(e)}$`)}function AC(e){let t=`${j5}T${N5(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function PC(e,t){return!!((t==="v4"||!t)&&bC.test(e)||(t==="v6"||!t)&&_C.test(e))}function LC(e,t){if(!xC.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function DC(e,t){return!!((t==="v4"||!t)&&wC.test(e)||(t==="v6"||!t)&&jC.test(e))}class oo extends hr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==it.string){const i=this._getOrReturnCtx(t);return Je(i,{code:He.invalid_type,expected:it.string,received:i.parsedType}),Bt}const n=new Rs;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:He.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:He.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=t.data.length>i.value,o=t.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(t,a),l?Je(a,{code:He.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Je(a,{code:He.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")vC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"email",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Pm||(Pm=new RegExp(yC,"u")),Pm.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"emoji",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")mC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"uuid",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")pC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"nanoid",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")uC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cuid",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")hC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cuid2",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")fC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"ulid",code:He.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Je(a,{validation:"url",code:He.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"regex",code:He.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Je(a,{code:He.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Je(a,{code:He.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Je(a,{code:He.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?AC(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:He.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?kC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:He.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?CC(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:He.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?gC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"duration",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?PC(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"ip",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?LC(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"jwt",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?DC(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cidr",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?NC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"base64",code:He.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?SC.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"base64url",code:He.invalid_string,message:i.message}),n.dirty()):mr.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:He.invalid_string,...ut.errToObj(n)})}_addCheck(t){return new oo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ut.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ut.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ut.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ut.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ut.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ut.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ut.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ut.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ut.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ut.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ut.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ut.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ut.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ut.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ut.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ut.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ut.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ut.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ut.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ut.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ut.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ut.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ut.errToObj(r)})}nonempty(t){return this.min(1,ut.errToObj(t))}trim(){return new oo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new oo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new oo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}oo.create=e=>new oo({checks:[],typeName:zt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Jt(e)});function EC(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(t.toFixed(a).replace(".",""));return i%l/10**a}class vc extends hr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==it.number){const i=this._getOrReturnCtx(t);return Je(i,{code:He.invalid_type,expected:it.number,received:i.parsedType}),Bt}let n;const a=new Rs;for(const i of this._def.checks)i.kind==="int"?mr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Je(n,{code:He.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:He.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:He.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?EC(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Je(n,{code:He.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Je(n,{code:He.not_finite,message:i.message}),a.dirty()):mr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ut.toString(r))}setLimit(t,r,n,a){return new vc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ut.toString(a)}]})}_addCheck(t){return new vc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ut.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ut.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ut.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ut.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&mr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}vc.create=e=>new vc({checks:[],typeName:zt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Jt(e)});class Ud extends hr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==it.bigint)return this._getInvalidInput(t);let n;const a=new Rs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:He.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:He.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:He.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):mr.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Je(r,{code:He.invalid_type,expected:it.bigint,received:r.parsedType}),Bt}gte(t,r){return this.setLimit("min",t,!0,ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ut.toString(r))}setLimit(t,r,n,a){return new Ud({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ut.toString(a)}]})}_addCheck(t){return new Ud({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ud.create=e=>new Ud({checks:[],typeName:zt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Jt(e)});class Ip extends hr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==it.boolean){const n=this._getOrReturnCtx(t);return Je(n,{code:He.invalid_type,expected:it.boolean,received:n.parsedType}),Bt}return Js(t.data)}}Ip.create=e=>new Ip({typeName:zt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Jt(e)});class Yh extends hr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==it.date){const i=this._getOrReturnCtx(t);return Je(i,{code:He.invalid_type,expected:it.date,received:i.parsedType}),Bt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Je(i,{code:He.invalid_date}),Bt}const n=new Rs;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:He.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:He.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):mr.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Yh({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ut.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ut.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Yh.create=e=>new Yh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:zt.ZodDate,...Jt(e)});class ag extends hr{_parse(t){if(this._getType(t)!==it.symbol){const n=this._getOrReturnCtx(t);return Je(n,{code:He.invalid_type,expected:it.symbol,received:n.parsedType}),Bt}return Js(t.data)}}ag.create=e=>new ag({typeName:zt.ZodSymbol,...Jt(e)});class ig extends hr{_parse(t){if(this._getType(t)!==it.undefined){const n=this._getOrReturnCtx(t);return Je(n,{code:He.invalid_type,expected:it.undefined,received:n.parsedType}),Bt}return Js(t.data)}}ig.create=e=>new ig({typeName:zt.ZodUndefined,...Jt(e)});class og extends hr{_parse(t){if(this._getType(t)!==it.null){const n=this._getOrReturnCtx(t);return Je(n,{code:He.invalid_type,expected:it.null,received:n.parsedType}),Bt}return Js(t.data)}}og.create=e=>new og({typeName:zt.ZodNull,...Jt(e)});class lg extends hr{constructor(){super(...arguments),this._any=!0}_parse(t){return Js(t.data)}}lg.create=e=>new lg({typeName:zt.ZodAny,...Jt(e)});class cg extends hr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Js(t.data)}}cg.create=e=>new cg({typeName:zt.ZodUnknown,...Jt(e)});class yo extends hr{_parse(t){const r=this._getOrReturnCtx(t);return Je(r,{code:He.invalid_type,expected:it.never,received:r.parsedType}),Bt}}yo.create=e=>new yo({typeName:zt.ZodNever,...Jt(e)});class dg extends hr{_parse(t){if(this._getType(t)!==it.undefined){const n=this._getOrReturnCtx(t);return Je(n,{code:He.invalid_type,expected:it.void,received:n.parsedType}),Bt}return Js(t.data)}}dg.create=e=>new dg({typeName:zt.ZodVoid,...Jt(e)});class qa extends hr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==it.array)return Je(r,{code:He.invalid_type,expected:it.array,received:r.parsedType}),Bt;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(l||o)&&(Je(r,{code:l?He.too_big:He.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Je(r,{code:He.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Je(r,{code:He.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>a.type._parseAsync(new vo(r,l,r.path,o)))).then(l=>Rs.mergeArray(n,l));const i=[...r.data].map((l,o)=>a.type._parseSync(new vo(r,l,r.path,o)));return Rs.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new qa({...this._def,minLength:{value:t,message:ut.toString(r)}})}max(t,r){return new qa({...this._def,maxLength:{value:t,message:ut.toString(r)}})}length(t,r){return new qa({...this._def,exactLength:{value:t,message:ut.toString(r)}})}nonempty(t){return this.min(1,t)}}qa.create=(e,t)=>new qa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:zt.ZodArray,...Jt(t)});function Rl(e){if(e instanceof Gr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ho.create(Rl(n))}return new Gr({...e._def,shape:()=>t})}else return e instanceof qa?new qa({...e._def,type:Rl(e.element)}):e instanceof ho?ho.create(Rl(e.unwrap())):e instanceof wc?wc.create(Rl(e.unwrap())):e instanceof ll?ll.create(e.items.map(t=>Rl(t))):e}class Gr extends hr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=mr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==it.object){const d=this._getOrReturnCtx(t);return Je(d,{code:He.invalid_type,expected:it.object,received:d.parsedType}),Bt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof yo&&this._def.unknownKeys==="strip"))for(const d in a.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=i[d],p=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new vo(a,p,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof yo){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")o.length>0&&(Je(a,{code:He.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const p=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new vo(a,p,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const p=await u.key,x=await u.value;d.push({key:p,value:x,alwaysSet:u.alwaysSet})}return d}).then(d=>Rs.mergeObjectSync(n,d)):Rs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ut.errToObj,new Gr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,l;const a=((l=(i=this._def).errorMap)==null?void 0:l.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ut.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Gr({...this._def,unknownKeys:"strip"})}passthrough(){return new Gr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Gr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Gr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:zt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Gr({...this._def,catchall:t})}pick(t){const r={};for(const n of mr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Gr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of mr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Gr({...this._def,shape:()=>r})}deepPartial(){return Rl(this)}partial(t){const r={};for(const n of mr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Gr({...this._def,shape:()=>r})}required(t){const r={};for(const n of mr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ho;)i=i._def.innerType;r[n]=i}return new Gr({...this._def,shape:()=>r})}keyof(){return S5(mr.objectKeys(this.shape))}}Gr.create=(e,t)=>new Gr({shape:()=>e,unknownKeys:"strip",catchall:yo.create(),typeName:zt.ZodObject,...Jt(t)});Gr.strictCreate=(e,t)=>new Gr({shape:()=>e,unknownKeys:"strict",catchall:yo.create(),typeName:zt.ZodObject,...Jt(t)});Gr.lazycreate=(e,t)=>new Gr({shape:e,unknownKeys:"strip",catchall:yo.create(),typeName:zt.ZodObject,...Jt(t)});class Gh extends hr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new yi(o.ctx.common.issues));return Je(r,{code:He.invalid_union,unionErrors:l}),Bt}if(r.common.async)return Promise.all(n.map(async i=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new yi(c));return Je(r,{code:He.invalid_union,unionErrors:o}),Bt}}get options(){return this._def.options}}Gh.create=(e,t)=>new Gh({options:e,typeName:zt.ZodUnion,...Jt(t)});function Rp(e,t){const r=Hi(e),n=Hi(t);if(e===t)return{valid:!0,data:e};if(r===it.object&&n===it.object){const a=mr.objectKeys(t),i=mr.objectKeys(e).filter(o=>a.indexOf(o)!==-1),l={...e,...t};for(const o of i){const c=Rp(e[o],t[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===it.array&&n===it.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const l=e[i],o=t[i],c=Rp(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===it.date&&n===it.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Kh extends hr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,l)=>{if(rg(i)||rg(l))return Bt;const o=Rp(i.value,l.value);return o.valid?((ng(i)||ng(l))&&r.dirty(),{status:r.value,value:o.data}):(Je(n,{code:He.invalid_intersection_types}),Bt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Kh.create=(e,t,r)=>new Kh({left:e,right:t,typeName:zt.ZodIntersection,...Jt(r)});class ll extends hr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==it.array)return Je(n,{code:He.invalid_type,expected:it.array,received:n.parsedType}),Bt;if(n.data.length<this._def.items.length)return Je(n,{code:He.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Bt;!this._def.rest&&n.data.length>this._def.items.length&&(Je(n,{code:He.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new vo(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>Rs.mergeArray(r,l)):Rs.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ll({...this._def,rest:t})}}ll.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ll({items:e,typeName:zt.ZodTuple,rest:null,...Jt(t)})};class ug extends hr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==it.map)return Je(n,{code:He.invalid_type,expected:it.map,received:n.parsedType}),Bt;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],d)=>({key:a._parse(new vo(n,o,n.path,[d,"key"])),value:i._parse(new vo(n,c,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Bt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Bt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}}}}ug.create=(e,t,r)=>new ug({valueType:t,keyType:e,typeName:zt.ZodMap,...Jt(r)});class $d extends hr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==it.set)return Je(n,{code:He.invalid_type,expected:it.set,received:n.parsedType}),Bt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Je(n,{code:He.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Je(n,{code:He.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Bt;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const o=[...n.data.values()].map((c,d)=>i._parse(new vo(n,c,n.path,d)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(t,r){return new $d({...this._def,minSize:{value:t,message:ut.toString(r)}})}max(t,r){return new $d({...this._def,maxSize:{value:t,message:ut.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}$d.create=(e,t)=>new $d({valueType:e,minSize:null,maxSize:null,typeName:zt.ZodSet,...Jt(t)});class hg extends hr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}hg.create=(e,t)=>new hg({getter:e,typeName:zt.ZodLazy,...Jt(t)});class Mp extends hr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Je(r,{received:r.data,code:He.invalid_literal,expected:this._def.value}),Bt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Mp.create=(e,t)=>new Mp({value:e,typeName:zt.ZodLiteral,...Jt(t)});function S5(e,t){return new yc({values:e,typeName:zt.ZodEnum,...Jt(t)})}class yc extends hr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Je(r,{expected:mr.joinValues(n),received:r.parsedType,code:He.invalid_type}),Bt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Je(r,{received:r.data,code:He.invalid_enum_value,options:n}),Bt}return Js(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return yc.create(t,{...this._def,...r})}exclude(t,r=this._def){return yc.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}yc.create=S5;class fg extends hr{_parse(t){const r=mr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==it.string&&n.parsedType!==it.number){const a=mr.objectValues(r);return Je(n,{expected:mr.joinValues(a),received:n.parsedType,code:He.invalid_type}),Bt}if(this._cache||(this._cache=new Set(mr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=mr.objectValues(r);return Je(n,{received:n.data,code:He.invalid_enum_value,options:a}),Bt}return Js(t.data)}get enum(){return this._def.values}}fg.create=(e,t)=>new fg({values:e,typeName:zt.ZodNativeEnum,...Jt(t)});class Zh extends hr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==it.promise&&r.common.async===!1)return Je(r,{code:He.invalid_type,expected:it.promise,received:r.parsedType}),Bt;const n=r.parsedType===it.promise?r.data:Promise.resolve(r.data);return Js(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zh.create=(e,t)=>new Zh({type:e,typeName:zt.ZodPromise,...Jt(t)});class bc extends hr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:l=>{Je(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return Bt;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Bt:c.status==="dirty"||r.value==="dirty"?kd(c.value):c});{if(r.value==="aborted")return Bt;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?Bt:o.status==="dirty"||r.value==="dirty"?kd(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Bt:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Bt:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!gc(l))return Bt;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>gc(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:r.value,value:o})):Bt);mr.assertNever(a)}}bc.create=(e,t,r)=>new bc({schema:e,typeName:zt.ZodEffects,effect:t,...Jt(r)});bc.createWithPreprocess=(e,t,r)=>new bc({schema:t,effect:{type:"preprocess",transform:e},typeName:zt.ZodEffects,...Jt(r)});class ho extends hr{_parse(t){return this._getType(t)===it.undefined?Js(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ho.create=(e,t)=>new ho({innerType:e,typeName:zt.ZodOptional,...Jt(t)});class wc extends hr{_parse(t){return this._getType(t)===it.null?Js(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wc.create=(e,t)=>new wc({innerType:e,typeName:zt.ZodNullable,...Jt(t)});class Op extends hr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===it.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Op.create=(e,t)=>new Op({innerType:e,typeName:zt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Jt(t)});class qp extends hr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Hh(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yi(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new yi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}qp.create=(e,t)=>new qp({innerType:e,typeName:zt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Jt(t)});class mg extends hr{_parse(t){if(this._getType(t)!==it.nan){const n=this._getOrReturnCtx(t);return Je(n,{code:He.invalid_type,expected:it.nan,received:n.parsedType}),Bt}return{status:"valid",value:t.data}}}mg.create=e=>new mg({typeName:zt.ZodNaN,...Jt(e)});class TC extends hr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Z0 extends hr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Bt:i.status==="dirty"?(r.dirty(),kd(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Bt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Z0({in:t,out:r,typeName:zt.ZodPipeline})}}class Bp extends hr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(gc(a)&&(a.value=Object.freeze(a.value)),a);return Hh(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Bp.create=(e,t)=>new Bp({innerType:e,typeName:zt.ZodReadonly,...Jt(t)});Gr.lazycreate;var zt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(zt||(zt={}));const Dt=oo.create,Uo=vc.create,FC=Ip.create;yo.create;qa.create;const k5=Gr.create;Gr.strictCreate;Gh.create;Kh.create;ll.create;const IC=Mp.create;yc.create;Zh.create;ho.create;wc.create;const zr=S.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));zr.displayName="Textarea";var Cf="Tabs",[RC,HF]=Zs(Cf,[uf]),C5=uf(),[MC,Q0]=RC(Cf),A5=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=e,u=d0(o),[p,x]=Sc({prop:n,onChange:a,defaultProp:i??"",caller:Cf});return s.jsx(MC,{scope:r,baseId:v2(),value:p,onValueChange:x,orientation:l,dir:u,activationMode:c,children:s.jsx(cr.div,{dir:u,"data-orientation":l,...d,ref:t})})});A5.displayName=Cf;var P5="TabsList",L5=S.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Q0(P5,r),l=C5(r);return s.jsx(D2,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(cr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});L5.displayName=P5;var D5="TabsTrigger",E5=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,l=Q0(D5,r),o=C5(r),c=I5(l.baseId,n),d=R5(l.baseId,n),u=n===l.value;return s.jsx(E2,{asChild:!0,...o,focusable:!a,active:u,children:s.jsx(cr.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Xt(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?l.onValueChange(n):p.preventDefault()}),onKeyDown:Xt(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(n)}),onFocus:Xt(e.onFocus,()=>{const p=l.activationMode!=="manual";!u&&!a&&p&&l.onValueChange(n)})})})});E5.displayName=D5;var T5="TabsContent",F5=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...l}=e,o=Q0(T5,r),c=I5(o.baseId,n),d=R5(o.baseId,n),u=n===o.value,p=S.useRef(u);return S.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx(va,{present:a||u,children:({present:x})=>s.jsx(cr.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:d,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&i})})});F5.displayName=T5;function I5(e,t){return`${e}-trigger-${t}`}function R5(e,t){return`${e}-content-${t}`}var OC=A5,M5=L5,O5=E5,q5=F5;const Dc=OC,fl=S.forwardRef(({className:e,...t},r)=>s.jsx(M5,{ref:r,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fl.displayName=M5.displayName;const Br=S.forwardRef(({className:e,...t},r)=>s.jsx(O5,{ref:r,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Br.displayName=O5.displayName;const Nn=S.forwardRef(({className:e,...t},r)=>s.jsx(q5,{ref:r,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nn.displayName=q5.displayName;const qC=k5({name:Dt().min(1,"Name is required"),client_number:Dt().optional(),email:Dt().email().optional().or(IC("")),phone:Dt().optional(),website:Dt().optional(),vat_number:Dt().optional(),id_number:Dt().optional(),street:Dt().optional(),apt_suite:Dt().optional(),city:Dt().optional(),state_province:Dt().optional(),postal_code:Dt().optional(),country:Dt().default("People's Republic of Bangladesh"),shipping_street:Dt().optional(),shipping_apt_suite:Dt().optional(),shipping_city:Dt().optional(),shipping_state_province:Dt().optional(),shipping_postal_code:Dt().optional(),shipping_country:Dt().optional(),contact_first_name:Dt().optional(),contact_last_name:Dt().optional(),contact_phone:Dt().optional(),contact_email:Dt().optional(),credit_limit:Uo().optional(),payment_terms:Dt().optional(),currency:Dt().default("BDT"),industry:Dt().optional(),client_size:Dt().optional(),classification:Dt().optional(),public_notes:Dt().optional(),private_notes:Dt().optional(),custom_value_1:Dt().optional(),custom_value_2:Dt().optional(),custom_value_3:Dt().optional(),custom_value_4:Dt().optional()}),B5=({initialData:e,onSubmit:t,isLoading:r})=>{const{register:n,handleSubmit:a,formState:{errors:i}}=b5({resolver:_5(qC),defaultValues:e||{country:"People's Republic of Bangladesh",currency:"BDT"}});return s.jsxs("form",{onSubmit:a(t),className:"space-y-6",children:[s.jsxs(Dc,{defaultValue:"basic",className:"w-full",children:[s.jsxs(fl,{className:"grid w-full grid-cols-4",children:[s.jsx(Br,{value:"basic",children:"Basic Info"}),s.jsx(Br,{value:"address",children:"Addresses"}),s.jsx(Br,{value:"financial",children:"Financial"}),s.jsx(Br,{value:"additional",children:"Additional"})]}),s.jsxs(Nn,{value:"basic",className:"space-y-4 mt-4",children:[s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Basic Information"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"name",children:"Client Name *"}),s.jsx(Ie,{id:"name",...n("name")}),i.name&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:i.name.message})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client_number",children:"Client Number"}),s.jsx(Ie,{id:"client_number",...n("client_number")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(Ie,{id:"email",type:"email",...n("email")}),i.email&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:i.email.message})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"phone",children:"Phone"}),s.jsx(Ie,{id:"phone",...n("phone")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"website",children:"Website"}),s.jsx(Ie,{id:"website",...n("website"),placeholder:"https://"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"vat_number",children:"VAT Number"}),s.jsx(Ie,{id:"vat_number",...n("vat_number")})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"id_number",children:"ID Number"}),s.jsx(Ie,{id:"id_number",...n("id_number")})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Contact Person"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"contact_first_name",children:"First Name"}),s.jsx(Ie,{id:"contact_first_name",...n("contact_first_name")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"contact_last_name",children:"Last Name"}),s.jsx(Ie,{id:"contact_last_name",...n("contact_last_name")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"contact_email",children:"Email"}),s.jsx(Ie,{id:"contact_email",type:"email",...n("contact_email")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"contact_phone",children:"Phone"}),s.jsx(Ie,{id:"contact_phone",...n("contact_phone")})]})]})]})]})]}),s.jsxs(Nn,{value:"address",className:"space-y-4 mt-4",children:[s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Billing Address"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"street",children:"Street"}),s.jsx(Ie,{id:"street",...n("street")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"apt_suite",children:"Apt/Suite"}),s.jsx(Ie,{id:"apt_suite",...n("apt_suite")})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"city",children:"City"}),s.jsx(Ie,{id:"city",...n("city")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"state_province",children:"State/Province"}),s.jsx(Ie,{id:"state_province",...n("state_province")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"postal_code",children:"Postal Code"}),s.jsx(Ie,{id:"postal_code",...n("postal_code")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"country",children:"Country"}),s.jsx(Ie,{id:"country",...n("country")})]})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Shipping Address"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"shipping_street",children:"Street"}),s.jsx(Ie,{id:"shipping_street",...n("shipping_street")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"shipping_apt_suite",children:"Apt/Suite"}),s.jsx(Ie,{id:"shipping_apt_suite",...n("shipping_apt_suite")})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"shipping_city",children:"City"}),s.jsx(Ie,{id:"shipping_city",...n("shipping_city")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"shipping_state_province",children:"State/Province"}),s.jsx(Ie,{id:"shipping_state_province",...n("shipping_state_province")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"shipping_postal_code",children:"Postal Code"}),s.jsx(Ie,{id:"shipping_postal_code",...n("shipping_postal_code")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"shipping_country",children:"Country"}),s.jsx(Ie,{id:"shipping_country",...n("shipping_country")})]})]})]})]})]}),s.jsx(Nn,{value:"financial",className:"space-y-4 mt-4",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Financial Settings"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"currency",children:"Currency"}),s.jsx(Ie,{id:"currency",...n("currency")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"credit_limit",children:"Credit Limit"}),s.jsx(Ie,{id:"credit_limit",type:"number",step:"0.01",...n("credit_limit",{valueAsNumber:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"payment_terms",children:"Payment Terms"}),s.jsx(Ie,{id:"payment_terms",...n("payment_terms"),placeholder:"e.g., Net 30"})]})]})]})}),s.jsx(Nn,{value:"additional",className:"space-y-4 mt-4",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Additional Information"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"industry",children:"Industry"}),s.jsx(Ie,{id:"industry",...n("industry")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client_size",children:"Client Size"}),s.jsx(Ie,{id:"client_size",...n("client_size")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"classification",children:"Classification"}),s.jsx(Ie,{id:"classification",...n("classification")})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"public_notes",children:"Public Notes"}),s.jsx(zr,{id:"public_notes",...n("public_notes"),rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"private_notes",children:"Private Notes"}),s.jsx(zr,{id:"private_notes",...n("private_notes"),rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"custom_value_1",children:"Custom Field 1"}),s.jsx(Ie,{id:"custom_value_1",...n("custom_value_1")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"custom_value_2",children:"Custom Field 2"}),s.jsx(Ie,{id:"custom_value_2",...n("custom_value_2")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"custom_value_3",children:"Custom Field 3"}),s.jsx(Ie,{id:"custom_value_3",...n("custom_value_3")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"custom_value_4",children:"Custom Field 4"}),s.jsx(Ie,{id:"custom_value_4",...n("custom_value_4")})]})]})]})]})})]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(je,{type:"submit",disabled:r,children:r?"Saving...":"Save Client"})})]})},es=async({activity:e,entity_type:t,entity_id:r,metadata:n})=>{try{const{data:{user:a}}=await xe.auth.getUser();if(!a)return;const{data:i}=await xe.from("profiles").select("company_id").eq("user_id",a.id).single();if(!(i!=null&&i.company_id))return;let l="Unknown";try{l=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{}await xe.from("activity_log").insert({company_id:i.company_id,user_id:a.id,activity:e,entity_type:t,entity_id:r,metadata:n,ip_address:l,activity_date:new Date().toISOString()})}catch(a){console.error("Failed to log activity:",a)}},BC=(e,t)=>es({activity:`Created invoice ${t}`,entity_type:"invoice",entity_id:e}),zC=(e,t)=>es({activity:`Updated invoice ${t}`,entity_type:"invoice",entity_id:e}),UC=e=>es({activity:`Deleted invoice ${e}`,entity_type:"invoice"}),$C=(e,t)=>es({activity:`Created quote ${t}`,entity_type:"quote",entity_id:e}),WC=(e,t)=>es({activity:`Updated quote ${t}`,entity_type:"quote",entity_id:e}),VC=e=>es({activity:`Deleted quote ${e}`,entity_type:"quote"}),HC=(e,t)=>es({activity:`Downloaded PDF for quote ${t}`,entity_type:"quote",entity_id:e}),YC=(e,t)=>es({activity:`Created client ${t}`,entity_type:"client",entity_id:e}),GC=(e,t)=>es({activity:`Updated client ${t}`,entity_type:"client",entity_id:e}),KC=(e,t)=>es({activity:`Created product ${t}`,entity_type:"product",entity_id:e}),ZC=(e,t)=>es({activity:`Updated product ${t}`,entity_type:"product",entity_id:e}),QC=e=>es({activity:`Deleted product ${e}`,entity_type:"product"}),XC=(e,t,r)=>es({activity:`Recorded payment ${t} for ${r.toFixed(2)}`,entity_type:"payment",entity_id:e}),JC=(e,t,r)=>es({activity:`Created ${t} expense for ${r.toFixed(2)}`,entity_type:"expense",entity_id:e}),eA=(e,t)=>es({activity:`Imported ${t} ${e}(s) from CSV`,entity_type:e,metadata:{count:t}}),X0=(e,t)=>es({activity:`Exported ${t} ${e}(s) to CSV`,entity_type:e,metadata:{count:t}}),tA=()=>{const e=Zt(),{toast:t}=kn(),r=Rr(),n=lr({mutationFn:async a=>{var c;const{data:i}=await xe.from("profiles").select("company_id").eq("user_id",(c=(await xe.auth.getUser()).data.user)==null?void 0:c.id).single(),{data:l,error:o}=await xe.from("clients").insert([{...a,company_id:i==null?void 0:i.company_id}]).select().single();if(o)throw o;return l},onSuccess:async a=>{await YC(a.id,a.name),r.invalidateQueries({queryKey:["clients"]}),t({title:"Success",description:"Client created successfully"}),e(`/clients/${a.id}`)},onError:a=>{t({title:"Error",description:a.message,variant:"destructive"})}});return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"New Client"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new client to your database"})]}),s.jsx(B5,{onSubmit:a=>n.mutateAsync(a),isLoading:n.isPending})]})})},rA=()=>{const{id:e}=Ms(),t=Zt(),{data:r,isLoading:n}=_t({queryKey:["client",e],queryFn:async()=>{const{data:o,error:c}=await xe.from("clients").select("*").eq("id",e).single();if(c)throw c;return o}}),{data:a}=_t({queryKey:["client-invoices",e],queryFn:async()=>{const{data:o}=await xe.from("invoices").select("*").eq("client_id",e).order("created_at",{ascending:!1});return o||[]}}),{data:i}=_t({queryKey:["client-payments",e],queryFn:async()=>{const{data:o}=await xe.from("payments").select("*").eq("client_id",e).order("payment_date",{ascending:!1});return o||[]}}),l=o=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(o).replace("BDT","");return n?s.jsx(dt,{children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),s.jsx("div",{className:"h-64 bg-muted rounded"})]})}):r?s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t("/clients"),children:s.jsx(Sn,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:r.name}),r.client_number&&s.jsxs("p",{className:"text-muted-foreground",children:["#",r.client_number]})]})]}),s.jsxs(je,{onClick:()=>t(`/clients/${e}/edit`),children:[s.jsx(kc,{className:"mr-2 h-4 w-4"}),"Edit"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Balance"})}),s.jsx(wt,{children:s.jsx("p",{className:"text-2xl font-bold",children:l(r.balance||0)})})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Paid to Date"})}),s.jsx(wt,{children:s.jsx("p",{className:"text-2xl font-bold text-status-paid",children:l(r.paid_to_date||0)})})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Credit Limit"})}),s.jsx(wt,{children:s.jsx("p",{className:"text-2xl font-bold",children:r.credit_limit?l(r.credit_limit):"No limit"})})]})]}),s.jsxs(Dc,{defaultValue:"overview",className:"w-full",children:[s.jsxs(fl,{children:[s.jsx(Br,{value:"overview",children:"Overview"}),s.jsxs(Br,{value:"invoices",children:["Invoices (",(a==null?void 0:a.length)||0,")"]}),s.jsxs(Br,{value:"payments",children:["Payments (",(i==null?void 0:i.length)||0,")"]})]}),s.jsxs(Nn,{value:"overview",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Contact Information"})}),s.jsxs(wt,{className:"space-y-3",children:[r.email&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qd,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:r.email})]}),r.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_N,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:r.phone})]}),r.website&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(my,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:r.website})]}),r.vat_number&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"VAT Number"}),s.jsx("p",{className:"font-medium",children:r.vat_number})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Billing Address"})}),s.jsx(wt,{children:s.jsxs("address",{className:"not-italic text-sm space-y-1",children:[r.street&&s.jsx("p",{children:r.street}),r.apt_suite&&s.jsx("p",{children:r.apt_suite}),s.jsxs("p",{children:[[r.city,r.state_province].filter(Boolean).join(", "),r.postal_code&&` ${r.postal_code}`]}),r.country&&s.jsx("p",{children:r.country})]})})]})]}),r.contact_first_name&&s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Contact Person"})}),s.jsxs(wt,{children:[s.jsxs("p",{className:"font-medium",children:[r.contact_first_name," ",r.contact_last_name]}),r.contact_email&&s.jsx("p",{className:"text-sm",children:r.contact_email}),r.contact_phone&&s.jsx("p",{className:"text-sm",children:r.contact_phone})]})]}),r.public_notes&&s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Notes"})}),s.jsx(wt,{children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.public_notes})})]})]}),s.jsx(Nn,{value:"invoices",className:"mt-4",children:s.jsx(_e,{children:s.jsx(wt,{className:"pt-6",children:a&&a.length>0?s.jsx("div",{className:"space-y-2",children:a.map(o=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer",onClick:()=>t(`/invoices/${o.id}`),children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:o.invoice_number}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(o.issue_date).toLocaleDateString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold",children:l(o.total)}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:o.status})]})]},o.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No invoices yet"})})})}),s.jsx(Nn,{value:"payments",className:"mt-4",children:s.jsx(_e,{children:s.jsx(wt,{className:"pt-6",children:i&&i.length>0?s.jsx("div",{className:"space-y-2",children:i.map(o=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:o.payment_number}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(o.payment_date).toLocaleDateString(),"  ",o.payment_method]})]}),s.jsx("p",{className:"font-bold text-status-paid",children:l(o.amount)})]},o.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No payments yet"})})})})]})]})}):s.jsx(dt,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Client not found"}),s.jsx(je,{onClick:()=>t("/clients"),children:"Back to Clients"})]})})},nA=()=>{const{id:e}=Ms(),t=Zt(),r=Rr(),{data:n,isLoading:a}=_t({queryKey:["client",e],queryFn:async()=>{const{data:l}=await xe.from("clients").select("*").eq("id",e).single();return l}}),i=lr({mutationFn:async l=>{const{error:o}=await xe.from("clients").update(l).eq("id",e);if(o)throw o},onSuccess:async()=>{await GC(e,(n==null?void 0:n.name)||"Unknown"),r.invalidateQueries({queryKey:["client",e]}),r.invalidateQueries({queryKey:["clients"]}),Qt({title:"Success",description:"Client updated successfully"}),t(`/clients/${e}`)},onError:l=>{Qt({title:"Error",description:l.message,variant:"destructive"})}});return a?s.jsx(dt,{children:s.jsxs(_e,{className:"p-6 animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})}):n?s.jsx(dt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t(`/clients/${e}`),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Client"}),s.jsx("p",{className:"text-muted-foreground",children:"Update client information"})]})]}),s.jsx(B5,{initialData:n,onSubmit:l=>i.mutateAsync(l),isLoading:i.isPending})]})}):s.jsx(dt,{children:s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Client not found"}),s.jsxs(je,{onClick:()=>t("/clients"),children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Clients"]})]})})})};var z5={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(A4,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,o={},c=0,d={};function u(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var M=z(_);M.chunkSize=parseInt(M.chunkSize),_.step||_.chunk||(M.chunkSize=null),this._handle=new b(M),(this._handle.streamer=this)._config=M}).call(this,k),this.parseChunk=function(_,M){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let W=this._config.newline;W||(A=this._config.quoteChar||'"',W=this._handle.guessLineEndings(_,A)),_=[..._.split(W).slice(C)].join(W)}this.isFirstChunk&&ee(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(_))!==void 0&&(_=A),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+_,A=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=A.meta.cursor,C=(this._finished||(this._partialLine=C.substring(_-this._baseIndex),this._baseIndex=_),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)n.postMessage({results:A,workerId:d.WORKER_ID,finished:C});else if(ee(this._config.chunk)&&!M){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!C||!ee(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(_){ee(this._config.error)?this._config.error(_):l&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:_,finished:!1})}}function p(k){var _;(k=k||{}).chunkSize||(k.chunkSize=d.RemoteChunkSize),u.call(this,k),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=Y(this._chunkLoaded,this),_.onerror=Y(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var M,C=this._config.downloadRequestHeaders;for(M in C)_.setRequestHeader(M,C[M])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+A));try{_.send(this._config.downloadRequestBody)}catch(W){this._chunkError(W.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(M){M=_.statusText||M,this._sendError(new Error(M))}}function x(k){(k=k||{}).chunkSize||(k.chunkSize=d.LocalChunkSize),u.call(this,k);var _,M,C=typeof FileReader<"u";this.stream=function(A){this._input=A,M=A.slice||A.webkitSlice||A.mozSlice,C?((_=new FileReader).onload=Y(this._chunkLoaded,this),_.onerror=Y(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,W=(this._config.chunkSize&&(W=Math.min(this._start+this._config.chunkSize,this._input.size),A=M.call(A,this._start,W)),_.readAsText(A,this._config.encoding));C||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(_.error)}}function f(k){var _;u.call(this,k=k||{}),this.stream=function(M){return _=M,this._nextChunk()},this._nextChunk=function(){var M,C;if(!this._finished)return M=this._config.chunkSize,_=M?(C=_.substring(0,M),_.substring(M)):(C=_,""),this._finished=!_,this.parseChunk(C)}}function g(k){u.call(this,k=k||{});var _=[],M=!0,C=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):M=!0},this._streamData=Y(function(A){try{_.push(typeof A=="string"?A:A.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(W){this._streamError(W)}},this),this._streamError=Y(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=Y(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=Y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(k){var _,M,C,A,W=Math.pow(2,53),U=-W,oe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ue=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,X=0,ne=0,ke=!1,me=!1,L=[],q={data:[],errors:[],meta:{}};function I(ce){return k.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function V(){if(q&&C&&(re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),C=!1),k.skipEmptyLines&&(q.data=q.data.filter(function(Ne){return!I(Ne)})),J()){let Ne=function(Me,Be){ee(k.transformHeader)&&(Me=k.transformHeader(Me,Be)),L.push(Me)};if(q)if(Array.isArray(q.data[0])){for(var ce=0;J()&&ce<q.data.length;ce++)q.data[ce].forEach(Ne);q.data.splice(0,1)}else q.data.forEach(Ne)}function pe(Ne,Me){for(var Be=k.header?{}:[],ze=0;ze<Ne.length;ze++){var $=ze,Re=Ne[ze],Re=((yt,Ue)=>(Pe=>(k.dynamicTypingFunction&&k.dynamicTyping[Pe]===void 0&&(k.dynamicTyping[Pe]=k.dynamicTypingFunction(Pe)),(k.dynamicTyping[Pe]||k.dynamicTyping)===!0))(yt)?Ue==="true"||Ue==="TRUE"||Ue!=="false"&&Ue!=="FALSE"&&((Pe=>{if(oe.test(Pe)&&(Pe=parseFloat(Pe),U<Pe&&Pe<W))return 1})(Ue)?parseFloat(Ue):ue.test(Ue)?new Date(Ue):Ue===""?null:Ue):Ue)($=k.header?ze>=L.length?"__parsed_extra":L[ze]:$,Re=k.transform?k.transform(Re,$):Re);$==="__parsed_extra"?(Be[$]=Be[$]||[],Be[$].push(Re)):Be[$]=Re}return k.header&&(ze>L.length?re("FieldMismatch","TooManyFields","Too many fields: expected "+L.length+" fields but parsed "+ze,ne+Me):ze<L.length&&re("FieldMismatch","TooFewFields","Too few fields: expected "+L.length+" fields but parsed "+ze,ne+Me)),Be}var we;q&&(k.header||k.dynamicTyping||k.transform)&&(we=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(pe),we=q.data.length):q.data=pe(q.data,0),k.header&&q.meta&&(q.meta.fields=L),ne+=we)}function J(){return k.header&&L.length===0}function re(ce,pe,we,Ne){ce={type:ce,code:pe,message:we},Ne!==void 0&&(ce.row=Ne),q.errors.push(ce)}ee(k.step)&&(A=k.step,k.step=function(ce){q=ce,J()?V():(V(),q.data.length!==0&&(X+=ce.data.length,k.preview&&X>k.preview?M.abort():(q.data=q.data[0],A(q,te))))}),this.parse=function(ce,pe,we){var Ne=k.quoteChar||'"',Ne=(k.newline||(k.newline=this.guessLineEndings(ce,Ne)),C=!1,k.delimiter?ee(k.delimiter)&&(k.delimiter=k.delimiter(ce),q.meta.delimiter=k.delimiter):((Ne=((Me,Be,ze,$,Re)=>{var yt,Ue,Pe,Z;Re=Re||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var se=0;se<Re.length;se++){for(var he,Se=Re[se],De=0,Ce=0,Ae=0,Ye=(Pe=void 0,new j({comments:$,delimiter:Se,newline:Be,preview:10}).parse(Me)),Ze=0;Ze<Ye.data.length;Ze++)ze&&I(Ye.data[Ze])?Ae++:(he=Ye.data[Ze].length,Ce+=he,Pe===void 0?Pe=he:0<he&&(De+=Math.abs(he-Pe),Pe=he));0<Ye.data.length&&(Ce/=Ye.data.length-Ae),(Ue===void 0||De<=Ue)&&(Z===void 0||Z<Ce)&&1.99<Ce&&(Ue=De,yt=Se,Z=Ce)}return{successful:!!(k.delimiter=yt),bestDelimiter:yt}})(ce,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=Ne.bestDelimiter:(C=!0,k.delimiter=d.DefaultDelimiter),q.meta.delimiter=k.delimiter),z(k));return k.preview&&k.header&&Ne.preview++,_=ce,M=new j(Ne),q=M.parse(_,pe,we),V(),ke?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return ke},this.pause=function(){ke=!0,M.abort(),_=ee(k.chunk)?"":_.substring(M.getCharIndex())},this.resume=function(){te.streamer._halted?(ke=!1,te.streamer.parseChunk(_,!0)):setTimeout(te.resume,3)},this.aborted=function(){return me},this.abort=function(){me=!0,M.abort(),q.meta.aborted=!0,ee(k.complete)&&k.complete(q),_=""},this.guessLineEndings=function(Me,Ne){Me=Me.substring(0,1048576);var Ne=new RegExp(w(Ne)+"([^]*?)"+w(Ne),"gm"),we=(Me=Me.replace(Ne,"")).split("\r"),Ne=Me.split(`
`),Me=1<Ne.length&&Ne[0].length<we[0].length;if(we.length===1||Me)return`
`;for(var Be=0,ze=0;ze<we.length;ze++)we[ze][0]===`
`&&Be++;return Be>=we.length/2?`\r
`:"\r"}}function w(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(k){var _=(k=k||{}).delimiter,M=k.newline,C=k.comments,A=k.step,W=k.preview,U=k.fastMode,oe=null,ue=!1,te=k.quoteChar==null?'"':k.quoteChar,X=te;if(k.escapeChar!==void 0&&(X=k.escapeChar),(typeof _!="string"||-1<d.BAD_DELIMITERS.indexOf(_))&&(_=","),C===_)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<d.BAD_DELIMITERS.indexOf(C))&&(C=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var ne=0,ke=!1;this.parse=function(me,L,q){if(typeof me!="string")throw new Error("Input must be a string");var I=me.length,V=_.length,J=M.length,re=C.length,ce=ee(A),pe=[],we=[],Ne=[],Me=ne=0;if(!me)return De();if(U||U!==!1&&me.indexOf(te)===-1){for(var Be=me.split(M),ze=0;ze<Be.length;ze++){if(Ne=Be[ze],ne+=Ne.length,ze!==Be.length-1)ne+=M.length;else if(q)return De();if(!C||Ne.substring(0,re)!==C){if(ce){if(pe=[],Z(Ne.split(_)),Ce(),ke)return De()}else Z(Ne.split(_));if(W&&W<=ze)return pe=pe.slice(0,W),De(!0)}}return De()}for(var $=me.indexOf(_,ne),Re=me.indexOf(M,ne),yt=new RegExp(w(X)+w(te),"g"),Ue=me.indexOf(te,ne);;)if(me[ne]===te)for(Ue=ne,ne++;;){if((Ue=me.indexOf(te,Ue+1))===-1)return q||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:pe.length,index:ne}),he();if(Ue===I-1)return he(me.substring(ne,Ue).replace(yt,te));if(te===X&&me[Ue+1]===X)Ue++;else if(te===X||Ue===0||me[Ue-1]!==X){$!==-1&&$<Ue+1&&($=me.indexOf(_,Ue+1));var Pe=se((Re=Re!==-1&&Re<Ue+1?me.indexOf(M,Ue+1):Re)===-1?$:Math.min($,Re));if(me.substr(Ue+1+Pe,V)===_){Ne.push(me.substring(ne,Ue).replace(yt,te)),me[ne=Ue+1+Pe+V]!==te&&(Ue=me.indexOf(te,ne)),$=me.indexOf(_,ne),Re=me.indexOf(M,ne);break}if(Pe=se(Re),me.substring(Ue+1+Pe,Ue+1+Pe+J)===M){if(Ne.push(me.substring(ne,Ue).replace(yt,te)),Se(Ue+1+Pe+J),$=me.indexOf(_,ne),Ue=me.indexOf(te,ne),ce&&(Ce(),ke))return De();if(W&&pe.length>=W)return De(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:pe.length,index:ne}),Ue++}}else if(C&&Ne.length===0&&me.substring(ne,ne+re)===C){if(Re===-1)return De();ne=Re+J,Re=me.indexOf(M,ne),$=me.indexOf(_,ne)}else if($!==-1&&($<Re||Re===-1))Ne.push(me.substring(ne,$)),ne=$+V,$=me.indexOf(_,ne);else{if(Re===-1)break;if(Ne.push(me.substring(ne,Re)),Se(Re+J),ce&&(Ce(),ke))return De();if(W&&pe.length>=W)return De(!0)}return he();function Z(Ae){pe.push(Ae),Me=ne}function se(Ae){var Ye=0;return Ye=Ae!==-1&&(Ae=me.substring(Ue+1,Ae))&&Ae.trim()===""?Ae.length:Ye}function he(Ae){return q||(Ae===void 0&&(Ae=me.substring(ne)),Ne.push(Ae),ne=I,Z(Ne),ce&&Ce()),De()}function Se(Ae){ne=Ae,Z(Ne),Ne=[],Re=me.indexOf(M,ne)}function De(Ae){if(k.header&&!L&&pe.length&&!ue){var Ye=pe[0],Ze=Object.create(null),Ke=new Set(Ye);let bt=!1;for(let Qe=0;Qe<Ye.length;Qe++){let er=Ye[Qe];if(Ze[er=ee(k.transformHeader)?k.transformHeader(er,Qe):er]){let Lt,jt=Ze[er];for(;Lt=er+"_"+jt,jt++,Ke.has(Lt););Ke.add(Lt),Ye[Qe]=Lt,Ze[er]++,bt=!0,(oe=oe===null?{}:oe)[Lt]=er}else Ze[er]=1,Ye[Qe]=er;Ke.add(er)}bt&&console.warn("Duplicate headers found and renamed."),ue=!0}return{data:pe,errors:we,meta:{delimiter:_,linebreak:M,aborted:ke,truncated:!!Ae,cursor:Me+(L||0),renamedHeaders:oe}}}function Ce(){A(De()),pe=[],we=[]}},this.abort=function(){ke=!0},this.getCharIndex=function(){return ne}}function P(k){var _=k.data,M=o[_.workerId],C=!1;if(_.error)M.userError(_.error,_.file);else if(_.results&&_.results.data){var A={abort:function(){C=!0,F(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(ee(M.userStep)){for(var W=0;W<_.results.data.length&&(M.userStep({data:_.results.data[W],errors:_.results.errors,meta:_.results.meta},A),!C);W++);delete _.results}else ee(M.userChunk)&&(M.userChunk(_.results,A,_.file),delete _.results)}_.finished&&!C&&F(_.workerId,_.results)}function F(k,_){var M=o[k];ee(M.userComplete)&&M.userComplete(_),M.terminate(),delete o[k]}function D(){throw new Error("Not implemented.")}function z(k){if(typeof k!="object"||k===null)return k;var _,M=Array.isArray(k)?[]:{};for(_ in k)M[_]=z(k[_]);return M}function Y(k,_){return function(){k.apply(_,arguments)}}function ee(k){return typeof k=="function"}return d.parse=function(k,_){var M=(_=_||{}).dynamicTyping||!1;if(ee(M)&&(_.dynamicTypingFunction=M,M={}),_.dynamicTyping=M,_.transform=!!ee(_.transform)&&_.transform,!_.worker||!d.WORKERS_SUPPORTED)return M=null,d.NODE_STREAM_INPUT,typeof k=="string"?(k=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(k),M=new(_.download?p:f)(_)):k.readable===!0&&ee(k.read)&&ee(k.on)?M=new g(_):(n.File&&k instanceof File||k instanceof Object)&&(M=new x(_)),M.stream(k);(M=(()=>{var C;return!!d.WORKERS_SUPPORTED&&(C=(()=>{var A=n.URL||n.webkitURL||null,W=r.toString();return d.BLOB_URL||(d.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))})(),(C=new n.Worker(C)).onmessage=P,C.id=c++,o[C.id]=C)})()).userStep=_.step,M.userChunk=_.chunk,M.userComplete=_.complete,M.userError=_.error,_.step=ee(_.step),_.chunk=ee(_.chunk),_.complete=ee(_.complete),_.error=ee(_.error),delete _.worker,M.postMessage({input:k,config:_,workerId:M.id})},d.unparse=function(k,_){var M=!1,C=!0,A=",",W=`\r
`,U='"',oe=U+U,ue=!1,te=null,X=!1,ne=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||d.BAD_DELIMITERS.filter(function(L){return _.delimiter.indexOf(L)!==-1}).length||(A=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(M=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(ue=_.skipEmptyLines),typeof _.newline=="string"&&(W=_.newline),typeof _.quoteChar=="string"&&(U=_.quoteChar),typeof _.header=="boolean"&&(C=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");te=_.columns}_.escapeChar!==void 0&&(oe=_.escapeChar+U),_.escapeFormulae instanceof RegExp?X=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(X=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(U),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return ke(null,k,ue);if(typeof k[0]=="object")return ke(te||Object.keys(k[0]),k,ue)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||te),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),ke(k.fields||[],k.data||[],ue);throw new Error("Unable to serialize unrecognized input");function ke(L,q,I){var V="",J=(typeof L=="string"&&(L=JSON.parse(L)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(L)&&0<L.length),re=!Array.isArray(q[0]);if(J&&C){for(var ce=0;ce<L.length;ce++)0<ce&&(V+=A),V+=me(L[ce],ce);0<q.length&&(V+=W)}for(var pe=0;pe<q.length;pe++){var we=(J?L:q[pe]).length,Ne=!1,Me=J?Object.keys(q[pe]).length===0:q[pe].length===0;if(I&&!J&&(Ne=I==="greedy"?q[pe].join("").trim()==="":q[pe].length===1&&q[pe][0].length===0),I==="greedy"&&J){for(var Be=[],ze=0;ze<we;ze++){var $=re?L[ze]:ze;Be.push(q[pe][$])}Ne=Be.join("").trim()===""}if(!Ne){for(var Re=0;Re<we;Re++){0<Re&&!Me&&(V+=A);var yt=J&&re?L[Re]:Re;V+=me(q[pe][yt],Re)}pe<q.length-1&&(!I||0<we&&!Me)&&(V+=W)}}return V}function me(L,q){var I,V;return L==null?"":L.constructor===Date?JSON.stringify(L).slice(1,25):(V=!1,X&&typeof L=="string"&&X.test(L)&&(L="'"+L,V=!0),I=L.toString().replace(ne,oe),(V=V||M===!0||typeof M=="function"&&M(L,q)||Array.isArray(M)&&M[q]||((J,re)=>{for(var ce=0;ce<re.length;ce++)if(-1<J.indexOf(re[ce]))return!0;return!1})(I,d.BAD_DELIMITERS)||-1<I.indexOf(A)||I.charAt(0)===" "||I.charAt(I.length-1)===" ")?U+I+U:I)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=j,d.ParserHandle=b,d.NetworkStreamer=p,d.FileStreamer=x,d.StringStreamer=f,d.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(k){var _=k.config||{},M=[];return this.each(function(W){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)M.push({file:this.files[U],inputElem:this,instanceConfig:a.extend({},_)})}),C(),this;function C(){if(M.length===0)ee(k.complete)&&k.complete();else{var W,U,oe,ue,te=M[0];if(ee(k.before)){var X=k.before(te.file,te.inputElem);if(typeof X=="object"){if(X.action==="abort")return W="AbortError",U=te.file,oe=te.inputElem,ue=X.reason,void(ee(k.error)&&k.error({name:W},U,oe,ue));if(X.action==="skip")return void A();typeof X.config=="object"&&(te.instanceConfig=a.extend(te.instanceConfig,X.config))}else if(X==="skip")return void A()}var ne=te.instanceConfig.complete;te.instanceConfig.complete=function(ke){ee(ne)&&ne(ke,te.file,te.inputElem),A()},d.parse(te.file,te.instanceConfig)}}function A(){M.splice(0,1),C()}}),l&&(n.onmessage=function(k){k=k.data,d.WORKER_ID===void 0&&k&&(d.WORKER_ID=k.workerId),typeof k.input=="string"?n.postMessage({workerId:d.WORKER_ID,results:d.parse(k.input,k.config),finished:!0}):(n.File&&k.input instanceof File||k.input instanceof Object)&&(k=d.parse(k.input,k.config))&&n.postMessage({workerId:d.WORKER_ID,results:k,finished:!0})}),(p.prototype=Object.create(u.prototype)).constructor=p,(x.prototype=Object.create(u.prototype)).constructor=x,(f.prototype=Object.create(f.prototype)).constructor=f,(g.prototype=Object.create(u.prototype)).constructor=g,d})})(z5);var sA=z5.exports;const Sh=P4(sA),J0=(e,t)=>{const r=Sh.unparse(e),n=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(a.download!==void 0){const i=URL.createObjectURL(n);a.setAttribute("href",i),a.setAttribute("download",t),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},aA=(e,t)=>e.map(r=>{const n=t.find(a=>a.id===r.client_id);return{"Invoice Number":r.invoice_number,"Client Name":(n==null?void 0:n.name)||"","Client Email":(n==null?void 0:n.email)||"","PO Number":r.po_number||"","Issue Date":r.issue_date,"Due Date":r.due_date||"",Status:r.status,Subtotal:r.subtotal,"Tax Amount":r.tax_amount||0,Discount:r.discount||0,Total:r.total,Balance:r.balance,"Paid to Date":r.paid_to_date||0,Currency:r.currency||"BDT","Public Notes":r.public_notes||"","Private Notes":r.private_notes||"","Created At":r.created_at}}),iA=(e,t)=>e.map(r=>{const n=t.find(a=>a.id===r.client_id);return{"Quote Number":r.quote_number,"Client Name":(n==null?void 0:n.name)||"","Client Email":(n==null?void 0:n.email)||"","Issue Date":r.issue_date,"Expiry Date":r.expiry_date||"",Status:r.status,Subtotal:r.subtotal,"Tax Amount":r.tax_amount||0,Discount:r.discount||0,Total:r.total,Currency:"BDT","Public Notes":r.public_notes||"","Private Notes":r.private_notes||"","Created At":r.created_at}}),oA=e=>e.map(t=>({"Product Name":t.name,SKU:t.sku||"",Description:t.description||"",Category:t.category||"","Cost Price":t.cost_price||0,"Sale Price":t.sale_price,"Stock Quantity":t.stock_quantity||0,"Low Stock Alert":t.low_stock_alert||"","Reorder Point":t.reorder_point||"","Tax Rate 1":t.tax_rate_1||0,"Tax Rate 2":t.tax_rate_2||0,"Tax Rate 3":t.tax_rate_3||0,Currency:t.currency||"BDT",Size:t.size||"","Material Type":t.material_type||"","Vehicle Compatibility":t.vehicle_compatibility?t.vehicle_compatibility.join(", "):"","Is Active":t.is_active?"Yes":"No",Notes:t.notes||"","Created At":t.created_at})),YF=e=>e.map(t=>({"Invoice Number":t.invoice_number,"Issue Date":t.issue_date,"Due Date":t.due_date||"",Status:t.status,Subtotal:t.subtotal,"Tax Amount":t.tax_amount||0,Discount:t.discount||0,Total:t.total,Balance:t.balance,"Paid to Date":t.paid_to_date||0})),GF=e=>e.map(t=>({"Invoice Number":t.invoice_number,"Invoice Date":t.issue_date,"Net Amount":t.subtotal,"VAT Rate":t.tax_rate_1||15,"VAT Amount":t.tax_amount||0,"Gross Amount":t.total,Status:t.status})),KF=(e,t)=>{const r=new Date;return e.map(n=>{const a=t.find(c=>c.id===n.client_id),i=new Date(n.due_date||n.issue_date),l=Math.floor((r.getTime()-i.getTime())/(1e3*60*60*24));let o="Current";return l>0&&(l<=30?o="1-30 Days":l<=60?o="31-60 Days":l<=90?o="61-90 Days":o="90+ Days"),{"Client Name":(a==null?void 0:a.name)||"","Invoice Number":n.invoice_number,"Issue Date":n.issue_date,"Due Date":n.due_date||"","Days Overdue":Math.max(0,l),"Aging Bucket":o,Balance:n.balance,Status:n.status}})},ZF=(e,t)=>{const r=e.reduce((a,i)=>a+(i.paid_to_date||0),0),n=t.reduce((a,i)=>a+i.amount,0);return[{Category:"REVENUE",Amount:r},{Category:"Total Revenue",Amount:r},{Category:"",Amount:""},{Category:"EXPENSES",Amount:""},...t.map(a=>({Category:a.category,Amount:a.amount})),{Category:"Total Expenses",Amount:n},{Category:"",Amount:""},{Category:"NET PROFIT/LOSS",Amount:r-n}]},lA=()=>{const[e,t]=S.useState(""),r=Zt(),{data:n,isLoading:a}=_t({queryKey:["products",e],queryFn:async()=>{let o=xe.from("products").select("*").eq("is_active",!0).order("created_at",{ascending:!1});e&&(o=o.or(`name.ilike.%${e}%,sku.ilike.%${e}%,description.ilike.%${e}%`));const{data:c}=await o;return c||[]}}),i=async()=>{if(!n||n.length===0)return;const o=oA(n);J0(o,`products_export_${new Date().toISOString().split("T")[0]}.csv`),await X0("products",n.length)},l=o=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(o).replace("BDT","");return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your product catalog and inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{variant:"outline",onClick:i,disabled:!n||n.length===0,children:[s.jsx(wo,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),s.jsxs(je,{variant:"outline",onClick:()=>r("/import/products"),children:[s.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Import CSV"]}),s.jsxs(je,{onClick:()=>r("/products/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"New Product"]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(mf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(Ie,{placeholder:"Search products...",value:e,onChange:o=>t(o.target.value),className:"pl-10"})]})}),a?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3,4,5,6,7,8].map(o=>s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-32 bg-muted rounded"}),s.jsx("div",{className:"h-6 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})},o))}):(n==null?void 0:n.length)===0?s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:e?"Try a different search term":"Get started by adding your first product"}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(je,{onClick:()=>r("/products/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Add Product"]}),s.jsxs(je,{variant:"outline",onClick:()=>r("/import/products"),children:[s.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Import CSV"]})]})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n==null?void 0:n.map(o=>s.jsxs(_e,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(`/products/${o.id}`),children:[o.image_url&&s.jsx("div",{className:"h-32 bg-muted flex items-center justify-center",children:s.jsx("img",{src:o.image_url,alt:o.name,className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:o.name}),o.sku&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",o.sku]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-primary",children:l(o.sale_price)}),o.stock_quantity!==null&&s.jsxs(yr,{variant:o.stock_quantity>(o.low_stock_alert||10)?"default":"destructive",children:["Stock: ",o.stock_quantity]})]}),o.category&&s.jsx(yr,{variant:"outline",children:o.category})]})]},o.id))})]})})};var Af="Checkbox",[cA,QF]=Zs(Af),[dA,ex]=cA(Af);function uA(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:l,name:o,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:p}=e,[x,f]=Sc({prop:r,defaultProp:a??!1,onChange:c,caller:Af}),[g,b]=S.useState(null),[w,j]=S.useState(null),P=S.useRef(!1),F=g?!!l||!!g.closest("form"):!0,D={checked:x,disabled:i,setChecked:f,control:g,setControl:b,name:o,form:l,value:u,hasConsumerStoppedPropagationRef:P,required:d,defaultChecked:fo(a)?!1:a,isFormControl:F,bubbleInput:w,setBubbleInput:j};return s.jsx(dA,{scope:t,...D,children:hA(p)?p(D):n})}var U5="CheckboxTrigger",$5=S.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:l,disabled:o,checked:c,required:d,setControl:u,setChecked:p,hasConsumerStoppedPropagationRef:x,isFormControl:f,bubbleInput:g}=ex(U5,e),b=cn(a,u),w=S.useRef(c);return S.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const P=()=>p(w.current);return j.addEventListener("reset",P),()=>j.removeEventListener("reset",P)}},[i,p]),s.jsx(cr.button,{type:"button",role:"checkbox","aria-checked":fo(c)?"mixed":c,"aria-required":d,"data-state":G5(c),"data-disabled":o?"":void 0,disabled:o,value:l,...n,ref:b,onKeyDown:Xt(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Xt(r,j=>{p(P=>fo(P)?!0:!P),g&&f&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})})});$5.displayName=U5;var tx=S.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...p}=e;return s.jsx(uA,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:o,required:l,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:x})=>s.jsxs(s.Fragment,{children:[s.jsx($5,{...p,ref:t,__scopeCheckbox:r}),x&&s.jsx(Y5,{__scopeCheckbox:r})]})})});tx.displayName=Af;var W5="CheckboxIndicator",V5=S.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=ex(W5,r);return s.jsx(va,{present:n||fo(i.checked)||i.checked===!0,children:s.jsx(cr.span,{"data-state":G5(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});V5.displayName=W5;var H5="CheckboxBubbleInput",Y5=S.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:o,disabled:c,name:d,value:u,form:p,bubbleInput:x,setBubbleInput:f}=ex(H5,e),g=cn(r,f),b=x0(i),w=g0(n);S.useEffect(()=>{const P=x;if(!P)return;const F=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(F,"checked").set,Y=!a.current;if(b!==i&&z){const ee=new Event("click",{bubbles:Y});P.indeterminate=fo(i),z.call(P,fo(i)?!1:i),P.dispatchEvent(ee)}},[x,b,i,a]);const j=S.useRef(fo(i)?!1:i);return s.jsx(cr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:o,disabled:c,name:d,value:u,form:p,...t,tabIndex:-1,ref:g,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Y5.displayName=H5;function hA(e){return typeof e=="function"}function fo(e){return e==="indeterminate"}function G5(e){return fo(e)?"indeterminate":e?"checked":"unchecked"}const Pf=S.forwardRef(({className:e,...t},r)=>s.jsx(tx,{ref:r,className:We("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(V5,{className:We("flex items-center justify-center text-current"),children:s.jsx(Ts,{className:"h-4 w-4"})})}));Pf.displayName=tx.displayName;const fA=k5({name:Dt().min(1,"Name is required"),sku:Dt().optional(),description:Dt().optional(),notes:Dt().optional(),category:Dt().optional(),cost_price:Uo().min(0).optional(),sale_price:Uo().min(0,"Sale price is required"),currency:Dt().default("BDT"),stock_quantity:Uo().int().min(0).optional(),low_stock_alert:Uo().int().min(0).optional(),reorder_point:Uo().int().min(0).optional(),tax_rate_1:Uo().min(0).max(100).optional(),tax_name_1:Dt().optional(),material_type:Dt().optional(),size:Dt().optional(),custom_value_1:Dt().optional(),custom_value_2:Dt().optional(),custom_value_3:Dt().optional(),custom_value_4:Dt().optional(),is_active:FC().default(!0)}),K5=({initialData:e,onSubmit:t,isLoading:r})=>{const{register:n,handleSubmit:a,formState:{errors:i},watch:l,setValue:o}=b5({resolver:_5(fA),defaultValues:e||{currency:"BDT",is_active:!0,tax_rate_1:10,tax_name_1:"VAT"}}),c=l("is_active");return s.jsxs("form",{onSubmit:a(t),className:"space-y-6",children:[s.jsxs(Dc,{defaultValue:"basic",className:"w-full",children:[s.jsxs(fl,{className:"grid w-full grid-cols-4",children:[s.jsx(Br,{value:"basic",children:"Basic Info"}),s.jsx(Br,{value:"pricing",children:"Pricing"}),s.jsx(Br,{value:"inventory",children:"Inventory"}),s.jsx(Br,{value:"additional",children:"Additional"})]}),s.jsx(Nn,{value:"basic",className:"space-y-4 mt-4",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Basic Information"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"name",children:"Product Name *"}),s.jsx(Ie,{id:"name",...n("name")}),i.name&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:i.name.message})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"sku",children:"SKU"}),s.jsx(Ie,{id:"sku",...n("sku"),placeholder:"e.g., STK-001"})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"description",children:"Description"}),s.jsx(zr,{id:"description",...n("description"),rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"category",children:"Category"}),s.jsx(Ie,{id:"category",...n("category"),placeholder:"e.g., Window Stickers"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pf,{id:"is_active",checked:c,onCheckedChange:d=>o("is_active",d)}),s.jsx(fe,{htmlFor:"is_active",className:"cursor-pointer",children:"Active Product"})]})]})]})}),s.jsx(Nn,{value:"pricing",className:"space-y-4 mt-4",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Pricing"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"cost_price",children:"Cost Price"}),s.jsx(Ie,{id:"cost_price",type:"number",step:"0.01",...n("cost_price",{valueAsNumber:!0})})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"sale_price",children:"Sale Price *"}),s.jsx(Ie,{id:"sale_price",type:"number",step:"0.01",...n("sale_price",{valueAsNumber:!0})}),i.sale_price&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:i.sale_price.message})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"currency",children:"Currency"}),s.jsx(Ie,{id:"currency",...n("currency")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"tax_name_1",children:"Tax Name"}),s.jsx(Ie,{id:"tax_name_1",...n("tax_name_1"),placeholder:"VAT"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"tax_rate_1",children:"Tax Rate (%)"}),s.jsx(Ie,{id:"tax_rate_1",type:"number",step:"0.01",...n("tax_rate_1",{valueAsNumber:!0})})]})]})]})]})}),s.jsxs(Nn,{value:"inventory",className:"space-y-4 mt-4",children:[s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Inventory Management"})}),s.jsx(wt,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"stock_quantity",children:"Stock Quantity"}),s.jsx(Ie,{id:"stock_quantity",type:"number",...n("stock_quantity",{valueAsNumber:!0})})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"low_stock_alert",children:"Low Stock Alert"}),s.jsx(Ie,{id:"low_stock_alert",type:"number",...n("low_stock_alert",{valueAsNumber:!0}),placeholder:"10"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"reorder_point",children:"Reorder Point"}),s.jsx(Ie,{id:"reorder_point",type:"number",...n("reorder_point",{valueAsNumber:!0}),placeholder:"20"})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Automotive Details"})}),s.jsx(wt,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"material_type",children:"Material Type"}),s.jsx(Ie,{id:"material_type",...n("material_type"),placeholder:"e.g., UV Matte, Glossy"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"size",children:"Size"}),s.jsx(Ie,{id:"size",...n("size"),placeholder:"e.g., 10x15 cm"})]})]})})]})]}),s.jsx(Nn,{value:"additional",className:"space-y-4 mt-4",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Additional Information"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"notes",children:"Internal Notes"}),s.jsx(zr,{id:"notes",...n("notes"),rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"custom_value_1",children:"Custom Field 1"}),s.jsx(Ie,{id:"custom_value_1",...n("custom_value_1")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"custom_value_2",children:"Custom Field 2"}),s.jsx(Ie,{id:"custom_value_2",...n("custom_value_2")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"custom_value_3",children:"Custom Field 3"}),s.jsx(Ie,{id:"custom_value_3",...n("custom_value_3")})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"custom_value_4",children:"Custom Field 4"}),s.jsx(Ie,{id:"custom_value_4",...n("custom_value_4")})]})]})]})]})})]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(je,{type:"submit",disabled:r,children:r?"Saving...":"Save Product"})})]})},mA=()=>{const e=Zt(),{toast:t}=kn(),r=Rr(),n=lr({mutationFn:async a=>{var c;const{data:i}=await xe.from("profiles").select("company_id").eq("user_id",(c=(await xe.auth.getUser()).data.user)==null?void 0:c.id).single(),{data:l,error:o}=await xe.from("products").insert([{...a,company_id:i==null?void 0:i.company_id}]).select().single();if(o)throw o;return l},onSuccess:async a=>{await KC(a.id,a.name),r.invalidateQueries({queryKey:["products"]}),t({title:"Success",description:"Product created successfully"}),e(`/products/${a.id}`)},onError:a=>{t({title:"Error",description:a.message,variant:"destructive"})}});return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"New Product"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new product to your catalog"})]}),s.jsx(K5,{onSubmit:a=>n.mutateAsync(a),isLoading:n.isPending})]})})};var Z5="AlertDialog",[pA,XF]=Zs(Z5,[T2]),_i=T2(),Q5=e=>{const{__scopeAlertDialog:t,...r}=e,n=_i(t);return s.jsx(P2,{...n,...r,modal:!0})};Q5.displayName=Z5;var xA="AlertDialogTrigger",X5=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_i(r);return s.jsx(L2,{...a,...n,ref:t})});X5.displayName=xA;var gA="AlertDialogPortal",J5=e=>{const{__scopeAlertDialog:t,...r}=e,n=_i(t);return s.jsx(A2,{...n,...r})};J5.displayName=gA;var vA="AlertDialogOverlay",ew=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_i(r);return s.jsx(u0,{...a,...n,ref:t})});ew.displayName=vA;var Ul="AlertDialogContent",[yA,bA]=pA(Ul),wA=g2("AlertDialogContent"),tw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=_i(r),l=S.useRef(null),o=cn(t,l),c=S.useRef(null);return s.jsx(y4,{contentName:Ul,titleName:rw,docsSlug:"alert-dialog",children:s.jsx(yA,{scope:r,cancelRef:c,children:s.jsxs(h0,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:Xt(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(wA,{children:n}),s.jsx(jA,{contentRef:l})]})})})});tw.displayName=Ul;var rw="AlertDialogTitle",nw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_i(r);return s.jsx(m0,{...a,...n,ref:t})});nw.displayName=rw;var sw="AlertDialogDescription",aw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_i(r);return s.jsx(p0,{...a,...n,ref:t})});aw.displayName=sw;var _A="AlertDialogAction",iw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_i(r);return s.jsx(f0,{...a,...n,ref:t})});iw.displayName=_A;var ow="AlertDialogCancel",lw=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=bA(ow,r),i=_i(r),l=cn(t,a);return s.jsx(f0,{...i,...n,ref:l})});lw.displayName=ow;var jA=({contentRef:e})=>{const t=`\`${Ul}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ul}\` by passing a \`${sw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ul}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},NA=Q5,SA=X5,kA=J5,cw=ew,dw=tw,uw=iw,hw=lw,fw=nw,mw=aw;const du=NA,uu=SA,CA=kA,pw=S.forwardRef(({className:e,...t},r)=>s.jsx(cw,{className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));pw.displayName=cw.displayName;const Ec=S.forwardRef(({className:e,...t},r)=>s.jsxs(CA,{children:[s.jsx(pw,{}),s.jsx(dw,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ec.displayName=dw.displayName;const Tc=({className:e,...t})=>s.jsx("div",{className:We("flex flex-col space-y-2 text-center sm:text-left",e),...t});Tc.displayName="AlertDialogHeader";const Fc=({className:e,...t})=>s.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fc.displayName="AlertDialogFooter";const Ic=S.forwardRef(({className:e,...t},r)=>s.jsx(fw,{ref:r,className:We("text-lg font-semibold",e),...t}));Ic.displayName=fw.displayName;const Rc=S.forwardRef(({className:e,...t},r)=>s.jsx(mw,{ref:r,className:We("text-sm text-muted-foreground",e),...t}));Rc.displayName=mw.displayName;const Mc=S.forwardRef(({className:e,...t},r)=>s.jsx(uw,{ref:r,className:We(zd(),e),...t}));Mc.displayName=uw.displayName;const Oc=S.forwardRef(({className:e,...t},r)=>s.jsx(hw,{ref:r,className:We(zd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Oc.displayName=hw.displayName;const AA=()=>{const{id:e}=Ms(),t=Zt(),r=Rr(),{data:n,isLoading:a}=_t({queryKey:["product",e],queryFn:async()=>{const{data:c}=await xe.from("products").select("*").eq("id",e).single();return c}}),i=lr({mutationFn:async()=>{const{error:c}=await xe.from("products").delete().eq("id",e);if(c)throw c},onSuccess:async()=>{await QC((n==null?void 0:n.name)||"Unknown"),r.invalidateQueries({queryKey:["products"]}),Qt({title:"Success",description:"Product deleted successfully"}),t("/products")},onError:c=>{Qt({title:"Error",description:c.message,variant:"destructive"})}}),l=c=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(c).replace("BDT","");if(a)return s.jsx(dt,{children:s.jsxs(_e,{className:"p-6 animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})});if(!n)return s.jsx(dt,{children:s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Product not found"}),s.jsxs(je,{onClick:()=>t("/products"),children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Products"]})]})})});const o=n.stock_quantity<=(n.low_stock_alert||0);return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t("/products"),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.name}),!n.is_active&&s.jsx(yr,{variant:"secondary",children:"Inactive"}),o&&s.jsx(yr,{variant:"destructive",children:"Low Stock"})]}),n.sku&&s.jsxs("p",{className:"text-muted-foreground",children:["SKU: ",n.sku]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{variant:"outline",onClick:()=>t(`/products/${e}/edit`),children:[s.jsx(kc,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(du,{children:[s.jsx(uu,{asChild:!0,children:s.jsxs(je,{variant:"outline",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(Ec,{children:[s.jsxs(Tc,{children:[s.jsx(Ic,{children:"Delete Product?"}),s.jsx(Rc,{children:"This action cannot be undone. This will permanently delete the product."})]}),s.jsxs(Fc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(Mc,{onClick:()=>i.mutate(),children:"Delete"})]})]})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Sale Price"}),s.jsx("div",{className:"text-3xl font-bold text-primary",children:l(n.sale_price)})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Cost Price"}),s.jsx("div",{className:"text-3xl font-bold",children:l(n.cost_price||0)})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Stock"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hl,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("div",{className:"text-3xl font-bold",children:n.stock_quantity||0})]})]})]}),n.image_url&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Product Image"}),s.jsx("img",{src:n.image_url,alt:n.name,className:"max-w-md rounded-lg"})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Product Details"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.description&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]}),n.category&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Category"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.category})]}),n.size&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Size"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.size})]}),n.material_type&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Material Type"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.material_type})]}),n.low_stock_alert&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Low Stock Alert"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.low_stock_alert," units"]})]}),n.reorder_point&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Reorder Point"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.reorder_point," units"]})]})]})]}),n.vehicle_compatibility&&n.vehicle_compatibility.length>0&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Vehicle Compatibility"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.vehicle_compatibility.map((c,d)=>s.jsx(yr,{variant:"secondary",children:c},d))})]}),n.notes&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:n.notes})]})]})})},PA=()=>{const{id:e}=Ms(),t=Zt(),r=Rr(),{data:n,isLoading:a}=_t({queryKey:["product",e],queryFn:async()=>{const{data:l}=await xe.from("products").select("*").eq("id",e).single();return l}}),i=lr({mutationFn:async l=>{const{error:o}=await xe.from("products").update(l).eq("id",e);if(o)throw o},onSuccess:async()=>{await ZC(e,(n==null?void 0:n.name)||"Unknown"),r.invalidateQueries({queryKey:["product",e]}),r.invalidateQueries({queryKey:["products"]}),Qt({title:"Success",description:"Product updated successfully"}),t(`/products/${e}`)},onError:l=>{Qt({title:"Error",description:l.message,variant:"destructive"})}});return a?s.jsx(dt,{children:s.jsxs(_e,{className:"p-6 animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})}):n?s.jsx(dt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t(`/products/${e}`),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Product"}),s.jsx("p",{className:"text-muted-foreground",children:"Update product information"})]})]}),s.jsx(K5,{initialData:n,onSubmit:l=>i.mutateAsync(l),isLoading:i.isPending})]})}):s.jsx(dt,{children:s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Product not found"}),s.jsxs(je,{onClick:()=>t("/products"),children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Products"]})]})})})},LA=()=>{const[e,t]=S.useState(""),r=Zt(),{data:n,isLoading:a}=_t({queryKey:["invoices",e],queryFn:async()=>{let c=xe.from("invoices").select("*, clients(name, email)").order("created_at",{ascending:!1});e&&(c=c.or(`invoice_number.ilike.%${e}%,po_number.ilike.%${e}%`));const{data:d}=await c;return d||[]}}),i=async()=>{if(!n||n.length===0)return;const c=n.map(u=>u.clients).filter(Boolean),d=aA(n,c);J0(d,`invoices_export_${new Date().toISOString().split("T")[0]}.csv`),await X0("invoices",n.length)},l=c=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(c).replace("BDT",""),o=c=>({draft:"bg-status-draft",sent:"bg-status-sent",viewed:"bg-status-viewed",partial:"bg-status-partial",paid:"bg-status-paid",overdue:"bg-status-overdue"})[c]||"bg-muted";return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Invoices"}),s.jsx("p",{className:"text-muted-foreground",children:"Create and manage invoices"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{variant:"outline",onClick:i,disabled:!n||n.length===0,children:[s.jsx(wo,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),s.jsxs(je,{onClick:()=>r("/invoices/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"New Invoice"]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(mf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(Ie,{placeholder:"Search invoices...",value:e,onChange:c=>t(c.target.value),className:"pl-10"})]})}),a?s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(c=>s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx("div",{className:"h-5 bg-muted rounded w-1/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/3"})]}),s.jsx("div",{className:"h-8 bg-muted rounded w-24"})]})},c))}):(n==null?void 0:n.length)===0?s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No invoices found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:e?"Try a different search term":"Get started by creating your first invoice"}),s.jsxs(je,{onClick:()=>r("/invoices/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Create Invoice"]})]})}):s.jsx("div",{className:"space-y-4",children:n==null?void 0:n.map(c=>{var d,u;return s.jsx(_e,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(`/invoices/${c.id}`),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"font-semibold text-lg",children:c.invoice_number}),s.jsx(yr,{className:o(c.status||"draft"),children:(d=c.status)==null?void 0:d.toUpperCase()})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(u=c.clients)==null?void 0:u.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Issued: ",nt(new Date(c.issue_date),"dd MMM yyyy"),c.due_date&&`  Due: ${nt(new Date(c.due_date),"dd MMM yyyy")}`]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:l(c.total)}),c.balance>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",l(c.balance)]})]})]})},c.id)})})]})})},pn=S4,xn=k4,on=S.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(F2,{ref:n,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(b4,{asChild:!0,children:s.jsx(w0,{className:"h-4 w-4 opacity-50"})})]}));on.displayName=F2.displayName;const xw=S.forwardRef(({className:e,...t},r)=>s.jsx(I2,{ref:r,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(lN,{className:"h-4 w-4"})}));xw.displayName=I2.displayName;const gw=S.forwardRef(({className:e,...t},r)=>s.jsx(R2,{ref:r,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(w0,{className:"h-4 w-4"})}));gw.displayName=R2.displayName;const ln=S.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(w4,{children:s.jsxs(M2,{ref:a,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(xw,{}),s.jsx(_4,{className:We("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(gw,{})]})}));ln.displayName=M2.displayName;const DA=S.forwardRef(({className:e,...t},r)=>s.jsx(O2,{ref:r,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));DA.displayName=O2.displayName;const ht=S.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(q2,{ref:n,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(j4,{children:s.jsx(Ts,{className:"h-4 w-4"})})}),s.jsx(N4,{children:t})]}));ht.displayName=q2.displayName;const EA=S.forwardRef(({className:e,...t},r)=>s.jsx(B2,{ref:r,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));EA.displayName=B2.displayName;var At=function(){return At=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},At.apply(this,arguments)};function TA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function vw(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function hu(e){return e.mode==="multiple"}function fu(e){return e.mode==="range"}function Lf(e){return e.mode==="single"}var FA={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function IA(e,t){return nt(e,"LLLL y",t)}function RA(e,t){return nt(e,"d",t)}function MA(e,t){return nt(e,"LLLL",t)}function OA(e){return"".concat(e)}function qA(e,t){return nt(e,"cccccc",t)}function BA(e,t){return nt(e,"yyyy",t)}var zA=Object.freeze({__proto__:null,formatCaption:IA,formatDay:RA,formatMonthCaption:MA,formatWeekNumber:OA,formatWeekdayName:qA,formatYearCaption:BA}),UA=function(e,t,r){return nt(e,"do MMMM (EEEE)",r)},$A=function(){return"Month: "},WA=function(){return"Go to next month"},VA=function(){return"Go to previous month"},HA=function(e,t){return nt(e,"cccc",t)},YA=function(e){return"Week n. ".concat(e)},GA=function(){return"Year: "},KA=Object.freeze({__proto__:null,labelDay:UA,labelMonthDropdown:$A,labelNext:WA,labelPrevious:VA,labelWeekNumber:YA,labelWeekday:HA,labelYearDropdown:GA});function ZA(){var e="buttons",t=FA,r=q0,n={},a={},i=1,l={},o=new Date;return{captionLayout:e,classNames:t,formatters:zA,labels:KA,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:l,today:o,mode:"default"}}function QA(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,l=e.toDate;return n?i=hs(n):t&&(i=new Date(t,0,1)),a?l=lu(a):r&&(l=new Date(r,11,31)),{fromDate:i?fc(i):void 0,toDate:l?fc(l):void 0}}var yw=S.createContext(void 0);function XA(e){var t,r=e.initialProps,n=ZA(),a=QA(r),i=a.fromDate,l=a.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!i||!l)&&(o="buttons");var c;(Lf(r)||hu(r)||fu(r))&&(c=r.onSelect);var d=At(At(At({},n),r),{captionLayout:o,classNames:At(At({},n.classNames),r.classNames),components:At({},r.components),formatters:At(At({},n.formatters),r.formatters),fromDate:i,labels:At(At({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:At(At({},n.modifiers),r.modifiers),modifiersClassNames:At(At({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:At(At({},n.styles),r.styles),toDate:l});return s.jsx(yw.Provider,{value:d,children:e.children})}function Er(){var e=S.useContext(yw);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function bw(e){var t=Er(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function JA(e){return s.jsx("svg",At({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ww(e){var t,r,n=e.onChange,a=e.value,i=e.children,l=e.caption,o=e.className,c=e.style,d=Er(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:JA;return s.jsxs("div",{className:o,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[l,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function e7(e){var t,r=Er(),n=r.fromDate,a=r.toDate,i=r.styles,l=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var p=[];if(q8(n,a))for(var x=hs(n),f=n.getMonth();f<=a.getMonth();f++)p.push(km(x,f));else for(var x=hs(new Date),f=0;f<=11;f++)p.push(km(x,f));var g=function(w){var j=Number(w.target.value),P=km(hs(e.displayMonth),j);e.onChange(P)},b=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:ww;return s.jsx(b,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:l}),children:p.map(function(w){return s.jsx("option",{value:w.getMonth(),children:o(w,{locale:l})},w.getMonth())})})}function t7(e){var t,r=e.displayMonth,n=Er(),a=n.fromDate,i=n.toDate,l=n.locale,o=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,x=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var f=a.getFullYear(),g=i.getFullYear(),b=f;b<=g;b++)x.push(q1(Nb(new Date),b));var w=function(P){var F=q1(hs(r),Number(P.target.value));e.onChange(F)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:ww;return s.jsx(j,{name:"years","aria-label":p(),className:c.dropdown_year,style:o.dropdown_year,onChange:w,value:r.getFullYear(),caption:u(r,{locale:l}),children:x.map(function(P){return s.jsx("option",{value:P.getFullYear(),children:u(P,{locale:l})},P.getFullYear())})})}function r7(e,t){var r=S.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function n7(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,l=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(i&&pc(i,a)<0){var d=-1*(c-1);a=pa(i,d)}return l&&pc(a,l)<0&&(a=l),hs(a)}function s7(){var e=Er(),t=n7(e),r=r7(t,e.month),n=r[0],a=r[1],i=function(l){var o;if(!e.disableNavigation){var c=hs(l);a(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[n,i]}function a7(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=hs(e),i=hs(pa(a,n)),l=pc(i,a),o=[],c=0;c<l;c++){var d=pa(a,c);o.push(d)}return r&&(o=o.reverse()),o}function i7(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,l=n?i:1,o=hs(e);if(!r)return pa(o,l);var c=pc(r,e);if(!(c<i))return pa(o,l)}}function o7(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,l=n?i:1,o=hs(e);if(!r)return pa(o,-l);var c=pc(o,r);if(!(c<=0))return pa(o,-l)}}var _w=S.createContext(void 0);function l7(e){var t=Er(),r=s7(),n=r[0],a=r[1],i=a7(n,t),l=i7(n,t),o=o7(n,t),c=function(p){return i.some(function(x){return B0(p,x)})},d=function(p,x){c(p)||(x&&Lb(p,x)?a(pa(p,1+t.numberOfMonths*-1)):a(p))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:o,nextMonth:l,isDateDisplayed:c};return s.jsx(_w.Provider,{value:u,children:e.children})}function mu(){var e=S.useContext(_w);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function pg(e){var t,r=Er(),n=r.classNames,a=r.styles,i=r.components,l=mu().goToMonth,o=function(u){l(pa(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:bw,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(e7,{onChange:o,displayMonth:e.displayMonth}),s.jsx(t7,{onChange:o,displayMonth:e.displayMonth})]})}function c7(e){return s.jsx("svg",At({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function d7(e){return s.jsx("svg",At({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Qh=S.forwardRef(function(e,t){var r=Er(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var l=i.join(" "),o=At(At({},a.button_reset),a.button);return e.style&&Object.assign(o,e.style),s.jsx("button",At({},e,{ref:t,type:"button",className:l,style:o}))});function u7(e){var t,r,n=Er(),a=n.dir,i=n.locale,l=n.classNames,o=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var x=d(e.previousMonth,{locale:i}),f=[l.nav_button,l.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:i}),b=[l.nav_button,l.nav_button_next].join(" "),w=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:d7,j=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:c7;return s.jsxs("div",{className:l.nav,style:o.nav,children:[!e.hidePrevious&&s.jsx(Qh,{name:"previous-month","aria-label":x,className:f,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(w,{className:l.nav_icon,style:o.nav_icon}):s.jsx(j,{className:l.nav_icon,style:o.nav_icon})}),!e.hideNext&&s.jsx(Qh,{name:"next-month","aria-label":g,className:b,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(j,{className:l.nav_icon,style:o.nav_icon}):s.jsx(w,{className:l.nav_icon,style:o.nav_icon})})]})}function xg(e){var t=Er().numberOfMonths,r=mu(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,l=r.displayMonths,o=l.findIndex(function(g){return B0(e.displayMonth,g)}),c=o===0,d=o===l.length-1,u=t>1&&(c||!d),p=t>1&&(d||!c),x=function(){n&&i(n)},f=function(){a&&i(a)};return s.jsx(u7,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:p,nextMonth:a,previousMonth:n,onPreviousClick:x,onNextClick:f})}function h7(e){var t,r=Er(),n=r.classNames,a=r.disableNavigation,i=r.styles,l=r.captionLayout,o=r.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:bw,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?d=s.jsx(pg,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(pg,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(xg,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(xg,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:d})}function f7(e){var t=Er(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function m7(e,t,r){for(var n=r?ol(new Date):Ua(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var l=ls(n,i);a.push(l)}return a}function p7(){var e=Er(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,l=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=m7(a,i,l);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:o(u,{locale:a})},p)})]})}function x7(){var e,t=Er(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:p7;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function g7(e){var t=Er(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var rx=S.createContext(void 0);function v7(e){if(!hu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(rx.Provider,{value:t,children:e.children})}return s.jsx(y7,{initialProps:e.initialProps,children:e.children})}function y7(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,l=function(d,u,p){var x,f;(x=t.onDayClick)===null||x===void 0||x.call(t,d,u,p);var g=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var b=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!b){var w=n?vw([],n):[];if(u.selected){var j=w.findIndex(function(P){return ys(d,P)});w.splice(j,1)}else w.push(d);(f=t.onSelect)===null||f===void 0||f.call(t,w,d,u,p)}}},o={disabled:[]};n&&o.disabled.push(function(d){var u=i&&n.length>i-1,p=n.some(function(x){return ys(x,d)});return!!(u&&!p)});var c={selected:n,onDayClick:l,modifiers:o};return s.jsx(rx.Provider,{value:c,children:r})}function nx(){var e=S.useContext(rx);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function b7(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?ys(a,e)&&ys(n,e)?void 0:ys(a,e)?{from:a,to:void 0}:ys(n,e)?void 0:Dp(n,e)?{from:e,to:a}:{from:n,to:e}:a?Dp(e,a)?{from:a,to:e}:{from:e,to:a}:n?Lb(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var sx=S.createContext(void 0);function w7(e){if(!fu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(sx.Provider,{value:t,children:e.children})}return s.jsx(_7,{initialProps:e.initialProps,children:e.children})}function _7(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,l=a.to,o=t.min,c=t.max,d=function(f,g,b){var w,j;(w=t.onDayClick)===null||w===void 0||w.call(t,f,g,b);var P=b7(f,n);(j=t.onSelect)===null||j===void 0||j.call(t,P,f,g,b)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],l?(u.range_end=[l],ys(i,l)||(u.range_middle=[{after:i,before:l}])):u.range_end=[i]):l&&(u.range_start=[l],u.range_end=[l]),o&&(i&&!l&&u.disabled.push({after:Sm(i,o-1),before:ls(i,o-1)}),i&&l&&u.disabled.push({after:i,before:ls(i,o-1)}),!i&&l&&u.disabled.push({after:Sm(l,o-1),before:ls(l,o-1)})),c){if(i&&!l&&(u.disabled.push({before:ls(i,-c+1)}),u.disabled.push({after:ls(i,c-1)})),i&&l){var p=Ra(l,i)+1,x=c-p;u.disabled.push({before:Sm(i,x)}),u.disabled.push({after:ls(l,x)})}!i&&l&&(u.disabled.push({before:ls(l,-c+1)}),u.disabled.push({after:ls(l,c-1)}))}return s.jsx(sx.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function ax(){var e=S.useContext(sx);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function kh(e){return Array.isArray(e)?vw([],e):e!==void 0?[e]:[]}function j7(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=kh(a)}),t}var xa;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xa||(xa={}));var N7=xa.Selected,ci=xa.Disabled,S7=xa.Hidden,k7=xa.Today,Lm=xa.RangeEnd,Dm=xa.RangeMiddle,Em=xa.RangeStart,C7=xa.Outside;function A7(e,t,r){var n,a=(n={},n[N7]=kh(e.selected),n[ci]=kh(e.disabled),n[S7]=kh(e.hidden),n[k7]=[e.today],n[Lm]=[],n[Dm]=[],n[Em]=[],n[C7]=[],n);return e.fromDate&&a[ci].push({before:e.fromDate}),e.toDate&&a[ci].push({after:e.toDate}),hu(e)?a[ci]=a[ci].concat(t.modifiers[ci]):fu(e)&&(a[ci]=a[ci].concat(r.modifiers[ci]),a[Em]=r.modifiers[Em],a[Dm]=r.modifiers[Dm],a[Lm]=r.modifiers[Lm]),a}var jw=S.createContext(void 0);function P7(e){var t=Er(),r=nx(),n=ax(),a=A7(t,r,n),i=j7(t.modifiers),l=At(At({},a),i);return s.jsx(jw.Provider,{value:l,children:e.children})}function Nw(){var e=S.useContext(jw);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function L7(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function D7(e){return!!(e&&typeof e=="object"&&"from"in e)}function E7(e){return!!(e&&typeof e=="object"&&"after"in e)}function T7(e){return!!(e&&typeof e=="object"&&"before"in e)}function F7(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function I7(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=Ra(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var l=Ra(e,n)>=0&&Ra(a,e)>=0;return l}return a?ys(a,e):n?ys(n,e):!1}function R7(e){return M0(e)}function M7(e){return Array.isArray(e)&&e.every(M0)}function O7(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(R7(r))return ys(e,r);if(M7(r))return r.includes(e);if(D7(r))return I7(e,r);if(F7(r))return r.dayOfWeek.includes(e.getDay());if(L7(r)){var n=Ra(r.before,e),a=Ra(r.after,e),i=n>0,l=a<0,o=Dp(r.before,r.after);return o?l&&i:i||l}return E7(r)?Ra(e,r.after)>0:T7(r)?Ra(r.before,e)>0:typeof r=="function"?r(e):!1})}function ix(e,t,r){var n=Object.keys(t).reduce(function(i,l){var o=t[l];return O7(e,o)&&i.push(l),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!B0(e,r)&&(a.outside=!0),a}function q7(e,t){for(var r=hs(e[0]),n=lu(e[e.length-1]),a,i,l=r;l<=n;){var o=ix(l,t),c=!o.disabled&&!o.hidden;if(!c){l=ls(l,1);continue}if(o.selected)return l;o.today&&!i&&(i=l),a||(a=l),l=ls(l,1)}return i||a}var B7=365;function Sw(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,l=t.retry,o=l===void 0?{count:0,lastFocused:e}:l,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,p=a.locale,x={day:ls,week:Lp,month:pa,year:CS,startOfWeek:function(w){return a.ISOWeek?ol(w):Ua(w,{locale:p,weekStartsOn:c})},endOfWeek:function(w){return a.ISOWeek?Sb(w):O0(w,{locale:p,weekStartsOn:c})}},f=x[r](e,n==="after"?1:-1);n==="before"&&d?f=AS([d,f]):n==="after"&&u&&(f=PS([u,f]));var g=!0;if(i){var b=ix(f,i);g=!b.disabled&&!b.hidden}return g?f:o.count>B7?o.lastFocused:Sw(f,{moveBy:r,direction:n,context:a,modifiers:i,retry:At(At({},o),{count:o.count+1})})}var kw=S.createContext(void 0);function z7(e){var t=mu(),r=Nw(),n=S.useState(),a=n[0],i=n[1],l=S.useState(),o=l[0],c=l[1],d=q7(t.displayMonths,r),u=a??(o&&t.isDateDisplayed(o))?o:d,p=function(){c(a),i(void 0)},x=function(w){i(w)},f=Er(),g=function(w,j){if(a){var P=Sw(a,{moveBy:w,direction:j,context:f,modifiers:r});ys(a,P)||(t.goToDate(P,a),x(P))}},b={focusedDay:a,focusTarget:u,blur:p,focus:x,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(kw.Provider,{value:b,children:e.children})}function ox(){var e=S.useContext(kw);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function U7(e,t){var r=Nw(),n=ix(e,r,t);return n}var lx=S.createContext(void 0);function $7(e){if(!Lf(e.initialProps)){var t={selected:void 0};return s.jsx(lx.Provider,{value:t,children:e.children})}return s.jsx(W7,{initialProps:e.initialProps,children:e.children})}function W7(e){var t=e.initialProps,r=e.children,n=function(i,l,o){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,l,o),l.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,l,o);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,l,o)},a={selected:t.selected,onDayClick:n};return s.jsx(lx.Provider,{value:a,children:r})}function Cw(){var e=S.useContext(lx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function V7(e,t){var r=Er(),n=Cw(),a=nx(),i=ax(),l=ox(),o=l.focusDayAfter,c=l.focusDayBefore,d=l.focusWeekAfter,u=l.focusWeekBefore,p=l.blur,x=l.focus,f=l.focusMonthBefore,g=l.focusMonthAfter,b=l.focusYearBefore,w=l.focusYearAfter,j=l.focusStartOfWeek,P=l.focusEndOfWeek,F=function(te){var X,ne,ke,me;Lf(r)?(X=n.onDayClick)===null||X===void 0||X.call(n,e,t,te):hu(r)?(ne=a.onDayClick)===null||ne===void 0||ne.call(a,e,t,te):fu(r)?(ke=i.onDayClick)===null||ke===void 0||ke.call(i,e,t,te):(me=r.onDayClick)===null||me===void 0||me.call(r,e,t,te)},D=function(te){var X;x(e),(X=r.onDayFocus)===null||X===void 0||X.call(r,e,t,te)},z=function(te){var X;p(),(X=r.onDayBlur)===null||X===void 0||X.call(r,e,t,te)},Y=function(te){var X;(X=r.onDayMouseEnter)===null||X===void 0||X.call(r,e,t,te)},ee=function(te){var X;(X=r.onDayMouseLeave)===null||X===void 0||X.call(r,e,t,te)},k=function(te){var X;(X=r.onDayPointerEnter)===null||X===void 0||X.call(r,e,t,te)},_=function(te){var X;(X=r.onDayPointerLeave)===null||X===void 0||X.call(r,e,t,te)},M=function(te){var X;(X=r.onDayTouchCancel)===null||X===void 0||X.call(r,e,t,te)},C=function(te){var X;(X=r.onDayTouchEnd)===null||X===void 0||X.call(r,e,t,te)},A=function(te){var X;(X=r.onDayTouchMove)===null||X===void 0||X.call(r,e,t,te)},W=function(te){var X;(X=r.onDayTouchStart)===null||X===void 0||X.call(r,e,t,te)},U=function(te){var X;(X=r.onDayKeyUp)===null||X===void 0||X.call(r,e,t,te)},oe=function(te){var X;switch(te.key){case"ArrowLeft":te.preventDefault(),te.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":te.preventDefault(),te.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":te.preventDefault(),te.stopPropagation(),d();break;case"ArrowUp":te.preventDefault(),te.stopPropagation(),u();break;case"PageUp":te.preventDefault(),te.stopPropagation(),te.shiftKey?b():f();break;case"PageDown":te.preventDefault(),te.stopPropagation(),te.shiftKey?w():g();break;case"Home":te.preventDefault(),te.stopPropagation(),j();break;case"End":te.preventDefault(),te.stopPropagation(),P();break}(X=r.onDayKeyDown)===null||X===void 0||X.call(r,e,t,te)},ue={onClick:F,onFocus:D,onBlur:z,onKeyDown:oe,onKeyUp:U,onMouseEnter:Y,onMouseLeave:ee,onPointerEnter:k,onPointerLeave:_,onTouchCancel:M,onTouchEnd:C,onTouchMove:A,onTouchStart:W};return ue}function H7(){var e=Er(),t=Cw(),r=nx(),n=ax(),a=Lf(e)?t.selected:hu(e)?r.selected:fu(e)?n.selected:void 0;return a}function Y7(e){return Object.values(xa).includes(e)}function G7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Y7(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function K7(e,t){var r=At({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=At(At({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Z7(e,t,r){var n,a,i,l=Er(),o=ox(),c=U7(e,t),d=V7(e,c),u=H7(),p=!!(l.onDayClick||l.mode!=="default");S.useEffect(function(){var Y;c.outside||o.focusedDay&&p&&ys(o.focusedDay,e)&&((Y=r.current)===null||Y===void 0||Y.focus())},[o.focusedDay,e,r,p,c.outside]);var x=G7(l,c).join(" "),f=K7(l,c),g=!!(c.outside&&!l.showOutsideDays||c.hidden),b=(i=(a=l.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:g7,w=s.jsx(b,{date:e,displayMonth:t,activeModifiers:c}),j={style:f,className:x,children:w,role:"gridcell"},P=o.focusTarget&&ys(o.focusTarget,e)&&!c.outside,F=o.focusedDay&&ys(o.focusedDay,e),D=At(At(At({},j),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=F||P?0:-1,n)),d),z={isButton:p,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:D,divProps:j};return z}function Q7(e){var t=S.useRef(null),r=Z7(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Qh,At({name:"day",ref:t},r.buttonProps)):s.jsx("div",At({},r.divProps))}function X7(e){var t=e.number,r=e.dates,n=Er(),a=n.onWeekNumberClick,i=n.styles,l=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:o});if(!a)return s.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:u});var p=c(Number(t),{locale:o}),x=function(f){a(t,r,f)};return s.jsx(Qh,{name:"week-number","aria-label":p,className:l.weeknumber,style:i.weeknumber,onClick:x,children:u})}function J7(e){var t,r,n=Er(),a=n.styles,i=n.classNames,l=n.showWeekNumber,o=n.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:Q7,d=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:X7,u;return l&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(p){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:p})},R8(p))})]})}function gg(e,t,r){for(var n=r!=null&&r.ISOWeek?Sb(t):O0(t,r),a=r!=null&&r.ISOWeek?ol(e):Ua(e,r),i=Ra(n,a),l=[],o=0;o<=i;o++)l.push(ls(a,o));var c=l.reduce(function(d,u){var p=r!=null&&r.ISOWeek?kb(u):Ab(u,r),x=d.find(function(f){return f.weekNumber===p});return x?(x.dates.push(u),d):(d.push({weekNumber:p,dates:[u]}),d)},[]);return c}function eP(e,t){var r=gg(hs(e),lu(e),t);if(t!=null&&t.useFixedWeeks){var n=O8(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],l=Lp(i,6-n),o=gg(Lp(i,1),l,t);r.push.apply(r,o)}}return r}function tP(e){var t,r,n,a=Er(),i=a.locale,l=a.classNames,o=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,p=a.weekStartsOn,x=a.firstWeekContainsDate,f=a.ISOWeek,g=eP(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:f,locale:i,weekStartsOn:p,firstWeekContainsDate:x}),b=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:x7,w=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:J7,j=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:f7;return s.jsxs("table",{id:e.id,className:l.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(b,{}),s.jsx("tbody",{className:l.tbody,style:o.tbody,children:g.map(function(P){return s.jsx(w,{displayMonth:e.displayMonth,dates:P.dates,weekNumber:P.weekNumber},P.weekNumber)})}),s.jsx(j,{displayMonth:e.displayMonth})]})}function rP(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var nP=rP()?S.useLayoutEffect:S.useEffect,Tm=!1,sP=0;function vg(){return"react-day-picker-".concat(++sP)}function aP(e){var t,r=e??(Tm?vg():null),n=S.useState(r),a=n[0],i=n[1];return nP(function(){a===null&&i(vg())},[]),S.useEffect(function(){Tm===!1&&(Tm=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function iP(e){var t,r,n=Er(),a=n.dir,i=n.classNames,l=n.styles,o=n.components,c=mu().displayMonths,d=aP(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[i.month],x=l.month,f=e.displayIndex===0,g=e.displayIndex===c.length-1,b=!f&&!g;a==="rtl"&&(t=[f,g],g=t[0],f=t[1]),f&&(p.push(i.caption_start),x=At(At({},x),l.caption_start)),g&&(p.push(i.caption_end),x=At(At({},x),l.caption_end)),b&&(p.push(i.caption_between),x=At(At({},x),l.caption_between));var w=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:h7;return s.jsxs("div",{className:p.join(" "),style:x,children:[s.jsx(w,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(tP,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function oP(e){var t=Er(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function lP(e){var t,r,n=e.initialProps,a=Er(),i=ox(),l=mu(),o=S.useState(!1),c=o[0],d=o[1];S.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var p=At(At({},a.styles.root),a.style),x=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,b){var w;return At(At({},g),(w={},w[b]=n[b],w))},{}),f=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:oP;return s.jsx("div",At({className:u.join(" "),style:p,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},x,{children:s.jsx(f,{children:l.displayMonths.map(function(g,b){return s.jsx(iP,{displayIndex:b,displayMonth:g},b)})})}))}function cP(e){var t=e.children,r=TA(e,["children"]);return s.jsx(XA,{initialProps:r,children:s.jsx(l7,{children:s.jsx($7,{initialProps:r,children:s.jsx(v7,{initialProps:r,children:s.jsx(w7,{initialProps:r,children:s.jsx(P7,{children:s.jsx(z7,{children:t})})})})})})})}function dP(e){return s.jsx(cP,At({},e,{children:s.jsx(lP,{initialProps:e})}))}function Jn({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(dP,{showOutsideDays:r,className:We("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:We(zd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:We(zd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(oN,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(hy,{className:"h-4 w-4"})},...n})}Jn.displayName="Calendar";const uP=()=>{const e=Zt(),[t,r]=S.useState(1),[n,a]=S.useState(""),[i,l]=S.useState(new Date),[o,c]=S.useState(),[d,u]=S.useState([{description:"",quantity:1,unit_price:0,discount:0,line_total:0}]),[p,x]=S.useState(0),[f,g]=S.useState(!1),[b,w]=S.useState(15),[j,P]=S.useState(""),[F,D]=S.useState(""),[z,Y]=S.useState(""),[ee,k]=S.useState(""),{data:_}=_t({queryKey:["clients"],queryFn:async()=>{const{data:I}=await xe.from("clients").select("*").order("name");return I||[]}}),{data:M}=_t({queryKey:["products"],queryFn:async()=>{const{data:I}=await xe.from("products").select("*").eq("is_active",!0);return I||[]}}),C=lr({mutationFn:async()=>{const I=d.reduce((ze,$)=>ze+$.line_total,0),V=f?p:I*p/100,J=I-V,re=J*b/100,ce=J+re,pe=`INV-${Date.now()}`,{data:we,error:Ne}=await xe.from("invoices").insert({invoice_number:pe,client_id:n,issue_date:nt(i,"yyyy-MM-dd"),due_date:o?nt(o,"yyyy-MM-dd"):null,subtotal:I,discount:V,is_amount_discount:f,tax_rate_1:b,tax_amount:re,total:ce,balance:ce,public_notes:j,private_notes:F,terms_conditions:z,po_number:ee,status:"draft"}).select().single();if(Ne)throw Ne;const Me=d.map((ze,$)=>({invoice_id:we.id,product_id:ze.product_id||null,description:ze.description,quantity:ze.quantity,unit_price:ze.unit_price,discount:ze.discount,line_total:ze.line_total,sort_order:$})),{error:Be}=await xe.from("invoice_items").insert(Me);if(Be)throw Be;return{id:we.id,number:pe}},onSuccess:async I=>{await BC(I.id,I.number),Qt({title:"Success",description:"Invoice created successfully"}),e(`/invoices/${I.id}`)},onError:I=>{Qt({title:"Error",description:I.message,variant:"destructive"})}}),A=(I,V,J)=>I*V-J,W=(I,V,J)=>{const re=[...d];if(re[I]={...re[I],[V]:J},(V==="quantity"||V==="unit_price"||V==="discount")&&(re[I].line_total=A(re[I].quantity,re[I].unit_price,re[I].discount)),V==="product_id"&&J){const ce=M==null?void 0:M.find(pe=>pe.id===J);ce&&(re[I].description=ce.name,re[I].unit_price=ce.sale_price,re[I].line_total=A(re[I].quantity,ce.sale_price,re[I].discount))}u(re)},U=()=>{u([...d,{description:"",quantity:1,unit_price:0,discount:0,line_total:0}])},oe=I=>{d.length>1&&u(d.filter((V,J)=>J!==I))},ue=d.reduce((I,V)=>I+V.line_total,0),te=f?p:ue*p/100,X=ue-te,ne=X*b/100,ke=X+ne,me=I=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(I).replace("BDT",""),L=()=>{var I;switch(t){case 1:return s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Step 1: Client & Dates"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client",children:"Client *"}),s.jsxs(pn,{value:n,onValueChange:a,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select client"})}),s.jsx(ln,{children:_==null?void 0:_.map(V=>s.jsx(ht,{value:V.id,children:V.name},V.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Issue Date *"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),i?nt(i,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:i,onSelect:V=>V&&l(V),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Due Date"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),o?nt(o,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:o,onSelect:c,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"po",children:"PO Number"}),s.jsx(Ie,{id:"po",value:ee,onChange:V=>k(V.target.value),placeholder:"Optional"})]})]})]});case 2:return s.jsxs(_e,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Line Items"}),s.jsxs(je,{onClick:U,size:"sm",children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx("div",{className:"space-y-4",children:d.map((V,J)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{children:["Item ",J+1]}),d.length>1&&s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>oe(J),children:s.jsx(Qs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Product"}),s.jsxs(pn,{value:V.product_id||"",onValueChange:re=>W(J,"product_id",re),children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select product (optional)"})}),s.jsx(ln,{children:M==null?void 0:M.map(re=>s.jsx(ht,{value:re.id,children:re.name},re.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Description *"}),s.jsx(Ie,{value:V.description,onChange:re=>W(J,"description",re.target.value),placeholder:"Item description"})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Quantity *"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:V.quantity,onChange:re=>W(J,"quantity",parseFloat(re.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Unit Price *"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:V.unit_price,onChange:re=>W(J,"unit_price",parseFloat(re.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Discount"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:V.discount,onChange:re=>W(J,"discount",parseFloat(re.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Line Total"}),s.jsx(Ie,{value:me(V.line_total),disabled:!0})]})]})]},J))})]});case 3:return s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Step 3: Tax & Discount"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"discount",children:"Discount"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ie,{id:"discount",type:"number",min:"0",step:"0.01",value:p,onChange:V=>x(parseFloat(V.target.value)||0),placeholder:"0"}),s.jsxs(pn,{value:f?"amount":"percent",onValueChange:V=>g(V==="amount"),children:[s.jsx(on,{className:"w-32",children:s.jsx(xn,{})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"percent",children:"%"}),s.jsx(ht,{value:"amount",children:""})]})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"tax",children:"VAT Rate (%)"}),s.jsx(Ie,{id:"tax",type:"number",min:"0",max:"100",step:"0.01",value:b,onChange:V=>w(parseFloat(V.target.value)||0)})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{className:"font-semibold",children:me(ue)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{className:"font-semibold",children:["-",me(te)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["VAT (",b,"%):"]}),s.jsx("span",{className:"font-semibold",children:me(ne)})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:me(ke)})]})]})]})]});case 4:return s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Step 4: Terms & Notes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"terms",children:"Terms & Conditions"}),s.jsx(zr,{id:"terms",value:z,onChange:V=>Y(V.target.value),placeholder:"Payment terms, warranties, etc.",rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"public",children:"Public Notes"}),s.jsx(zr,{id:"public",value:j,onChange:V=>P(V.target.value),placeholder:"Notes visible to client",rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"private",children:"Private Notes"}),s.jsx(zr,{id:"private",value:F,onChange:V=>D(V.target.value),placeholder:"Internal notes (not visible to client)",rows:3})]})]})]});case 5:return s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Step 5: Review Invoice"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Client"}),s.jsx("p",{children:(I=_==null?void 0:_.find(V=>V.id===n))==null?void 0:I.name})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Dates"}),s.jsxs("p",{children:["Issue: ",nt(i,"PPP")]}),o&&s.jsxs("p",{children:["Due: ",nt(o,"PPP")]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-2",children:["Items (",d.length,")"]}),d.map((V,J)=>s.jsxs("div",{className:"flex justify-between py-1",children:[s.jsxs("span",{children:[V.description,"  ",V.quantity]}),s.jsx("span",{children:me(V.line_total)})]},J))]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between py-1",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:me(ue)})]}),s.jsxs("div",{className:"flex justify-between py-1",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-",me(te)]})]}),s.jsxs("div",{className:"flex justify-between py-1",children:[s.jsxs("span",{children:["VAT (",b,"%):"]}),s.jsx("span",{children:me(ne)})]}),s.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:me(ke)})]})]})]})]});default:return null}},q=()=>{switch(t){case 1:return n&&i;case 2:return d.every(I=>I.description&&I.quantity>0&&I.unit_price>=0);default:return!0}};return s.jsx(dt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Invoice"}),s.jsxs("p",{className:"text-muted-foreground",children:["Step ",t," of 5"]})]})}),s.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3,4,5].map(I=>s.jsx("div",{className:We("h-2 flex-1 rounded-full",I<=t?"bg-primary":"bg-muted")},I))}),L(),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(je,{variant:"outline",onClick:()=>t>1?r(t-1):e("/invoices"),disabled:C.isPending,children:t===1?"Cancel":"Back"}),t<5?s.jsx(je,{onClick:()=>r(t+1),disabled:!q(),children:"Next"}):s.jsx(je,{onClick:()=>C.mutate(),disabled:C.isPending,children:C.isPending?"Creating...":"Create Invoice"})]})]})})};function Nr(e){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}var ga=Uint8Array,Fs=Uint16Array,cx=Int32Array,dx=new ga([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ux=new ga([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yg=new ga([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Aw=function(e,t){for(var r=new Fs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new cx(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Pw=Aw(dx,2),hP=Pw.b,zp=Pw.r;hP[28]=258,zp[258]=28;var fP=Aw(ux,0),bg=fP.r,Up=new Fs(32768);for(var Ir=0;Ir<32768;++Ir){var Ui=(Ir&43690)>>1|(Ir&21845)<<1;Ui=(Ui&52428)>>2|(Ui&13107)<<2,Ui=(Ui&61680)>>4|(Ui&3855)<<4,Up[Ir]=((Ui&65280)>>8|(Ui&255)<<8)>>1}var Td=function(e,t,r){for(var n=e.length,a=0,i=new Fs(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new Fs(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var o;if(r){o=new Fs(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],p=l[e[a]-1]++<<u,x=p|(1<<u)-1;p<=x;++p)o[Up[p]>>c]=d}else for(o=new Fs(n),a=0;a<n;++a)e[a]&&(o[a]=Up[l[e[a]-1]++]>>15-e[a]);return o},cl=new ga(288);for(var Ir=0;Ir<144;++Ir)cl[Ir]=8;for(var Ir=144;Ir<256;++Ir)cl[Ir]=9;for(var Ir=256;Ir<280;++Ir)cl[Ir]=7;for(var Ir=280;Ir<288;++Ir)cl[Ir]=8;var Xh=new ga(32);for(var Ir=0;Ir<32;++Ir)Xh[Ir]=5;var mP=Td(cl,9,0),pP=Td(Xh,5,0),Lw=function(e){return(e+7)/8|0},xP=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ga(e.subarray(t,r))},di=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},_d=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Fm=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Ew,l:0};if(a==1){var l=new ga(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(z,Y){return z.f-Y.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,u=1,p=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=a-1;)o=r[r[d].f<r[p].f?d++:p++],c=r[d!=u&&r[d].f<r[p].f?d++:p++],r[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var x=i[0].s,n=1;n<a;++n)i[n].s>x&&(x=i[n].s);var f=new Fs(x+1),g=$p(r[u-1],f,0);if(g>t){var n=0,b=0,w=g-t,j=1<<w;for(i.sort(function(Y,ee){return f[ee.s]-f[Y.s]||Y.f-ee.f});n<a;++n){var P=i[n].s;if(f[P]>t)b+=j-(1<<g-f[P]),f[P]=t;else break}for(b>>=w;b>0;){var F=i[n].s;f[F]<t?b-=1<<t-f[F]++-1:++n}for(;n>=0&&b;--n){var D=i[n].s;f[D]==t&&(--f[D],++b)}g=t}return{t:new ga(f),l:g}},$p=function(e,t,r){return e.s==-1?Math.max($p(e.l,t,r+1),$p(e.r,t,r+1)):t[e.s]=r},wg=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Fs(++t),n=0,a=e[0],i=1,l=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},jd=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Dw=function(e,t,r){var n=r.length,a=Lw(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},_g=function(e,t,r,n,a,i,l,o,c,d,u){di(t,u++,r),++a[256];for(var p=Fm(a,15),x=p.t,f=p.l,g=Fm(i,15),b=g.t,w=g.l,j=wg(x),P=j.c,F=j.n,D=wg(b),z=D.c,Y=D.n,ee=new Fs(19),k=0;k<P.length;++k)++ee[P[k]&31];for(var k=0;k<z.length;++k)++ee[z[k]&31];for(var _=Fm(ee,7),M=_.t,C=_.l,A=19;A>4&&!M[yg[A-1]];--A);var W=d+5<<3,U=jd(a,cl)+jd(i,Xh)+l,oe=jd(a,x)+jd(i,b)+l+14+3*A+jd(ee,M)+2*ee[16]+3*ee[17]+7*ee[18];if(c>=0&&W<=U&&W<=oe)return Dw(t,u,e.subarray(c,c+d));var ue,te,X,ne;if(di(t,u,1+(oe<U)),u+=2,oe<U){ue=Td(x,f,0),te=x,X=Td(b,w,0),ne=b;var ke=Td(M,C,0);di(t,u,F-257),di(t,u+5,Y-1),di(t,u+10,A-4),u+=14;for(var k=0;k<A;++k)di(t,u+3*k,M[yg[k]]);u+=3*A;for(var me=[P,z],L=0;L<2;++L)for(var q=me[L],k=0;k<q.length;++k){var I=q[k]&31;di(t,u,ke[I]),u+=M[I],I>15&&(di(t,u,q[k]>>5&127),u+=q[k]>>12)}}else ue=mP,te=cl,X=pP,ne=Xh;for(var k=0;k<o;++k){var V=n[k];if(V>255){var I=V>>18&31;_d(t,u,ue[I+257]),u+=te[I+257],I>7&&(di(t,u,V>>23&31),u+=dx[I]);var J=V&31;_d(t,u,X[J]),u+=ne[J],J>3&&(_d(t,u,V>>5&8191),u+=ux[J])}else _d(t,u,ue[V]),u+=te[V]}return _d(t,u,ue[256]),u+te[256]},gP=new cx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ew=new ga(0),vP=function(e,t,r,n,a,i){var l=i.z||e.length,o=new ga(n+l+5*(1+Math.ceil(l/7e3))+a),c=o.subarray(n,o.length-a),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var p=gP[t-1],x=p>>13,f=p&8191,g=(1<<r)-1,b=i.p||new Fs(32768),w=i.h||new Fs(g+1),j=Math.ceil(r/3),P=2*j,F=function(ze){return(e[ze]^e[ze+1]<<j^e[ze+2]<<P)&g},D=new cx(25e3),z=new Fs(288),Y=new Fs(32),ee=0,k=0,_=i.i||0,M=0,C=i.w||0,A=0;_+2<l;++_){var W=F(_),U=_&32767,oe=w[W];if(b[U]=oe,w[W]=U,C<=_){var ue=l-_;if((ee>7e3||M>24576)&&(ue>423||!d)){u=_g(e,c,0,D,z,Y,k,M,A,_-A,u),M=ee=k=0,A=_;for(var te=0;te<286;++te)z[te]=0;for(var te=0;te<30;++te)Y[te]=0}var X=2,ne=0,ke=f,me=U-oe&32767;if(ue>2&&W==F(_-me))for(var L=Math.min(x,ue)-1,q=Math.min(32767,_),I=Math.min(258,ue);me<=q&&--ke&&U!=oe;){if(e[_+X]==e[_+X-me]){for(var V=0;V<I&&e[_+V]==e[_+V-me];++V);if(V>X){if(X=V,ne=me,V>L)break;for(var J=Math.min(me,V-2),re=0,te=0;te<J;++te){var ce=_-me+te&32767,pe=b[ce],we=ce-pe&32767;we>re&&(re=we,oe=ce)}}}U=oe,oe=b[U],me+=U-oe&32767}if(ne){D[M++]=268435456|zp[X]<<18|bg[ne];var Ne=zp[X]&31,Me=bg[ne]&31;k+=dx[Ne]+ux[Me],++z[257+Ne],++Y[Me],C=_+X,++ee}else D[M++]=e[_],++z[e[_]]}}for(_=Math.max(_,C);_<l;++_)D[M++]=e[_],++z[e[_]];u=_g(e,c,d,D,z,Y,k,M,A,_-A,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=w,i.p=b,i.i=_,i.w=C)}else{for(var _=i.w||0;_<l+d;_+=65535){var Be=_+65535;Be>=l&&(c[u/8|0]=d,Be=l),u=Dw(c,u+1,e.subarray(_,Be))}i.i=l}return xP(o,0,n+Lw(u)+a)},Tw=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},yP=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new ga(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return vP(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Fw=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},bP=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Tw();a.p(t.dictionary),Fw(e,2,a.d())}};function Wp(e,t){t||(t={});var r=Tw();r.p(e);var n=yP(e,t,t.dictionary?6:2,4);return bP(n,t),Fw(n,n.length-4,r.d()),n}var wP=typeof TextDecoder<"u"&&new TextDecoder,_P=0;try{wP.decode(Ew,{stream:!0}),_P=1}catch{}function jP(e){if(Array.isArray(e))return e}function NP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function SP(e,t){if(e){if(typeof e=="string")return jg(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jg(e,t):void 0}}function kP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ng(e,t){return jP(e)||NP(e,t)||SP(e,t)||kP()}function Sg(e,t="utf8"){return new TextDecoder(t).decode(e)}const CP=new TextEncoder;function AP(e){return CP.encode(e)}const PP=1024*8,LP=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Im={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class hx{constructor(t=PP,r={}){_r(this,"buffer");_r(this,"byteLength");_r(this,"byteOffset");_r(this,"length");_r(this,"offset");_r(this,"lastWrittenByte");_r(this,"littleEndian");_r(this,"_data");_r(this,"_mark");_r(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof hx)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Im[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===LP&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const c=new Im[r](o.buffer);return this.offset+=n,c.reverse(),c}const l=new Im[r](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return Sg(this.readBytes(t))}decodeText(t=1,r="utf8"){return Sg(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(AP(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const DP=4,kg=0,Cg=1,EP=2;function qc(e){let t=e.length;for(;--t>=0;)e[t]=0}const TP=0,Iw=1,FP=2,IP=3,RP=258,fx=29,pu=256,Wd=pu+1+fx,$l=30,mx=19,Rw=2*Wd+1,Ho=15,Rm=16,MP=7,px=256,Mw=16,Ow=17,qw=18,Vp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ch=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),OP=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Bw=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qP=512,fi=new Array((Wd+2)*2);qc(fi);const Fd=new Array($l*2);qc(Fd);const Vd=new Array(qP);qc(Vd);const Hd=new Array(RP-IP+1);qc(Hd);const xx=new Array(fx);qc(xx);const Jh=new Array($l);qc(Jh);function Mm(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}let zw,Uw,$w;function Om(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Ww=e=>e<256?Vd[e]:Vd[256+(e>>>7)],Yd=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},bs=(e,t,r)=>{e.bi_valid>Rm-r?(e.bi_buf|=t<<e.bi_valid&65535,Yd(e,e.bi_buf),e.bi_buf=t>>Rm-e.bi_valid,e.bi_valid+=r-Rm):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Ia=(e,t,r)=>{bs(e,r[t*2],r[t*2+1])},Vw=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},BP=e=>{e.bi_valid===16?(Yd(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},zP=(e,t)=>{const r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,u,p,x,f,g,b=0;for(x=0;x<=Ho;x++)e.bl_count[x]=0;for(r[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<Rw;d++)u=e.heap[d],x=r[r[u*2+1]*2+1]+1,x>c&&(x=c,b++),r[u*2+1]=x,!(u>n)&&(e.bl_count[x]++,f=0,u>=o&&(f=l[u-o]),g=r[u*2],e.opt_len+=g*(x+f),i&&(e.static_len+=g*(a[u*2+1]+f)));if(b!==0){do{for(x=c-1;e.bl_count[x]===0;)x--;e.bl_count[x]--,e.bl_count[x+1]+=2,e.bl_count[c]--,b-=2}while(b>0);for(x=c;x!==0;x--)for(u=e.bl_count[x];u!==0;)p=e.heap[--d],!(p>n)&&(r[p*2+1]!==x&&(e.opt_len+=(x-r[p*2+1])*r[p*2],r[p*2+1]=x),u--)}},Hw=(e,t,r)=>{const n=new Array(Ho+1);let a=0,i,l;for(i=1;i<=Ho;i++)a=a+r[i-1]<<1,n[i]=a;for(l=0;l<=t;l++){let o=e[l*2+1];o!==0&&(e[l*2]=Vw(n[o]++,o))}},UP=()=>{let e,t,r,n,a;const i=new Array(Ho+1);for(r=0,n=0;n<fx-1;n++)for(xx[n]=r,e=0;e<1<<Vp[n];e++)Hd[r++]=n;for(Hd[r-1]=n,a=0,n=0;n<16;n++)for(Jh[n]=a,e=0;e<1<<Ch[n];e++)Vd[a++]=n;for(a>>=7;n<$l;n++)for(Jh[n]=a<<7,e=0;e<1<<Ch[n]-7;e++)Vd[256+a++]=n;for(t=0;t<=Ho;t++)i[t]=0;for(e=0;e<=143;)fi[e*2+1]=8,e++,i[8]++;for(;e<=255;)fi[e*2+1]=9,e++,i[9]++;for(;e<=279;)fi[e*2+1]=7,e++,i[7]++;for(;e<=287;)fi[e*2+1]=8,e++,i[8]++;for(Hw(fi,Wd+1,i),e=0;e<$l;e++)Fd[e*2+1]=5,Fd[e*2]=Vw(e,5);zw=new Mm(fi,Vp,pu+1,Wd,Ho),Uw=new Mm(Fd,Ch,0,$l,Ho),$w=new Mm(new Array(0),OP,0,mx,MP)},Yw=e=>{let t;for(t=0;t<Wd;t++)e.dyn_ltree[t*2]=0;for(t=0;t<$l;t++)e.dyn_dtree[t*2]=0;for(t=0;t<mx;t++)e.bl_tree[t*2]=0;e.dyn_ltree[px*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Gw=e=>{e.bi_valid>8?Yd(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ag=(e,t,r,n)=>{const a=t*2,i=r*2;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]},qm=(e,t,r)=>{const n=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Ag(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Ag(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},Pg=(e,t,r)=>{let n,a,i=0,l,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],n===0?Ia(e,a,t):(l=Hd[a],Ia(e,l+pu+1,t),o=Vp[l],o!==0&&(a-=xx[l],bs(e,a,o)),n--,l=Ww(n),Ia(e,l,r),o=Ch[l],o!==0&&(n-=Jh[l],bs(e,n,o)));while(i<e.sym_next);Ia(e,px,t)},Hp=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let l,o,c=-1,d;for(e.heap_len=0,e.heap_max=Rw,l=0;l<i;l++)r[l*2]!==0?(e.heap[++e.heap_len]=c=l,e.depth[l]=0):r[l*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,r[d*2]=1,e.depth[d]=0,e.opt_len--,a&&(e.static_len-=n[d*2+1]);for(t.max_code=c,l=e.heap_len>>1;l>=1;l--)qm(e,r,l);d=i;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],qm(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=o,r[d*2]=r[l*2]+r[o*2],e.depth[d]=(e.depth[l]>=e.depth[o]?e.depth[l]:e.depth[o])+1,r[l*2+1]=r[o*2+1]=d,e.heap[1]=d++,qm(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],zP(e,t),Hw(r,c,e.bl_count)},Lg=(e,t,r)=>{let n,a=-1,i,l=t[0*2+1],o=0,c=7,d=4;for(l===0&&(c=138,d=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=l,l=t[(n+1)*2+1],!(++o<c&&i===l)&&(o<d?e.bl_tree[i*2]+=o:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[Mw*2]++):o<=10?e.bl_tree[Ow*2]++:e.bl_tree[qw*2]++,o=0,a=i,l===0?(c=138,d=3):i===l?(c=6,d=3):(c=7,d=4))},Dg=(e,t,r)=>{let n,a=-1,i,l=t[0*2+1],o=0,c=7,d=4;for(l===0&&(c=138,d=3),n=0;n<=r;n++)if(i=l,l=t[(n+1)*2+1],!(++o<c&&i===l)){if(o<d)do Ia(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==a&&(Ia(e,i,e.bl_tree),o--),Ia(e,Mw,e.bl_tree),bs(e,o-3,2)):o<=10?(Ia(e,Ow,e.bl_tree),bs(e,o-3,3)):(Ia(e,qw,e.bl_tree),bs(e,o-11,7));o=0,a=i,l===0?(c=138,d=3):i===l?(c=6,d=3):(c=7,d=4)}},$P=e=>{let t;for(Lg(e,e.dyn_ltree,e.l_desc.max_code),Lg(e,e.dyn_dtree,e.d_desc.max_code),Hp(e,e.bl_desc),t=mx-1;t>=3&&e.bl_tree[Bw[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},WP=(e,t,r,n)=>{let a;for(bs(e,t-257,5),bs(e,r-1,5),bs(e,n-4,4),a=0;a<n;a++)bs(e,e.bl_tree[Bw[a]*2+1],3);Dg(e,e.dyn_ltree,t-1),Dg(e,e.dyn_dtree,r-1)},VP=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return kg;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Cg;for(r=32;r<pu;r++)if(e.dyn_ltree[r*2]!==0)return Cg;return kg};let Eg=!1;const HP=e=>{Eg||(UP(),Eg=!0),e.l_desc=new Om(e.dyn_ltree,zw),e.d_desc=new Om(e.dyn_dtree,Uw),e.bl_desc=new Om(e.bl_tree,$w),e.bi_buf=0,e.bi_valid=0,Yw(e)},Kw=(e,t,r,n)=>{bs(e,(TP<<1)+(n?1:0),3),Gw(e),Yd(e,r),Yd(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},YP=e=>{bs(e,Iw<<1,3),Ia(e,px,fi),BP(e)},GP=(e,t,r,n)=>{let a,i,l=0;e.level>0?(e.strm.data_type===EP&&(e.strm.data_type=VP(e)),Hp(e,e.l_desc),Hp(e,e.d_desc),l=$P(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&t!==-1?Kw(e,t,r,n):e.strategy===DP||i===a?(bs(e,(Iw<<1)+(n?1:0),3),Pg(e,fi,Fd)):(bs(e,(FP<<1)+(n?1:0),3),WP(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),Pg(e,e.dyn_ltree,e.dyn_dtree)),Yw(e),n&&Gw(e)},KP=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Hd[r]+pu+1)*2]++,e.dyn_dtree[Ww(t)*2]++),e.sym_next===e.sym_end);var ZP=HP,QP=Kw,XP=GP,JP=KP,eL=YP,tL={_tr_init:ZP,_tr_stored_block:QP,_tr_flush_block:XP,_tr_tally:JP,_tr_align:eL};const rL=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var Gd=rL;const nL=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},sL=new Uint32Array(nL()),aL=(e,t,r,n)=>{const a=sL,i=n+r;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var Ln=aL,_c={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},xu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:iL,_tr_stored_block:Yp,_tr_flush_block:oL,_tr_tally:mo,_tr_align:lL}=tL,{Z_NO_FLUSH:po,Z_PARTIAL_FLUSH:cL,Z_FULL_FLUSH:dL,Z_FINISH:Gs,Z_BLOCK:Tg,Z_OK:qn,Z_STREAM_END:Fg,Z_STREAM_ERROR:Ba,Z_DATA_ERROR:uL,Z_BUF_ERROR:Bm,Z_DEFAULT_COMPRESSION:hL,Z_FILTERED:fL,Z_HUFFMAN_ONLY:ch,Z_RLE:mL,Z_FIXED:pL,Z_DEFAULT_STRATEGY:xL,Z_UNKNOWN:gL,Z_DEFLATED:Df}=xu,vL=9,yL=15,bL=8,wL=29,_L=256,Gp=_L+1+wL,jL=30,NL=19,SL=2*Gp+1,kL=15,nr=3,lo=258,za=lo+nr+1,CL=32,jc=42,gx=57,Kp=69,Zp=73,Qp=91,Xp=103,Yo=113,Cd=666,ds=1,Bc=2,dl=3,zc=4,AL=3,Go=(e,t)=>(e.msg=_c[t],t),Ig=e=>e*2-(e>4?9:0),Ki=e=>{let t=e.length;for(;--t>=0;)e[t]=0},PL=e=>{let t,r,n,a=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=a?r-a:0;while(--t);t=a,n=t;do r=e.prev[--n],e.prev[n]=r>=a?r-a:0;while(--t)};let LL=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,xo=LL;const Es=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Is=(e,t)=>{oL(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Es(e.strm)},xr=(e,t)=>{e.pending_buf[e.pending++]=t},Nd=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Jp=(e,t,r,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),e.state.wrap===1?e.adler=Gd(e.adler,t,a,r):e.state.wrap===2&&(e.adler=Ln(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},Zw=(e,t)=>{let r=e.max_chain_length,n=e.strstart,a,i,l=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-za?e.strstart-(e.w_size-za):0,d=e.window,u=e.w_mask,p=e.prev,x=e.strstart+lo;let f=d[n+l-1],g=d[n+l];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(a=t,!(d[a+l]!==g||d[a+l-1]!==f||d[a]!==d[n]||d[++a]!==d[n+1])){n+=2,a++;do;while(d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&n<x);if(i=lo-(x-n),n=x-lo,i>l){if(e.match_start=t,l=i,i>=o)break;f=d[n+l-1],g=d[n+l]}}while((t=p[t&u])>c&&--r!==0);return l<=e.lookahead?l:e.lookahead},Nc=e=>{const t=e.w_size;let r,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-za)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),PL(e),n+=t),e.strm.avail_in===0)break;if(r=Jp(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=nr)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=xo(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=xo(e,e.ins_h,e.window[a+nr-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<nr)););}while(e.lookahead<za&&e.strm.avail_in!==0)},Qw=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,i,l=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==Gs||t===po||n!==a+e.strm.avail_in)))break;l=t===Gs&&n===a+e.strm.avail_in?1:0,Yp(e,0,0,l),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Es(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(Jp(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(l===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?zc:t!==po&&t!==Gs&&e.strm.avail_in===0&&e.strstart===e.block_start?Bc:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Jp(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=r||(a||t===Gs)&&t!==po&&e.strm.avail_in===0&&a<=i)&&(n=a>i?i:a,l=t===Gs&&e.strm.avail_in===0&&n===a?1:0,Yp(e,e.block_start,n,l),e.block_start+=n,Es(e.strm)),l?dl:ds)},zm=(e,t)=>{let r,n;for(;;){if(e.lookahead<za){if(Nc(e),e.lookahead<za&&t===po)return ds;if(e.lookahead===0)break}if(r=0,e.lookahead>=nr&&(e.ins_h=xo(e,e.ins_h,e.window[e.strstart+nr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-za&&(e.match_length=Zw(e,r)),e.match_length>=nr)if(n=mo(e,e.strstart-e.match_start,e.match_length-nr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=nr){e.match_length--;do e.strstart++,e.ins_h=xo(e,e.ins_h,e.window[e.strstart+nr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xo(e,e.ins_h,e.window[e.strstart+1]);else n=mo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Is(e,!1),e.strm.avail_out===0))return ds}return e.insert=e.strstart<nr-1?e.strstart:nr-1,t===Gs?(Is(e,!0),e.strm.avail_out===0?dl:zc):e.sym_next&&(Is(e,!1),e.strm.avail_out===0)?ds:Bc},Dl=(e,t)=>{let r,n,a;for(;;){if(e.lookahead<za){if(Nc(e),e.lookahead<za&&t===po)return ds;if(e.lookahead===0)break}if(r=0,e.lookahead>=nr&&(e.ins_h=xo(e,e.ins_h,e.window[e.strstart+nr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=nr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-za&&(e.match_length=Zw(e,r),e.match_length<=5&&(e.strategy===fL||e.match_length===nr&&e.strstart-e.match_start>4096)&&(e.match_length=nr-1)),e.prev_length>=nr&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-nr,n=mo(e,e.strstart-1-e.prev_match,e.prev_length-nr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=xo(e,e.ins_h,e.window[e.strstart+nr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=nr-1,e.strstart++,n&&(Is(e,!1),e.strm.avail_out===0))return ds}else if(e.match_available){if(n=mo(e,0,e.window[e.strstart-1]),n&&Is(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ds}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=mo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<nr-1?e.strstart:nr-1,t===Gs?(Is(e,!0),e.strm.avail_out===0?dl:zc):e.sym_next&&(Is(e,!1),e.strm.avail_out===0)?ds:Bc},DL=(e,t)=>{let r,n,a,i;const l=e.window;for(;;){if(e.lookahead<=lo){if(Nc(e),e.lookahead<=lo&&t===po)return ds;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=nr&&e.strstart>0&&(a=e.strstart-1,n=l[a],n===l[++a]&&n===l[++a]&&n===l[++a])){i=e.strstart+lo;do;while(n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&a<i);e.match_length=lo-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=nr?(r=mo(e,1,e.match_length-nr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=mo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Is(e,!1),e.strm.avail_out===0))return ds}return e.insert=0,t===Gs?(Is(e,!0),e.strm.avail_out===0?dl:zc):e.sym_next&&(Is(e,!1),e.strm.avail_out===0)?ds:Bc},EL=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Nc(e),e.lookahead===0)){if(t===po)return ds;break}if(e.match_length=0,r=mo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Is(e,!1),e.strm.avail_out===0))return ds}return e.insert=0,t===Gs?(Is(e,!0),e.strm.avail_out===0?dl:zc):e.sym_next&&(Is(e,!1),e.strm.avail_out===0)?ds:Bc};function Pa(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}const Ad=[new Pa(0,0,0,0,Qw),new Pa(4,4,8,4,zm),new Pa(4,5,16,8,zm),new Pa(4,6,32,32,zm),new Pa(4,4,16,16,Dl),new Pa(8,16,32,32,Dl),new Pa(8,16,128,128,Dl),new Pa(8,32,128,256,Dl),new Pa(32,128,258,1024,Dl),new Pa(32,258,258,4096,Dl)],TL=e=>{e.window_size=2*e.w_size,Ki(e.head),e.max_lazy_match=Ad[e.level].max_lazy,e.good_match=Ad[e.level].good_length,e.nice_match=Ad[e.level].nice_length,e.max_chain_length=Ad[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=nr-1,e.match_available=0,e.ins_h=0};function FL(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Df,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(SL*2),this.dyn_dtree=new Uint16Array((2*jL+1)*2),this.bl_tree=new Uint16Array((2*NL+1)*2),Ki(this.dyn_ltree),Ki(this.dyn_dtree),Ki(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(kL+1),this.heap=new Uint16Array(2*Gp+1),Ki(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Gp+1),Ki(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const gu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==jc&&t.status!==gx&&t.status!==Kp&&t.status!==Zp&&t.status!==Qp&&t.status!==Xp&&t.status!==Yo&&t.status!==Cd?1:0},Xw=e=>{if(gu(e))return Go(e,Ba);e.total_in=e.total_out=0,e.data_type=gL;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?gx:t.wrap?jc:Yo,e.adler=t.wrap===2?0:1,t.last_flush=-2,iL(t),qn},Jw=e=>{const t=Xw(e);return t===qn&&TL(e.state),t},IL=(e,t)=>gu(e)||e.state.wrap!==2?Ba:(e.state.gzhead=t,qn),e_=(e,t,r,n,a,i)=>{if(!e)return Ba;let l=1;if(t===hL&&(t=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),a<1||a>vL||r!==Df||n<8||n>15||t<0||t>9||i<0||i>pL||n===8&&l!==1)return Go(e,Ba);n===8&&(n=9);const o=new FL;return e.state=o,o.strm=e,o.status=jc,o.wrap=l,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+nr-1)/nr),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=i,o.method=r,Jw(e)},RL=(e,t)=>e_(e,t,Df,yL,bL,xL),ML=(e,t)=>{if(gu(e)||t>Tg||t<0)return e?Go(e,Ba):Ba;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Cd&&t!==Gs)return Go(e,e.avail_out===0?Bm:Ba);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Es(e),e.avail_out===0)return r.last_flush=-1,qn}else if(e.avail_in===0&&Ig(t)<=Ig(n)&&t!==Gs)return Go(e,Bm);if(r.status===Cd&&e.avail_in!==0)return Go(e,Bm);if(r.status===jc&&r.wrap===0&&(r.status=Yo),r.status===jc){let a=Df+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=ch||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,a|=i<<6,r.strstart!==0&&(a|=CL),a+=31-a%31,Nd(r,a),r.strstart!==0&&(Nd(r,e.adler>>>16),Nd(r,e.adler&65535)),e.adler=1,r.status=Yo,Es(e),r.pending!==0)return r.last_flush=-1,qn}if(r.status===gx){if(e.adler=0,xr(r,31),xr(r,139),xr(r,8),r.gzhead)xr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xr(r,r.gzhead.time&255),xr(r,r.gzhead.time>>8&255),xr(r,r.gzhead.time>>16&255),xr(r,r.gzhead.time>>24&255),xr(r,r.level===9?2:r.strategy>=ch||r.level<2?4:0),xr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(xr(r,r.gzhead.extra.length&255),xr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Ln(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Kp;else if(xr(r,0),xr(r,0),xr(r,0),xr(r,0),xr(r,0),xr(r,r.level===9?2:r.strategy>=ch||r.level<2?4:0),xr(r,AL),r.status=Yo,Es(e),r.pending!==0)return r.last_flush=-1,qn}if(r.status===Kp){if(r.gzhead.extra){let a=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=Ln(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=o,Es(e),r.pending!==0)return r.last_flush=-1,qn;a=0,i-=o}let l=new Uint8Array(r.gzhead.extra);r.pending_buf.set(l.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>a&&(e.adler=Ln(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=Zp}if(r.status===Zp){if(r.gzhead.name){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Ln(e.adler,r.pending_buf,r.pending-a,a)),Es(e),r.pending!==0)return r.last_flush=-1,qn;a=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,xr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Ln(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=Qp}if(r.status===Qp){if(r.gzhead.comment){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Ln(e.adler,r.pending_buf,r.pending-a,a)),Es(e),r.pending!==0)return r.last_flush=-1,qn;a=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,xr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Ln(e.adler,r.pending_buf,r.pending-a,a))}r.status=Xp}if(r.status===Xp){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Es(e),r.pending!==0))return r.last_flush=-1,qn;xr(r,e.adler&255),xr(r,e.adler>>8&255),e.adler=0}if(r.status=Yo,Es(e),r.pending!==0)return r.last_flush=-1,qn}if(e.avail_in!==0||r.lookahead!==0||t!==po&&r.status!==Cd){let a=r.level===0?Qw(r,t):r.strategy===ch?EL(r,t):r.strategy===mL?DL(r,t):Ad[r.level].func(r,t);if((a===dl||a===zc)&&(r.status=Cd),a===ds||a===dl)return e.avail_out===0&&(r.last_flush=-1),qn;if(a===Bc&&(t===cL?lL(r):t!==Tg&&(Yp(r,0,0,!1),t===dL&&(Ki(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Es(e),e.avail_out===0))return r.last_flush=-1,qn}return t!==Gs?qn:r.wrap<=0?Fg:(r.wrap===2?(xr(r,e.adler&255),xr(r,e.adler>>8&255),xr(r,e.adler>>16&255),xr(r,e.adler>>24&255),xr(r,e.total_in&255),xr(r,e.total_in>>8&255),xr(r,e.total_in>>16&255),xr(r,e.total_in>>24&255)):(Nd(r,e.adler>>>16),Nd(r,e.adler&65535)),Es(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?qn:Fg)},OL=e=>{if(gu(e))return Ba;const t=e.state.status;return e.state=null,t===Yo?Go(e,uL):qn},qL=(e,t)=>{let r=t.length;if(gu(e))return Ba;const n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==jc||n.lookahead)return Ba;if(a===1&&(e.adler=Gd(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){a===0&&(Ki(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const i=e.avail_in,l=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Nc(n);n.lookahead>=nr;){let c=n.strstart,d=n.lookahead-(nr-1);do n.ins_h=xo(n,n.ins_h,n.window[c+nr-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--d);n.strstart=c,n.lookahead=nr-1,Nc(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=nr-1,n.match_available=0,e.next_in=l,e.input=o,e.avail_in=i,n.wrap=a,qn};var BL=RL,zL=e_,UL=Jw,$L=Xw,WL=IL,VL=ML,HL=OL,YL=qL,GL="pako deflate (from Nodeca project)",Id={deflateInit:BL,deflateInit2:zL,deflateReset:UL,deflateResetKeep:$L,deflateSetHeader:WL,deflate:VL,deflateEnd:HL,deflateSetDictionary:YL,deflateInfo:GL};const KL=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ZL=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)KL(r,n)&&(e[n]=r[n])}}return e},QL=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];r.set(l,a),a+=l.length}return r},Ef={assign:ZL,flattenChunks:QL};let t_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t_=!1}const Kd=new Uint8Array(256);for(let e=0;e<256;e++)Kd[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Kd[254]=Kd[254]=1;var XL=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,l=e.length,o=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const JL=(e,t)=>{if(t<65534&&e.subarray&&t_)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var eD=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){i[a++]=l;continue}let o=Kd[l];if(o>4){i[a++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<r;)l=l<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return JL(i,a)},tD=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Kd[e[r]]>t?r:t},Zd={string2buf:XL,buf2string:eD,utf8border:tD};function rD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var r_=rD;const n_=Object.prototype.toString,{Z_NO_FLUSH:nD,Z_SYNC_FLUSH:sD,Z_FULL_FLUSH:aD,Z_FINISH:iD,Z_OK:ef,Z_STREAM_END:oD,Z_DEFAULT_COMPRESSION:lD,Z_DEFAULT_STRATEGY:cD,Z_DEFLATED:dD}=xu;function vx(e){this.options=Ef.assign({level:lD,method:dD,chunkSize:16384,windowBits:15,memLevel:8,strategy:cD},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r_,this.strm.avail_out=0;let r=Id.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==ef)throw new Error(_c[r]);if(t.header&&Id.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Zd.string2buf(t.dictionary):n_.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Id.deflateSetDictionary(this.strm,n),r!==ef)throw new Error(_c[r]);this._dict_set=!0}}vx.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?iD:nD,typeof e=="string"?r.input=Zd.string2buf(e):n_.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===sD||i===aD)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=Id.deflate(r,i),a===oD)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Id.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===ef;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};vx.prototype.onData=function(e){this.chunks.push(e)};vx.prototype.onEnd=function(e){e===ef&&(this.result=Ef.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const dh=16209,uD=16191;var hD=function(t,r){let n,a,i,l,o,c,d,u,p,x,f,g,b,w,j,P,F,D,z,Y,ee,k,_,M;const C=t.state;n=t.next_in,_=t.input,a=n+(t.avail_in-5),i=t.next_out,M=t.output,l=i-(r-t.avail_out),o=i+(t.avail_out-257),c=C.dmax,d=C.wsize,u=C.whave,p=C.wnext,x=C.window,f=C.hold,g=C.bits,b=C.lencode,w=C.distcode,j=(1<<C.lenbits)-1,P=(1<<C.distbits)-1;e:do{g<15&&(f+=_[n++]<<g,g+=8,f+=_[n++]<<g,g+=8),F=b[f&j];t:for(;;){if(D=F>>>24,f>>>=D,g-=D,D=F>>>16&255,D===0)M[i++]=F&65535;else if(D&16){z=F&65535,D&=15,D&&(g<D&&(f+=_[n++]<<g,g+=8),z+=f&(1<<D)-1,f>>>=D,g-=D),g<15&&(f+=_[n++]<<g,g+=8,f+=_[n++]<<g,g+=8),F=w[f&P];r:for(;;){if(D=F>>>24,f>>>=D,g-=D,D=F>>>16&255,D&16){if(Y=F&65535,D&=15,g<D&&(f+=_[n++]<<g,g+=8,g<D&&(f+=_[n++]<<g,g+=8)),Y+=f&(1<<D)-1,Y>c){t.msg="invalid distance too far back",C.mode=dh;break e}if(f>>>=D,g-=D,D=i-l,Y>D){if(D=Y-D,D>u&&C.sane){t.msg="invalid distance too far back",C.mode=dh;break e}if(ee=0,k=x,p===0){if(ee+=d-D,D<z){z-=D;do M[i++]=x[ee++];while(--D);ee=i-Y,k=M}}else if(p<D){if(ee+=d+p-D,D-=p,D<z){z-=D;do M[i++]=x[ee++];while(--D);if(ee=0,p<z){D=p,z-=D;do M[i++]=x[ee++];while(--D);ee=i-Y,k=M}}}else if(ee+=p-D,D<z){z-=D;do M[i++]=x[ee++];while(--D);ee=i-Y,k=M}for(;z>2;)M[i++]=k[ee++],M[i++]=k[ee++],M[i++]=k[ee++],z-=3;z&&(M[i++]=k[ee++],z>1&&(M[i++]=k[ee++]))}else{ee=i-Y;do M[i++]=M[ee++],M[i++]=M[ee++],M[i++]=M[ee++],z-=3;while(z>2);z&&(M[i++]=M[ee++],z>1&&(M[i++]=M[ee++]))}}else if(D&64){t.msg="invalid distance code",C.mode=dh;break e}else{F=w[(F&65535)+(f&(1<<D)-1)];continue r}break}}else if(D&64)if(D&32){C.mode=uD;break e}else{t.msg="invalid literal/length code",C.mode=dh;break e}else{F=b[(F&65535)+(f&(1<<D)-1)];continue t}break}}while(n<a&&i<o);z=g>>3,n-=z,g-=z<<3,f&=(1<<g)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),C.hold=f,C.bits=g};const El=15,Rg=852,Mg=592,Og=0,Um=1,qg=2,fD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gD=(e,t,r,n,a,i,l,o)=>{const c=o.bits;let d=0,u=0,p=0,x=0,f=0,g=0,b=0,w=0,j=0,P=0,F,D,z,Y,ee,k=null,_;const M=new Uint16Array(El+1),C=new Uint16Array(El+1);let A=null,W,U,oe;for(d=0;d<=El;d++)M[d]=0;for(u=0;u<n;u++)M[t[r+u]]++;for(f=c,x=El;x>=1&&M[x]===0;x--);if(f>x&&(f=x),x===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<x&&M[p]===0;p++);for(f<p&&(f=p),w=1,d=1;d<=El;d++)if(w<<=1,w-=M[d],w<0)return-1;if(w>0&&(e===Og||x!==1))return-1;for(C[1]=0,d=1;d<El;d++)C[d+1]=C[d]+M[d];for(u=0;u<n;u++)t[r+u]!==0&&(l[C[t[r+u]]++]=u);if(e===Og?(k=A=l,_=20):e===Um?(k=fD,A=mD,_=257):(k=pD,A=xD,_=0),P=0,u=0,d=p,ee=i,g=f,b=0,z=-1,j=1<<f,Y=j-1,e===Um&&j>Rg||e===qg&&j>Mg)return 1;for(;;){W=d-b,l[u]+1<_?(U=0,oe=l[u]):l[u]>=_?(U=A[l[u]-_],oe=k[l[u]-_]):(U=96,oe=0),F=1<<d-b,D=1<<g,p=D;do D-=F,a[ee+(P>>b)+D]=W<<24|U<<16|oe|0;while(D!==0);for(F=1<<d-1;P&F;)F>>=1;if(F!==0?(P&=F-1,P+=F):P=0,u++,--M[d]===0){if(d===x)break;d=t[r+l[u]]}if(d>f&&(P&Y)!==z){for(b===0&&(b=f),ee+=p,g=d-b,w=1<<g;g+b<x&&(w-=M[g+b],!(w<=0));)g++,w<<=1;if(j+=1<<g,e===Um&&j>Rg||e===qg&&j>Mg)return 1;z=P&Y,a[z]=f<<24|g<<16|ee-i|0}}return P!==0&&(a[ee+P]=d-b<<24|64<<16|0),o.bits=f,0};var Rd=gD;const vD=0,s_=1,a_=2,{Z_FINISH:Bg,Z_BLOCK:yD,Z_TREES:uh,Z_OK:ul,Z_STREAM_END:bD,Z_NEED_DICT:wD,Z_STREAM_ERROR:Ks,Z_DATA_ERROR:i_,Z_MEM_ERROR:o_,Z_BUF_ERROR:_D,Z_DEFLATED:zg}=xu,Tf=16180,Ug=16181,$g=16182,Wg=16183,Vg=16184,Hg=16185,Yg=16186,Gg=16187,Kg=16188,Zg=16189,tf=16190,ui=16191,$m=16192,Qg=16193,Wm=16194,Xg=16195,Jg=16196,ev=16197,tv=16198,hh=16199,fh=16200,rv=16201,nv=16202,sv=16203,av=16204,iv=16205,Vm=16206,ov=16207,lv=16208,Or=16209,l_=16210,c_=16211,jD=852,ND=592,SD=15,kD=SD,cv=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function CD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ml=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Tf||t.mode>c_?1:0},d_=e=>{if(ml(e))return Ks;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Tf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(jD),t.distcode=t.distdyn=new Int32Array(ND),t.sane=1,t.back=-1,ul},u_=e=>{if(ml(e))return Ks;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,d_(e)},h_=(e,t)=>{let r;if(ml(e))return Ks;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ks:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,u_(e))},f_=(e,t)=>{if(!e)return Ks;const r=new CD;e.state=r,r.strm=e,r.window=null,r.mode=Tf;const n=h_(e,t);return n!==ul&&(e.state=null),n},AD=e=>f_(e,kD);let dv=!0,Hm,Ym;const PD=e=>{if(dv){Hm=new Int32Array(512),Ym=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Rd(s_,e.lens,0,288,Hm,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Rd(a_,e.lens,0,32,Ym,0,e.work,{bits:5}),dv=!1}e.lencode=Hm,e.lenbits=9,e.distcode=Ym,e.distbits=5},m_=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},LD=(e,t)=>{let r,n,a,i,l,o,c,d,u,p,x,f,g,b,w=0,j,P,F,D,z,Y,ee,k;const _=new Uint8Array(4);let M,C;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ml(e)||!e.output||!e.input&&e.avail_in!==0)return Ks;r=e.state,r.mode===ui&&(r.mode=$m),l=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,d=r.hold,u=r.bits,p=o,x=c,k=ul;e:for(;;)switch(r.mode){case Tf:if(r.wrap===0){r.mode=$m;break}for(;u<16;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,_[0]=d&255,_[1]=d>>>8&255,r.check=Ln(r.check,_,2,0),d=0,u=0,r.mode=Ug;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=Or;break}if((d&15)!==zg){e.msg="unknown compression method",r.mode=Or;break}if(d>>>=4,u-=4,ee=(d&15)+8,r.wbits===0&&(r.wbits=ee),ee>15||ee>r.wbits){e.msg="invalid window size",r.mode=Or;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?Zg:ui,d=0,u=0;break;case Ug:for(;u<16;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==zg){e.msg="unknown compression method",r.mode=Or;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Or;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,r.check=Ln(r.check,_,2,0)),d=0,u=0,r.mode=$g;case $g:for(;u<32;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,_[2]=d>>>16&255,_[3]=d>>>24&255,r.check=Ln(r.check,_,4,0)),d=0,u=0,r.mode=Wg;case Wg:for(;u<16;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,r.check=Ln(r.check,_,2,0)),d=0,u=0,r.mode=Vg;case Vg:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,r.check=Ln(r.check,_,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=Hg;case Hg:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(ee=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),ee)),r.flags&512&&r.wrap&4&&(r.check=Ln(r.check,n,f,i)),o-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=Yg;case Yg:if(r.flags&2048){if(o===0)break e;f=0;do ee=n[i+f++],r.head&&ee&&r.length<65536&&(r.head.name+=String.fromCharCode(ee));while(ee&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Ln(r.check,n,f,i)),o-=f,i+=f,ee)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Gg;case Gg:if(r.flags&4096){if(o===0)break e;f=0;do ee=n[i+f++],r.head&&ee&&r.length<65536&&(r.head.comment+=String.fromCharCode(ee));while(ee&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Ln(r.check,n,f,i)),o-=f,i+=f,ee)break e}else r.head&&(r.head.comment=null);r.mode=Kg;case Kg:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Or;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ui;break;case Zg:for(;u<32;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}e.adler=r.check=cv(d),d=0,u=0,r.mode=tf;case tf:if(r.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=u,wD;e.adler=r.check=1,r.mode=ui;case ui:if(t===yD||t===uh)break e;case $m:if(r.last){d>>>=u&7,u-=u&7,r.mode=Vm;break}for(;u<3;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=Qg;break;case 1:if(PD(r),r.mode=hh,t===uh){d>>>=2,u-=2;break e}break;case 2:r.mode=Jg;break;case 3:e.msg="invalid block type",r.mode=Or}d>>>=2,u-=2;break;case Qg:for(d>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Or;break}if(r.length=d&65535,d=0,u=0,r.mode=Wm,t===uh)break e;case Wm:r.mode=Xg;case Xg:if(f=r.length,f){if(f>o&&(f=o),f>c&&(f=c),f===0)break e;a.set(n.subarray(i,i+f),l),o-=f,i+=f,c-=f,l+=f,r.length-=f;break}r.mode=ui;break;case Jg:for(;u<14;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Or;break}r.have=0,r.mode=ev;case ev:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}r.lens[A[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},k=Rd(vD,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,k){e.msg="invalid code lengths set",r.mode=Or;break}r.have=0,r.mode=tv;case tv:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[d&(1<<r.lenbits)-1],j=w>>>24,P=w>>>16&255,F=w&65535,!(j<=u);){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(F<16)d>>>=j,u-=j,r.lens[r.have++]=F;else{if(F===16){for(C=j+2;u<C;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(d>>>=j,u-=j,r.have===0){e.msg="invalid bit length repeat",r.mode=Or;break}ee=r.lens[r.have-1],f=3+(d&3),d>>>=2,u-=2}else if(F===17){for(C=j+3;u<C;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}d>>>=j,u-=j,ee=0,f=3+(d&7),d>>>=3,u-=3}else{for(C=j+7;u<C;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}d>>>=j,u-=j,ee=0,f=11+(d&127),d>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Or;break}for(;f--;)r.lens[r.have++]=ee}}if(r.mode===Or)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Or;break}if(r.lenbits=9,M={bits:r.lenbits},k=Rd(s_,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,k){e.msg="invalid literal/lengths set",r.mode=Or;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},k=Rd(a_,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,k){e.msg="invalid distances set",r.mode=Or;break}if(r.mode=hh,t===uh)break e;case hh:r.mode=fh;case fh:if(o>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=u,hD(e,x),l=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,d=r.hold,u=r.bits,r.mode===ui&&(r.back=-1);break}for(r.back=0;w=r.lencode[d&(1<<r.lenbits)-1],j=w>>>24,P=w>>>16&255,F=w&65535,!(j<=u);){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(P&&!(P&240)){for(D=j,z=P,Y=F;w=r.lencode[Y+((d&(1<<D+z)-1)>>D)],j=w>>>24,P=w>>>16&255,F=w&65535,!(D+j<=u);){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}d>>>=D,u-=D,r.back+=D}if(d>>>=j,u-=j,r.back+=j,r.length=F,P===0){r.mode=iv;break}if(P&32){r.back=-1,r.mode=ui;break}if(P&64){e.msg="invalid literal/length code",r.mode=Or;break}r.extra=P&15,r.mode=rv;case rv:if(r.extra){for(C=r.extra;u<C;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=nv;case nv:for(;w=r.distcode[d&(1<<r.distbits)-1],j=w>>>24,P=w>>>16&255,F=w&65535,!(j<=u);){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(!(P&240)){for(D=j,z=P,Y=F;w=r.distcode[Y+((d&(1<<D+z)-1)>>D)],j=w>>>24,P=w>>>16&255,F=w&65535,!(D+j<=u);){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}d>>>=D,u-=D,r.back+=D}if(d>>>=j,u-=j,r.back+=j,P&64){e.msg="invalid distance code",r.mode=Or;break}r.offset=F,r.extra=P&15,r.mode=sv;case sv:if(r.extra){for(C=r.extra;u<C;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Or;break}r.mode=av;case av:if(c===0)break e;if(f=x-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Or;break}f>r.wnext?(f-=r.wnext,g=r.wsize-f):g=r.wnext-f,f>r.length&&(f=r.length),b=r.window}else b=a,g=l-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do a[l++]=b[g++];while(--f);r.length===0&&(r.mode=fh);break;case iv:if(c===0)break e;a[l++]=r.length,c--,r.mode=fh;break;case Vm:if(r.wrap){for(;u<32;){if(o===0)break e;o--,d|=n[i++]<<u,u+=8}if(x-=c,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?Ln(r.check,a,x,l-x):Gd(r.check,a,x,l-x)),x=c,r.wrap&4&&(r.flags?d:cv(d))!==r.check){e.msg="incorrect data check",r.mode=Or;break}d=0,u=0}r.mode=ov;case ov:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,d+=n[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Or;break}d=0,u=0}r.mode=lv;case lv:k=bD;break e;case Or:k=i_;break e;case l_:return o_;case c_:default:return Ks}return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=u,(r.wsize||x!==e.avail_out&&r.mode<Or&&(r.mode<Vm||t!==Bg))&&m_(e,e.output,e.next_out,x-e.avail_out),p-=e.avail_in,x-=e.avail_out,e.total_in+=p,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?Ln(r.check,a,x,e.next_out-x):Gd(r.check,a,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ui?128:0)+(r.mode===hh||r.mode===Wm?256:0),(p===0&&x===0||t===Bg)&&k===ul&&(k=_D),k},DD=e=>{if(ml(e))return Ks;let t=e.state;return t.window&&(t.window=null),e.state=null,ul},ED=(e,t)=>{if(ml(e))return Ks;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,ul):Ks},TD=(e,t)=>{const r=t.length;let n,a,i;return ml(e)||(n=e.state,n.wrap!==0&&n.mode!==tf)?Ks:n.mode===tf&&(a=1,a=Gd(a,t,r,0),a!==n.check)?i_:(i=m_(e,t,r,r),i?(n.mode=l_,o_):(n.havedict=1,ul))};var FD=u_,ID=h_,RD=d_,MD=AD,OD=f_,qD=LD,BD=DD,zD=ED,UD=TD,$D="pako inflate (from Nodeca project)",mi={inflateReset:FD,inflateReset2:ID,inflateResetKeep:RD,inflateInit:MD,inflateInit2:OD,inflate:qD,inflateEnd:BD,inflateGetHeader:zD,inflateSetDictionary:UD,inflateInfo:$D};function WD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var VD=WD;const p_=Object.prototype.toString,{Z_NO_FLUSH:HD,Z_FINISH:YD,Z_OK:Qd,Z_STREAM_END:Gm,Z_NEED_DICT:Km,Z_STREAM_ERROR:GD,Z_DATA_ERROR:uv,Z_MEM_ERROR:KD}=xu;function vu(e){this.options=Ef.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r_,this.strm.avail_out=0;let r=mi.inflateInit2(this.strm,t.windowBits);if(r!==Qd)throw new Error(_c[r]);if(this.header=new VD,mi.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Zd.string2buf(t.dictionary):p_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=mi.inflateSetDictionary(this.strm,t.dictionary),r!==Qd)))throw new Error(_c[r])}vu.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?YD:HD,p_.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=mi.inflate(r,l),i===Km&&a&&(i=mi.inflateSetDictionary(r,a),i===Qd?i=mi.inflate(r,l):i===uv&&(i=Km));r.avail_in>0&&i===Gm&&r.state.wrap>0&&e[r.next_in]!==0;)mi.inflateReset(r),i=mi.inflate(r,l);switch(i){case GD:case uv:case Km:case KD:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===Gm))if(this.options.to==="string"){let c=Zd.utf8border(r.output,r.next_out),d=r.next_out-c,u=Zd.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Qd&&o===0)){if(i===Gm)return i=mi.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};vu.prototype.onData=function(e){this.chunks.push(e)};vu.prototype.onEnd=function(e){e===Qd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ef.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function yx(e,t){const r=new vu(t);if(r.push(e),r.err)throw r.msg||_c[r.err];return r.result}function ZD(e,t){return t=t||{},t.raw=!0,yx(e,t)}var QD=vu,XD=yx,JD=ZD,eE=yx,tE=xu,rE={Inflate:QD,inflate:XD,inflateRaw:JD,ungzip:eE,constants:tE};const{Inflate:nE,inflate:sE,inflateRaw:JF,ungzip:eI}=rE;var hv=nE,aE=sE;const x_=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;x_[e]=t}const fv=4294967295;function iE(e,t,r){let n=e;for(let a=0;a<r;a++)n=x_[(n^t[a])&255]^n>>>8;return n}function oE(e,t){return(iE(fv,e,t)^fv)>>>0}function mv(e,t,r){const n=e.readUint32(),a=oE(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function g_(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function v_(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function y_(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function b_(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function w_(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+lE(t[i-a],r[i],r[i-a])&255}}function lE(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-r);return a<=i&&a<=l?e:i<=l?t:r}function cE(e,t,r,n,a,i){switch(e){case 0:g_(t,r,a);break;case 1:v_(t,r,a,i);break;case 2:y_(t,r,n,a);break;case 3:b_(t,r,n,a,i);break;case 4:w_(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const dE=new Uint16Array([255]),uE=new Uint8Array(dE.buffer),hE=uE[0]===255;function fE(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,c=new Uint8Array(n*r*o);let d=0;for(let u=0;u<7;u++){const p=l[u],x=Math.ceil((r-p.x)/p.xStep),f=Math.ceil((n-p.y)/p.yStep);if(x<=0||f<=0)continue;const g=x*o,b=new Uint8Array(g);for(let w=0;w<f;w++){const j=t[d++],P=t.subarray(d,d+g);d+=g;const F=new Uint8Array(g);cE(j,P,F,b,g,o),b.set(F);for(let D=0;D<x;D++){const z=p.x+D*p.xStep,Y=p.y+w*p.yStep;if(!(z>=r||Y>=n))for(let ee=0;ee<o;ee++)c[(Y*r+z)*o+ee]=F[D*o+ee]}}}if(i===16){const u=new Uint16Array(c.buffer);if(hE)for(let p=0;p<u.length;p++)u[p]=mE(u[p]);return u}else return c}function mE(e){return(e&255)<<8|e>>8&255}const pE=new Uint16Array([255]),xE=new Uint8Array(pE.buffer),gE=xE[0]===255,vE=new Uint8Array(0);function pv(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),c=new Uint8Array(n*o);let d=vE,u=0,p,x;for(let f=0;f<n;f++){switch(p=t.subarray(u+1,u+1+o),x=c.subarray(f*o,(f+1)*o),t[u]){case 0:g_(p,x,o);break;case 1:v_(p,x,o,l);break;case 2:y_(p,x,d,o);break;case 3:b_(p,x,d,o,l);break;case 4:w_(p,x,d,o,l);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=x,u+=o+1}if(i===16){const f=new Uint16Array(c.buffer);if(gE)for(let g=0;g<f.length;g++)f[g]=yE(f[g]);return f}else return c}function yE(e){return(e&255)<<8|e>>8&255}const Ah=Uint8Array.of(137,80,78,71,13,10,26,10);function xv(e){if(!bE(e.readBytes(Ah.length)))throw new Error("wrong PNG signature")}function bE(e){if(e.length<Ah.length)return!1;for(let t=0;t<Ah.length;t++)if(e[t]!==Ah[t])return!1;return!0}const wE="tEXt",_E=0,__=new TextDecoder("latin1");function jE(e){if(SE(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const NE=/^[\u0000-\u00FF]*$/;function SE(e){if(!NE.test(e))throw new Error("invalid latin1 text")}function kE(e,t,r){const n=j_(t);e[n]=CE(t,r-n.length-1)}function j_(e){for(e.mark();e.readByte()!==_E;);const t=e.offset;e.reset();const r=__.decode(e.readBytes(t-e.offset-1));return e.skip(1),jE(r),r}function CE(e,t){return __.decode(e.readBytes(t))}const Ds={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zm={UNKNOWN:-1,DEFLATE:0},gv={UNKNOWN:-1,ADAPTIVE:0},Qm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},mh={NONE:0,BACKGROUND:1,PREVIOUS:2},Xm={SOURCE:0,OVER:1};class AE extends hx{constructor(r,n={}){super(r);_r(this,"_checkCrc");_r(this,"_inflator");_r(this,"_png");_r(this,"_apng");_r(this,"_end");_r(this,"_hasPalette");_r(this,"_palette");_r(this,"_hasTransparency");_r(this,"_transparency");_r(this,"_compressionMethod");_r(this,"_filterMethod");_r(this,"_interlaceMethod");_r(this,"_colorType");_r(this,"_isAnimated");_r(this,"_numberOfFrames");_r(this,"_numberOfPlays");_r(this,"_frames");_r(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new hv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zm.UNKNOWN,this._filterMethod=gv.UNKNOWN,this._interlaceMethod=Qm.UNKNOWN,this._colorType=Ds.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(xv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case wE:kE(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?mv(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?mv(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=PE(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ds.GREYSCALE:a=1;break;case Ds.TRUECOLOUR:a=3;break;case Ds.INDEXED_COLOUR:a=1;break;case Ds.GREYSCALE_ALPHA:a=2;break;case Ds.TRUECOLOUR_ALPHA:a=4;break;case Ds.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ds.GREYSCALE:case Ds.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ds.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ds.UNKNOWN:case Ds.GREYSCALE_ALPHA:case Ds.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=j_(this),a=this.readUint8();if(a!==Zm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:aE(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=pv({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case mh.NONE:break;case mh.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const o=(i*r.width+l)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[o+c]=0}break;case mh.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(l,o)=>{const c=((l+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,d=(l*n.width+o)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case Xm.SOURCE:for(let l=0;l<n.height;l++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:d}=i(l,o);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[d+u]}break;case Xm.OVER:for(let l=0;l<n.height;l++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:d}=i(l,o);for(let u=0;u<this._png.channels;u++){const p=n.data[d+this._png.channels-1]/a,x=u%(this._png.channels-1)===0?1:n.data[d+u],f=Math.floor(p*x+(1-p)*r.data[c+u]);r.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==gv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Qm.NO_INTERLACE)this._png.data=pv({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Qm.ADAM7)this._png.data=fE({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:mh.NONE,blendOp:Xm.SOURCE,data:r}),this._inflator=new hv,this._writingDataChunks=!1}}function PE(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var vv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(vv||(vv={}));function LE(e,t){return new AE(e,t).decode()}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Jm(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var Ar={log:Jm,warn:function(e){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):Jm.call(null,arguments))},error:function(e){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):Jm(e))}};function ep(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){$o(n.response,t,r)},n.onerror=function(){Ar.error("could not download file")},n.send()}function yv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ph(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var $o=Et.saveAs||((typeof window>"u"?"undefined":Nr(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Et.URL||Et.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?yv(a.href)?ep(e,t,r):ph(a,a.target="_blank"):ph(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){ph(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(yv(e))ep(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){ph(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Nr(i)!=="object"&&(Ar.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return ep(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Et.HTMLElement)||Et.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":Nr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=l?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var c=Et.URL||Et.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function N_(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var Ph=Et.atob.bind(Et),bv=Et.btoa.bind(Et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function tp(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Hn(r,n,a,i,t[0],7,-680876936),i=Hn(i,r,n,a,t[1],12,-389564586),a=Hn(a,i,r,n,t[2],17,606105819),n=Hn(n,a,i,r,t[3],22,-1044525330),r=Hn(r,n,a,i,t[4],7,-176418897),i=Hn(i,r,n,a,t[5],12,1200080426),a=Hn(a,i,r,n,t[6],17,-1473231341),n=Hn(n,a,i,r,t[7],22,-45705983),r=Hn(r,n,a,i,t[8],7,1770035416),i=Hn(i,r,n,a,t[9],12,-1958414417),a=Hn(a,i,r,n,t[10],17,-42063),n=Hn(n,a,i,r,t[11],22,-1990404162),r=Hn(r,n,a,i,t[12],7,1804603682),i=Hn(i,r,n,a,t[13],12,-40341101),a=Hn(a,i,r,n,t[14],17,-1502002290),r=Yn(r,n=Hn(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Yn(i,r,n,a,t[6],9,-1069501632),a=Yn(a,i,r,n,t[11],14,643717713),n=Yn(n,a,i,r,t[0],20,-373897302),r=Yn(r,n,a,i,t[5],5,-701558691),i=Yn(i,r,n,a,t[10],9,38016083),a=Yn(a,i,r,n,t[15],14,-660478335),n=Yn(n,a,i,r,t[4],20,-405537848),r=Yn(r,n,a,i,t[9],5,568446438),i=Yn(i,r,n,a,t[14],9,-1019803690),a=Yn(a,i,r,n,t[3],14,-187363961),n=Yn(n,a,i,r,t[8],20,1163531501),r=Yn(r,n,a,i,t[13],5,-1444681467),i=Yn(i,r,n,a,t[2],9,-51403784),a=Yn(a,i,r,n,t[7],14,1735328473),r=Gn(r,n=Yn(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Gn(i,r,n,a,t[8],11,-2022574463),a=Gn(a,i,r,n,t[11],16,1839030562),n=Gn(n,a,i,r,t[14],23,-35309556),r=Gn(r,n,a,i,t[1],4,-1530992060),i=Gn(i,r,n,a,t[4],11,1272893353),a=Gn(a,i,r,n,t[7],16,-155497632),n=Gn(n,a,i,r,t[10],23,-1094730640),r=Gn(r,n,a,i,t[13],4,681279174),i=Gn(i,r,n,a,t[0],11,-358537222),a=Gn(a,i,r,n,t[3],16,-722521979),n=Gn(n,a,i,r,t[6],23,76029189),r=Gn(r,n,a,i,t[9],4,-640364487),i=Gn(i,r,n,a,t[12],11,-421815835),a=Gn(a,i,r,n,t[15],16,530742520),r=Kn(r,n=Gn(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Kn(i,r,n,a,t[7],10,1126891415),a=Kn(a,i,r,n,t[14],15,-1416354905),n=Kn(n,a,i,r,t[5],21,-57434055),r=Kn(r,n,a,i,t[12],6,1700485571),i=Kn(i,r,n,a,t[3],10,-1894986606),a=Kn(a,i,r,n,t[10],15,-1051523),n=Kn(n,a,i,r,t[1],21,-2054922799),r=Kn(r,n,a,i,t[8],6,1873313359),i=Kn(i,r,n,a,t[15],10,-30611744),a=Kn(a,i,r,n,t[6],15,-1560198380),n=Kn(n,a,i,r,t[13],21,1309151649),r=Kn(r,n,a,i,t[4],6,-145523070),i=Kn(i,r,n,a,t[11],10,-1120210379),a=Kn(a,i,r,n,t[2],15,718787259),n=Kn(n,a,i,r,t[9],21,-343485551),e[0]=co(r,e[0]),e[1]=co(n,e[1]),e[2]=co(a,e[2]),e[3]=co(i,e[3])}function Ff(e,t,r,n,a,i){return t=co(co(t,e),co(n,i)),co(t<<a|t>>>32-a,r)}function Hn(e,t,r,n,a,i,l){return Ff(t&r|~t&n,e,t,a,i,l)}function Yn(e,t,r,n,a,i,l){return Ff(t&n|r&~n,e,t,a,i,l)}function Gn(e,t,r,n,a,i,l){return Ff(t^r^n,e,t,a,i,l)}function Kn(e,t,r,n,a,i,l){return Ff(r^(t|~n),e,t,a,i,l)}function S_(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)tp(n,DE(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(tp(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,tp(n,a),n}function DE(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var wv="0123456789abcdef".split("");function EE(e){for(var t="",r=0;r<4;r++)t+=wv[e>>8*r+4&15]+wv[e>>8*r&15];return t}function TE(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function e0(e){return S_(e).map(TE).join("")}var FE=function(e){for(var t=0;t<e.length;t++)e[t]=EE(e[t]);return e.join("")}(S_("hello"))!="5d41402abc4b2a76b9719d911017c592";function co(e,t){if(FE){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function t0(e,t){var r,n,a,i;if(e!==r){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var u=o[c];d=(d+u+l.charCodeAt(c))%256,o[c]=o[d],o[d]=u}r=e,n=o}else o=n;var p=t.length,x=0,f=0,g="";for(c=0;c<p;c++)f=(f+(u=o[x=(x+1)%256]))%256,o[x]=o[f],o[f]=u,l=o[(o[x]+o[f])%256],g+=String.fromCharCode(t.charCodeAt(c)^l);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _v={print:4,modify:8,copy:16,"annot-forms":32};function Ml(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(_v.perm!==void 0)throw new Error("Invalid permission: "+o);a+=_v[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=e0(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=t0(this.encryptionKey,this.padding)}function Ol(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function jv(e){if(Nr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var l=t[r][i];try{l[0].apply(e,n)}catch(o){Et.console&&Ar.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function rf(e){if(!(this instanceof rf))return new rf(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function k_(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Wo(e,t,r,n,a){if(!(this instanceof Wo))return new Wo(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,k_.call(this,n,a)}function Bl(e,t,r,n,a){if(!(this instanceof Bl))return new Bl(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,k_.call(this,n,a)}function gt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],o=1,c=16,d="S",u=null;Nr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,x={},f={internal:{},__private__:{}};f.__private__.PubSub=jv;var g="1.3",b=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(v){g=v};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return w};var j=f.__private__.getPageFormat=function(v){return w[v]};a=a||"a4";var P="compat",F="advanced",D=P;function z(){this.saveGraphicsState(),$(new at(bt,0,0,-bt,0,Do()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),d="n",D=F}function Y(){this.restoreGraphicsState(),d="S",D=P}var ee=f.__private__.combineFontStyleAndFontWeight=function(v,E){if(v=="bold"&&E=="normal"||v=="bold"&&E==400||v=="normal"&&E=="italic"||v=="bold"&&E=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return E&&(v=E==400||E==="normal"?v==="italic"?"italic":"normal":E!=700&&E!=="bold"||v!=="normal"?(E==700?"bold":E)+""+v:"bold"),v};f.advancedAPI=function(v){var E=D===P;return E&&z.call(this),typeof v!="function"||(v(this),E&&Y.call(this)),this},f.compatAPI=function(v){var E=D===F;return E&&Y.call(this),typeof v!="function"||(v(this),E&&z.call(this)),this},f.isAdvancedAPI=function(){return D===F};var k,_=function(v){if(D!==F)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=f.roundToPrecision=f.__private__.roundToPrecision=function(v,E){var Q=t||E;if(isNaN(v)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Q).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof c=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return M(v,c)}:c==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return M(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return M(v,16)};var C=f.f2=f.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return M(v,2)},A=f.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return M(v,3)},W=f.scale=f.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return D===P?v*bt:D===F?v:void 0},U=function(v){return W(function(E){return D===P?Do()-E:D===F?E:void 0}(v))};f.__private__.setPrecision=f.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var oe,ue="00000000000000000000000000000000",te=f.__private__.getFileId=function(){return ue},X=f.__private__.setFileId=function(v){return ue=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(gn=new Ml(u.userPermissions,u.userPassword,u.ownerPassword,ue)),ue};f.setFileId=function(v){return X(v),this},f.getFileId=function(){return te()};var ne=f.__private__.convertDateToPDFDate=function(v){var E=v.getTimezoneOffset(),Q=E<0?"+":"-",ae=Math.floor(Math.abs(E/60)),ge=Math.abs(E%60),Te=[Q,I(ae),"'",I(ge),"'"].join("");return["D:",v.getFullYear(),I(v.getMonth()+1),I(v.getDate()),I(v.getHours()),I(v.getMinutes()),I(v.getSeconds()),Te].join("")},ke=f.__private__.convertPDFDateToDate=function(v){var E=parseInt(v.substr(2,4),10),Q=parseInt(v.substr(6,2),10)-1,ae=parseInt(v.substr(8,2),10),ge=parseInt(v.substr(10,2),10),Te=parseInt(v.substr(12,2),10),Oe=parseInt(v.substr(14,2),10);return new Date(E,Q,ae,ge,Te,Oe,0)},me=f.__private__.setCreationDate=function(v){var E;if(v===void 0&&(v=new Date),v instanceof Date)E=ne(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");E=v}return oe=E},L=f.__private__.getCreationDate=function(v){var E=oe;return v==="jsDate"&&(E=ke(oe)),E};f.setCreationDate=function(v){return me(v),this},f.getCreationDate=function(v){return L(v)};var q,I=f.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},V=f.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},J=0,re=[],ce=[],pe=0,we=[],Ne=[],Me=!1,Be=ce;f.__private__.setCustomOutputDestination=function(v){Me=!0,Be=v};var ze=function(v){Me||(Be=v)};f.__private__.resetCustomOutputDestination=function(){Me=!1,Be=ce};var $=f.__private__.out=function(v){return v=v.toString(),pe+=v.length+1,Be.push(v),Be},Re=f.__private__.write=function(v){return $(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},yt=f.__private__.getArrayBuffer=function(v){for(var E=v.length,Q=new ArrayBuffer(E),ae=new Uint8Array(Q);E--;)ae[E]=v.charCodeAt(E);return Q},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ue};var Pe=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(v){return Pe=D===F?v/bt:v,this};var Z,se=f.__private__.getFontSize=f.getFontSize=function(){return D===P?Pe:Pe*bt},he=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(v){return he=v,this},f.__private__.getR2L=f.getR2L=function(){return he};var Se,De=f.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Z=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Z=v}else Z=parseInt(v,10)};f.__private__.getZoomMode=function(){return Z};var Ce,Ae=f.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Se=v};f.__private__.getPageMode=function(){return Se};var Ye=f.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Ce=v};f.__private__.getLayoutMode=function(){return Ce},f.__private__.setDisplayMode=f.setDisplayMode=function(v,E,Q){return De(v),Ye(E),Ae(Q),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(v){if(Object.keys(Ze).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[v]},f.__private__.getDocumentProperties=function(){return Ze},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(v){for(var E in Ze)Ze.hasOwnProperty(E)&&v[E]&&(Ze[E]=v[E]);return this},f.__private__.setDocumentProperty=function(v,E){if(Object.keys(Ze).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[v]=E};var Ke,bt,Qe,er,Lt,jt={},Ot={},sr=[],vt={},pr={},St={},Tt={},Pr=null,$t=0,ft=[],fr=new jv(f),kt=e.hotfixes||[],Rt={},ar={},Ur=[],at=function v(E,Q,ae,ge,Te,Oe){if(!(this instanceof v))return new v(E,Q,ae,ge,Te,Oe);isNaN(E)&&(E=1),isNaN(Q)&&(Q=0),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=1),isNaN(Te)&&(Te=0),isNaN(Oe)&&(Oe=0),this._matrix=[E,Q,ae,ge,Te,Oe]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(v)},at.prototype.multiply=function(v){var E=v.sx*this.sx+v.shy*this.shx,Q=v.sx*this.shy+v.shy*this.sy,ae=v.shx*this.sx+v.sy*this.shx,ge=v.shx*this.shy+v.sy*this.sy,Te=v.tx*this.sx+v.ty*this.shx+this.tx,Oe=v.tx*this.shy+v.ty*this.sy+this.ty;return new at(E,Q,ae,ge,Te,Oe)},at.prototype.decompose=function(){var v=this.sx,E=this.shy,Q=this.shx,ae=this.sy,ge=this.tx,Te=this.ty,Oe=Math.sqrt(v*v+E*E),st=(v/=Oe)*Q+(E/=Oe)*ae;Q-=v*st,ae-=E*st;var mt=Math.sqrt(Q*Q+ae*ae);return st/=mt,v*(ae/=mt)<E*(Q/=mt)&&(v=-v,E=-E,st=-st,Oe=-Oe),{scale:new at(Oe,0,0,mt,0,0),translate:new at(1,0,0,1,ge,Te),rotate:new at(v,E,-E,v,0,0),skew:new at(1,0,st,1,0,0)}},at.prototype.toString=function(v){return this.join(" ")},at.prototype.inversed=function(){var v=this.sx,E=this.shy,Q=this.shx,ae=this.sy,ge=this.tx,Te=this.ty,Oe=1/(v*ae-E*Q),st=ae*Oe,mt=-E*Oe,Ft=-Q*Oe,Wt=v*Oe;return new at(st,mt,Ft,Wt,-st*ge-Ft*Te,-mt*ge-Wt*Te)},at.prototype.applyToPoint=function(v){var E=v.x*this.sx+v.y*this.shx+this.tx,Q=v.x*this.shy+v.y*this.sy+this.ty;return new Ka(E,Q)},at.prototype.applyToRectangle=function(v){var E=this.applyToPoint(v),Q=this.applyToPoint(new Ka(v.x+v.w,v.y+v.h));return new Zc(E.x,E.y,Q.x-E.x,Q.y-E.y)},at.prototype.clone=function(){var v=this.sx,E=this.shy,Q=this.shx,ae=this.sy,ge=this.tx,Te=this.ty;return new at(v,E,Q,ae,ge,Te)},f.Matrix=at;var Cn=f.matrixMult=function(v,E){return E.multiply(v)},En=new at(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=En;var Mr=function(v,E){if(!pr[v]){var Q=(E instanceof Wo?"Sh":"P")+(Object.keys(vt).length+1).toString(10);E.id=Q,pr[v]=Q,vt[Q]=E,fr.publish("addPattern",E)}};f.ShadingPattern=Wo,f.TilingPattern=Bl,f.addShadingPattern=function(v,E){return _("addShadingPattern()"),Mr(v,E),this},f.beginTilingPattern=function(v){_("beginTilingPattern()"),Qc(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},f.endTilingPattern=function(v,E){_("endTilingPattern()"),E.stream=Ne[q].join(`
`),Mr(v,E),fr.publish("endTilingPattern",E),Ur.pop().restore()};var Qr,$r=f.__private__.newObject=function(){var v=An();return Tn(v,!0),v},An=f.__private__.newObjectDeferred=function(){return J++,re[J]=function(){return pe},J},Tn=function(v,E){return E=typeof E=="boolean"&&E,re[v]=pe,E&&$(v+" 0 obj"),v},No=f.__private__.newAdditionalObject=function(){var v={objId:An(),content:""};return we.push(v),v},ji=An(),ea=An(),wa=f.__private__.decodeColorString=function(v){var E=v.split(" ");if(E.length!==2||E[1]!=="g"&&E[1]!=="G")E.length!==5||E[4]!=="k"&&E[4]!=="K"||(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),"r"]);else{var Q=parseFloat(E[0]);E=[Q,Q,Q,"r"]}for(var ae="#",ge=0;ge<3;ge++)ae+=("0"+Math.floor(255*parseFloat(E[ge])).toString(16)).slice(-2);return ae},ta=f.__private__.encodeColorString=function(v){var E;typeof v=="string"&&(v={ch1:v});var Q=v.ch1,ae=v.ch2,ge=v.ch3,Te=v.ch4,Oe=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var st=new N_(Q);if(st.ok)Q=st.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var mt=parseInt(Q.substr(1),16);Q=mt>>16&255,ae=mt>>8&255,ge=255&mt}if(ae===void 0||Te===void 0&&Q===ae&&ae===ge)E=typeof Q=="string"?Q+" "+Oe[0]:v.precision===2?C(Q/255)+" "+Oe[0]:A(Q/255)+" "+Oe[0];else if(Te===void 0||Nr(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",Oe[1]].join(" ");E=typeof Q=="string"?[Q,ae,ge,Oe[1]].join(" "):v.precision===2?[C(Q/255),C(ae/255),C(ge/255),Oe[1]].join(" "):[A(Q/255),A(ae/255),A(ge/255),Oe[1]].join(" ")}else E=typeof Q=="string"?[Q,ae,ge,Te,Oe[2]].join(" "):v.precision===2?[C(Q),C(ae),C(ge),C(Te),Oe[2]].join(" "):[A(Q),A(ae),A(ge),A(Te),Oe[2]].join(" ");return E},ra=f.__private__.getFilters=function(){return l},Os=f.__private__.putStream=function(v){var E=(v=v||{}).data||"",Q=v.filters||ra(),ae=v.alreadyAppliedFilters||[],ge=v.addLength1||!1,Te=E.length,Oe=v.objectId,st=function(vn){return vn};if(u!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(st=gn.encryptor(Oe,0));var mt={};Q===!0&&(Q=["FlateEncode"]);var Ft=v.additionalKeyValues||[],Wt=(mt=gt.API.processDataByFilters!==void 0?gt.API.processDataByFilters(E,Q):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(mt.data.length!==0&&(Ft.push({key:"Length",value:mt.data.length}),ge===!0&&Ft.push({key:"Length1",value:Te})),Wt.length!=0)if(Wt.split("/").length-1==1)Ft.push({key:"Filter",value:Wt});else{Ft.push({key:"Filter",value:"["+Wt+"]"});for(var dr=0;dr<Ft.length;dr+=1)if(Ft[dr].key==="DecodeParms"){for(var qr=[],un=0;un<mt.reverseChain.split("/").length-1;un+=1)qr.push("null");qr.push(Ft[dr].value),Ft[dr].value="["+qr.join(" ")+"]"}}$("<<");for(var Lr=0;Lr<Ft.length;Lr++)$("/"+Ft[Lr].key+" "+Ft[Lr].value);$(">>"),mt.data.length!==0&&($("stream"),$(st(mt.data)),$("endstream"))},So=f.__private__.putPage=function(v){var E=v.number,Q=v.data,ae=v.objId,ge=v.contentsObjId;Tn(ae,!0),$("<</Type /Page"),$("/Parent "+v.rootDictionaryObjId+" 0 R"),$("/Resources "+v.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(k(v.mediaBox.bottomLeftX))+" "+parseFloat(k(v.mediaBox.bottomLeftY))+" "+k(v.mediaBox.topRightX)+" "+k(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&$("/CropBox ["+k(v.cropBox.bottomLeftX)+" "+k(v.cropBox.bottomLeftY)+" "+k(v.cropBox.topRightX)+" "+k(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&$("/BleedBox ["+k(v.bleedBox.bottomLeftX)+" "+k(v.bleedBox.bottomLeftY)+" "+k(v.bleedBox.topRightX)+" "+k(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&$("/TrimBox ["+k(v.trimBox.bottomLeftX)+" "+k(v.trimBox.bottomLeftY)+" "+k(v.trimBox.topRightX)+" "+k(v.trimBox.topRightY)+"]"),v.artBox!==null&&$("/ArtBox ["+k(v.artBox.bottomLeftX)+" "+k(v.artBox.bottomLeftY)+" "+k(v.artBox.topRightX)+" "+k(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&$("/UserUnit "+v.userUnit),fr.publish("putPage",{objId:ae,pageContext:ft[E],pageNumber:E,page:Q}),$("/Contents "+ge+" 0 R"),$(">>"),$("endobj");var Te=Q.join(`
`);return D===F&&(Te+=`
Q`),Tn(ge,!0),Os({data:Te,filters:ra(),objectId:ge}),$("endobj"),ae},_a=f.__private__.putPages=function(){var v,E,Q=[];for(v=1;v<=$t;v++)ft[v].objId=An(),ft[v].contentsObjId=An();for(v=1;v<=$t;v++)Q.push(So({number:v,data:Ne[v],objId:ft[v].objId,contentsObjId:ft[v].contentsObjId,mediaBox:ft[v].mediaBox,cropBox:ft[v].cropBox,bleedBox:ft[v].bleedBox,trimBox:ft[v].trimBox,artBox:ft[v].artBox,userUnit:ft[v].userUnit,rootDictionaryObjId:ji,resourceDictionaryObjId:ea}));Tn(ji,!0),$("<</Type /Pages");var ae="/Kids [";for(E=0;E<$t;E++)ae+=Q[E]+" 0 R ";$(ae+"]"),$("/Count "+$t),$(">>"),$("endobj"),fr.publish("postPutPages")},ko=function(v){fr.publish("putFont",{font:v,out:$,newObject:$r,putStream:Os}),v.isAlreadyPutted!==!0&&(v.objectNumber=$r(),$("<<"),$("/Type /Font"),$("/BaseFont /"+Ol(v.postScriptName)),$("/Subtype /Type1"),typeof v.encoding=="string"&&$("/Encoding /"+v.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},xl=function(v){v.objectNumber=$r();var E=[];E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Form"}),E.push({key:"BBox",value:"["+[k(v.x),k(v.y),k(v.x+v.width),k(v.y+v.height)].join(" ")+"]"}),E.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Q=v.pages[1].join(`
`);Os({data:Q,additionalKeyValues:E,objectId:v.objectNumber}),$("endobj")},gl=function(v,E){E||(E=21);var Q=$r(),ae=function(Oe,st){var mt,Ft=[],Wt=1/(st-1);for(mt=0;mt<1;mt+=Wt)Ft.push(mt);if(Ft.push(1),Oe[0].offset!=0){var dr={offset:0,color:Oe[0].color};Oe.unshift(dr)}if(Oe[Oe.length-1].offset!=1){var qr={offset:1,color:Oe[Oe.length-1].color};Oe.push(qr)}for(var un="",Lr=0,vn=0;vn<Ft.length;vn++){for(mt=Ft[vn];mt>Oe[Lr+1].offset;)Lr++;var hn=Oe[Lr].offset,Fn=(mt-hn)/(Oe[Lr+1].offset-hn),Xa=Oe[Lr].color,sa=Oe[Lr+1].color;un+=V(Math.round((1-Fn)*Xa[0]+Fn*sa[0]).toString(16))+V(Math.round((1-Fn)*Xa[1]+Fn*sa[1]).toString(16))+V(Math.round((1-Fn)*Xa[2]+Fn*sa[2]).toString(16))}return un.trim()}(v.colors,E),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+E+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Os({data:ae,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),$("endobj"),v.objectNumber=$r(),$("<< /ShadingType "+v.type),$("/ColorSpace /DeviceRGB");var Te="/Coords ["+k(parseFloat(v.coords[0]))+" "+k(parseFloat(v.coords[1]))+" ";v.type===2?Te+=k(parseFloat(v.coords[2]))+" "+k(parseFloat(v.coords[3])):Te+=k(parseFloat(v.coords[2]))+" "+k(parseFloat(v.coords[3]))+" "+k(parseFloat(v.coords[4]))+" "+k(parseFloat(v.coords[5])),$(Te+="]"),v.matrix&&$("/Matrix ["+v.matrix.toString()+"]"),$("/Function "+Q+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},vl=function(v,E){var Q=An(),ae=$r();E.push({resourcesOid:Q,objectOid:ae}),v.objectNumber=ae;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+v.boundingBox.map(k).join(" ")+"]"}),ge.push({key:"XStep",value:k(v.xStep)}),ge.push({key:"YStep",value:k(v.yStep)}),ge.push({key:"Resources",value:Q+" 0 R"}),v.matrix&&ge.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Os({data:v.stream,additionalKeyValues:ge,objectId:v.objectNumber}),$("endobj")},Mf=function(v){for(var E in v.objectNumber=$r(),$("<<"),v)switch(E){case"opacity":$("/ca "+C(v[E]));break;case"stroke-opacity":$("/CA "+C(v[E]))}$(">>"),$("endobj")},Uc=function(v){Tn(v.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var E in $("/Font <<"),jt)jt.hasOwnProperty(E)&&(p===!1||p===!0&&x.hasOwnProperty(E))&&$("/"+E+" "+jt[E].objectNumber+" 0 R");$(">>")}(),function(){if(Object.keys(vt).length>0){for(var E in $("/Shading <<"),vt)vt.hasOwnProperty(E)&&vt[E]instanceof Wo&&vt[E].objectNumber>=0&&$("/"+E+" "+vt[E].objectNumber+" 0 R");fr.publish("putShadingPatternDict"),$(">>")}}(),function(E){if(Object.keys(vt).length>0){for(var Q in $("/Pattern <<"),vt)vt.hasOwnProperty(Q)&&vt[Q]instanceof f.TilingPattern&&vt[Q].objectNumber>=0&&vt[Q].objectNumber<E&&$("/"+Q+" "+vt[Q].objectNumber+" 0 R");fr.publish("putTilingPatternDict"),$(">>")}}(v.objectOid),function(){if(Object.keys(St).length>0){var E;for(E in $("/ExtGState <<"),St)St.hasOwnProperty(E)&&St[E].objectNumber>=0&&$("/"+E+" "+St[E].objectNumber+" 0 R");fr.publish("putGStateDict"),$(">>")}}(),function(){for(var E in $("/XObject <<"),Rt)Rt.hasOwnProperty(E)&&Rt[E].objectNumber>=0&&$("/"+E+" "+Rt[E].objectNumber+" 0 R");fr.publish("putXobjectDict"),$(">>")}(),$(">>"),$("endobj")},_u=function(v){Ot[v.fontName]=Ot[v.fontName]||{},Ot[v.fontName][v.fontStyle]=v.id},ju=function(v,E,Q,ae,ge){var Te={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:v,fontName:E,fontStyle:Q,encoding:ae,isStandardFont:ge||!1,metadata:{}};return fr.publish("addFont",{font:Te,instance:this}),jt[Te.id]=Te,_u(Te),Te.id},qs=f.__private__.pdfEscape=f.pdfEscape=function(v,E){return function(Q,ae){var ge,Te,Oe,st,mt,Ft,Wt,dr,qr;if(Oe=(ae=ae||{}).sourceEncoding||"Unicode",mt=ae.outputEncoding,(ae.autoencode||mt)&&jt[Ke].metadata&&jt[Ke].metadata[Oe]&&jt[Ke].metadata[Oe].encoding&&(st=jt[Ke].metadata[Oe].encoding,!mt&&jt[Ke].encoding&&(mt=jt[Ke].encoding),!mt&&st.codePages&&(mt=st.codePages[0]),typeof mt=="string"&&(mt=st[mt]),mt)){for(Wt=!1,Ft=[],ge=0,Te=Q.length;ge<Te;ge++)(dr=mt[Q.charCodeAt(ge)])?Ft.push(String.fromCharCode(dr)):Ft.push(Q[ge]),Ft[ge].charCodeAt(0)>>8&&(Wt=!0);Q=Ft.join("")}for(ge=Q.length;Wt===void 0&&ge!==0;)Q.charCodeAt(ge-1)>>8&&(Wt=!0),ge--;if(!Wt)return Q;for(Ft=ae.noBOM?[]:[254,255],ge=0,Te=Q.length;ge<Te;ge++){if((qr=(dr=Q.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(qr),Ft.push(dr-(qr<<8))}return String.fromCharCode.apply(void 0,Ft)}(v,E).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$c=f.__private__.beginPage=function(v){Ne[++$t]=[],ft[$t]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Su($t),ze(Ne[q])},Nu=function(v,E){var Q,ae,ge;switch(r=E||r,typeof v=="string"&&(Q=j(v.toLowerCase()),Array.isArray(Q)&&(ae=Q[0],ge=Q[1])),Array.isArray(v)&&(ae=v[0]*bt,ge=v[1]*bt),isNaN(ae)&&(ae=a[0],ge=a[1]),(ae>14400||ge>14400)&&(Ar.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),ge=Math.min(14400,ge)),a=[ae,ge],r.substr(0,1)){case"l":ge>ae&&(a=[ge,ae]);break;case"p":ae>ge&&(a=[ge,ae])}$c(a),Mt(Hc),$(_l),Gc!==0&&$(Gc+" J"),Kc!==0&&$(Kc+" j"),fr.publish("addPage",{pageNumber:$t})},Wc=function(v){v>0&&v<=$t&&(Ne.splice(v,1),ft.splice(v,1),$t--,q>$t&&(q=$t),this.setPage(q))},Su=function(v){v>0&&v<=$t&&(q=v)},ku=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ne.length-1},Cu=function(v,E,Q){var ae,ge=void 0;return Q=Q||{},v=v!==void 0?v:jt[Ke].fontName,E=E!==void 0?E:jt[Ke].fontStyle,ae=v.toLowerCase(),Ot[ae]!==void 0&&Ot[ae][E]!==void 0?ge=Ot[ae][E]:Ot[v]!==void 0&&Ot[v][E]!==void 0?ge=Ot[v][E]:Q.disableWarning===!1&&Ar.warn("Unable to look up font label for font '"+v+"', '"+E+"'. Refer to getFontList() for available fonts."),ge||Q.noFallback||(ge=Ot.times[E])==null&&(ge=Ot.times.normal),ge},ja=f.__private__.putInfo=function(){var v=$r(),E=function(ae){return ae};for(var Q in u!==null&&(E=gn.encryptor(v,0)),$("<<"),$("/Producer ("+qs(E("jsPDF "+gt.version))+")"),Ze)Ze.hasOwnProperty(Q)&&Ze[Q]&&$("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+qs(E(Ze[Q]))+")");$("/CreationDate ("+qs(E(oe))+")"),$(">>"),$("endobj")},yl=f.__private__.putCatalog=function(v){var E=(v=v||{}).rootDictionaryObjId||ji;switch($r(),$("<<"),$("/Type /Catalog"),$("/Pages "+E+" 0 R"),Z||(Z="fullwidth"),Z){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+Z;Q.substr(Q.length-1)==="%"&&(Z=parseInt(Z)/100),typeof Z=="number"&&$("/OpenAction [3 0 R /XYZ null null "+C(Z)+"]")}switch(Ce||(Ce="continuous"),Ce){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}Se&&$("/PageMode /"+Se),fr.publish("putCatalog"),$(">>"),$("endobj")},Of=f.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(J+1)),$("/Root "+J+" 0 R"),$("/Info "+(J-1)+" 0 R"),u!==null&&$("/Encrypt "+gn.oid+" 0 R"),$("/ID [ <"+ue+"> <"+ue+"> ]"),$(">>")},dn=f.__private__.putHeader=function(){$("%PDF-"+g),$("%")},Au=f.__private__.putXRef=function(){var v="0000000000";$("xref"),$("0 "+(J+1)),$("0000000000 65535 f ");for(var E=1;E<=J;E++)typeof re[E]=="function"?$((v+re[E]()).slice(-10)+" 00000 n "):re[E]!==void 0?$((v+re[E]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},Na=f.__private__.buildDocument=function(){var v;J=0,pe=0,ce=[],re=[],we=[],ji=An(),ea=An(),ze(ce),fr.publish("buildDocument"),dn(),_a(),function(){fr.publish("putAdditionalObjects");for(var Q=0;Q<we.length;Q++){var ae=we[Q];Tn(ae.objId,!0),$(ae.content),$("endobj")}fr.publish("postPutAdditionalObjects")}(),v=[],function(){for(var Q in jt)jt.hasOwnProperty(Q)&&(p===!1||p===!0&&x.hasOwnProperty(Q))&&ko(jt[Q])}(),function(){var Q;for(Q in St)St.hasOwnProperty(Q)&&Mf(St[Q])}(),function(){for(var Q in Rt)Rt.hasOwnProperty(Q)&&xl(Rt[Q])}(),function(Q){var ae;for(ae in vt)vt.hasOwnProperty(ae)&&(vt[ae]instanceof Wo?gl(vt[ae]):vt[ae]instanceof Bl&&vl(vt[ae],Q))}(v),fr.publish("putResources"),v.forEach(Uc),Uc({resourcesOid:ea,objectOid:Number.MAX_SAFE_INTEGER}),fr.publish("postPutResources"),u!==null&&(gn.oid=$r(),$("<<"),$("/Filter /Standard"),$("/V "+gn.v),$("/R "+gn.r),$("/U <"+gn.toHexString(gn.U)+">"),$("/O <"+gn.toHexString(gn.O)+">"),$("/P "+gn.P),$(">>"),$("endobj")),ja(),yl();var E=pe;return Au(),Of(),$("startxref"),$(""+E),$("%%EOF"),ze(Ne[q]),ce.join(`
`)},bl=f.__private__.getBlob=function(v){return new Blob([yt(v)],{type:"application/pdf"})},Pu=f.output=f.__private__.output=(Qr=function(v,E){switch(typeof(E=E||{})=="string"?E={filename:E}:E.filename=E.filename||"generated.pdf",v){case void 0:return Na();case"save":f.save(E.filename);break;case"arraybuffer":return yt(Na());case"blob":return bl(Na());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(bl(Na()))||void 0;Ar.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",ae=Na();try{Q=bv(ae)}catch{Q=bv(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+E.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';E.pdfObjectUrl&&(ge=E.pdfObjectUrl,Te="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(E)+");<\/script></body></html>",st=Et.open();return st!==null&&st.document.write(Oe),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(E.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+E.filename+'" width="500px" height="400px" /></body></html>',Ft=Et.open();if(Ft!==null){Ft.document.write(mt);var Wt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=E.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",E)+'"></iframe></body></html>',qr=Et.open();if(qr!==null&&(qr.document.write(dr),qr.document.title=E.filename),qr||typeof safari>"u")return qr;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",E);default:return null}},Qr.foo=function(){try{return Qr.apply(this,arguments)}catch(Q){var v=Q.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var E="Error in function "+v.split(`
`)[0].split("<")[0]+": "+Q.message;if(!Et.console)throw new Error(E);Et.console.error(E,Q),Et.alert&&alert(E)}},Qr.foo.bar=Qr,Qr.foo),Bs=function(v){return Array.isArray(kt)===!0&&kt.indexOf(v)>-1};switch(n){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Bs("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);bt=n}var gn=null;me(),X();var Va=f.__private__.getPageInfo=f.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[v].objId,pageNumber:v,pageContext:ft[v]}},Lu=f.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var E in ft)if(ft[E].objId===v)break;return Va(E)},qf=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ft[q].objId,pageNumber:q,pageContext:ft[q]}};f.addPage=function(){return Nu.apply(this,arguments),this},f.setPage=function(){return Su.apply(this,arguments),ze.call(this,Ne[q]),this},f.insertPage=function(v){return this.addPage(),this.movePage(q,v),this},f.movePage=function(v,E){var Q,ae;if(v>E){Q=Ne[v],ae=ft[v];for(var ge=v;ge>E;ge--)Ne[ge]=Ne[ge-1],ft[ge]=ft[ge-1];Ne[E]=Q,ft[E]=ae,this.setPage(E)}else if(v<E){Q=Ne[v],ae=ft[v];for(var Te=v;Te<E;Te++)Ne[Te]=Ne[Te+1],ft[Te]=ft[Te+1];Ne[E]=Q,ft[E]=ae,this.setPage(E)}return this},f.deletePage=function(){return Wc.apply(this,arguments),this},f.__private__.text=f.text=function(v,E,Q,ae,ge){var Te,Oe,st,mt,Ft,Wt,dr,qr,un,Lr=(ae=ae||{}).scope||this;if(typeof v=="number"&&typeof E=="number"&&(typeof Q=="string"||Array.isArray(Q))){var vn=Q;Q=E,E=v,v=vn}if(arguments[3]instanceof at==0?(st=arguments[4],mt=arguments[5],Nr(dr=arguments[3])==="object"&&dr!==null||(typeof st=="string"&&(mt=st,st=null),typeof dr=="string"&&(mt=dr,dr=null),typeof dr=="number"&&(st=dr,dr=null),ae={flags:dr,angle:st,align:mt})):(_("The transform parameter of text() with a Matrix value"),un=ge),isNaN(E)||isNaN(Q)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Lr;var hn,Fn="",Xa=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:Ao,sa=Lr.internal.scaleFactor;function Ja(gr){return gr=gr.split("	").join(Array(ae.TabLen||9).join(" ")),qs(gr,dr)}function Jc(gr){for(var Sr,Jr=gr.concat(),yn=[],ri=Jr.length;ri--;)typeof(Sr=Jr.shift())=="string"?yn.push(Sr):Array.isArray(gr)&&(Sr.length===1||Sr[1]===void 0&&Sr[2]===void 0)?yn.push(Sr[0]):yn.push([Sr[0],Sr[1],Sr[2]]);return yn}function Nl(gr,Sr){var Jr;if(typeof gr=="string")Jr=Sr(gr)[0];else if(Array.isArray(gr)){for(var yn,ri,cd=gr.concat(),Cl=[],zu=cd.length;zu--;)typeof(yn=cd.shift())=="string"?Cl.push(Sr(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(ri=Sr(yn[0],yn[1],yn[2]),Cl.push([ri[0],ri[1],ri[2]]));Jr=Cl}return Jr}var Ni=!1,Eo=!0;if(typeof v=="string")Ni=!0;else if(Array.isArray(v)){var To=v.concat();Oe=[];for(var Si,In=To.length;In--;)(typeof(Si=To.shift())!="string"||Array.isArray(Si)&&typeof Si[0]!="string")&&(Eo=!1);Ni=Eo}if(Ni===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Fo=Pe/Lr.internal.scaleFactor,Io=Fo*(Xa-1);switch(ae.baseline){case"bottom":Q-=Io;break;case"top":Q+=Fo-Io;break;case"hanging":Q+=Fo-2*Io;break;case"middle":Q+=Fo/2-Io}if((Wt=ae.maxWidth||0)>0&&(typeof v=="string"?v=Lr.splitTextToSize(v,Wt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(gr,Sr){return gr.concat(Lr.splitTextToSize(Sr,Wt))},[]))),Te={text:v,x:E,y:Q,options:ae,mutex:{pdfEscape:qs,activeFontKey:Ke,fonts:jt,activeFontSize:Pe}},fr.publish("preProcessText",Te),v=Te.text,st=(ae=Te.options).angle,un instanceof at==0&&st&&typeof st=="number"){st*=Math.PI/180,ae.rotationDirection===0&&(st=-st),D===F&&(st=-st);var ed=Math.cos(st),td=Math.sin(st);un=new at(ed,td,-td,ed,0,0)}else st&&st instanceof at&&(un=st);D!==F||un||(un=En),(Ft=ae.charSpace||Ga)!==void 0&&(Fn+=k(W(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qr=ae.horizontalScale)!==void 0&&(Fn+=k(100*qr)+` Tz
`),ae.lang;var ts=-1,ei=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,Sl=Lr.internal.getCurrentPageInfo().pageContext;switch(ei){case 0:case!1:case"fill":ts=0;break;case 1:case!0:case"stroke":ts=1;break;case 2:case"fillThenStroke":ts=2;break;case 3:case"invisible":ts=3;break;case 4:case"fillAndAddForClipping":ts=4;break;case 5:case"strokeAndAddPathForClipping":ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ts=6;break;case 7:case"addToPathForClipping":ts=7}var qu=Sl.usedRenderingMode!==void 0?Sl.usedRenderingMode:-1;ts!==-1?Fn+=ts+` Tr
`:qu!==-1&&(Fn+=`0 Tr
`),ts!==-1&&(Sl.usedRenderingMode=ts),mt=ae.align||"left";var zs,Ro=Pe*Xa,rd=Lr.internal.pageSize.getWidth(),nd=jt[Ke];Ft=ae.charSpace||Ga,Wt=ae.maxWidth||0,dr=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var ki=[],Mo=function(gr){return Lr.getStringUnitWidth(gr,{font:nd,charSpace:Ft,fontSize:Pe,doKerning:!1})*Pe/sa};if(Object.prototype.toString.call(v)==="[object Array]"){var js;Oe=Jc(v),mt!=="left"&&(zs=Oe.map(Mo));var Ns,Ci=0;if(mt==="right"){E-=zs[0],v=[],In=Oe.length;for(var ti=0;ti<In;ti++)ti===0?(Ns=Ha(E),js=Ya(Q)):(Ns=W(Ci-zs[ti]),js=-Ro),v.push([Oe[ti],Ns,js]),Ci=zs[ti]}else if(mt==="center"){E-=zs[0]/2,v=[],In=Oe.length;for(var Ai=0;Ai<In;Ai++)Ai===0?(Ns=Ha(E),js=Ya(Q)):(Ns=W((Ci-zs[Ai])/2),js=-Ro),v.push([Oe[Ai],Ns,js]),Ci=zs[Ai]}else if(mt==="left"){v=[],In=Oe.length;for(var sd=0;sd<In;sd++)v.push(Oe[sd])}else if(mt==="justify"&&nd.encoding==="Identity-H"){v=[],In=Oe.length,Wt=Wt!==0?Wt:rd;for(var kl=0,Xr=0;Xr<In;Xr++)if(js=Xr===0?Ya(Q):-Ro,Ns=Xr===0?Ha(E):kl,Xr<In-1){var Bu=W((Wt-zs[Xr])/(Oe[Xr].split(" ").length-1)),ka=Oe[Xr].split(" ");v.push([ka[0]+" ",Ns,js]),kl=0;for(var Ca=1;Ca<ka.length;Ca++){var ad=(Mo(ka[Ca-1]+" "+ka[Ca])-Mo(ka[Ca]))*sa+Bu;Ca==ka.length-1?v.push([ka[Ca],ad,0]):v.push([ka[Ca]+" ",ad,0]),kl-=ad}}else v.push([Oe[Xr],Ns,js]);v.push(["",kl,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],In=Oe.length,Wt=Wt!==0?Wt:rd,Xr=0;Xr<In;Xr++){js=Xr===0?Ya(Q):-Ro,Ns=Xr===0?Ha(E):0;var id=Oe[Xr].split(" ").length-1,od=id>0?(Wt-zs[Xr])/id:0;Xr<In-1?ki.push(k(W(od))):ki.push(0),v.push([Oe[Xr],Ns,js])}}}(typeof ae.R2L=="boolean"?ae.R2L:he)===!0&&(v=Nl(v,function(gr,Sr,Jr){return[gr.split("").reverse().join(""),Sr,Jr]})),Te={text:v,x:E,y:Q,options:ae,mutex:{pdfEscape:qs,activeFontKey:Ke,fonts:jt,activeFontSize:Pe}},fr.publish("postProcessText",Te),v=Te.text,hn=Te.mutex.isHex||!1;var ld=jt[Ke].encoding;ld!=="WinAnsiEncoding"&&ld!=="StandardEncoding"||(v=Nl(v,function(gr,Sr,Jr){return[Ja(gr),Sr,Jr]})),Oe=Jc(v),v=[];for(var Pi,Li,Di,Oo=Array.isArray(Oe[0])?1:0,Ei="",qo=function(gr,Sr,Jr){var yn="";return Jr instanceof at?(Jr=typeof ae.angle=="number"?Cn(Jr,new at(1,0,0,1,gr,Sr)):Cn(new at(1,0,0,1,gr,Sr),Jr),D===F&&(Jr=Cn(new at(1,0,0,-1,0,0),Jr)),yn=Jr.join(" ")+` Tm
`):yn=k(gr)+" "+k(Sr)+` Td
`,yn},Us=0;Us<Oe.length;Us++){switch(Ei="",Oo){case 1:Di=(hn?"<":"(")+Oe[Us][0]+(hn?">":")"),Pi=parseFloat(Oe[Us][1]),Li=parseFloat(Oe[Us][2]);break;case 0:Di=(hn?"<":"(")+Oe[Us]+(hn?">":")"),Pi=Ha(E),Li=Ya(Q)}ki!==void 0&&ki[Us]!==void 0&&(Ei=ki[Us]+` Tw
`),Us===0?v.push(Ei+qo(Pi,Li,un)+Di):Oo===0?v.push(Ei+Di):Oo===1&&v.push(Ei+qo(Pi,Li,un)+Di)}v=Oo===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Aa=`BT
/`;return Aa+=Ke+" "+Pe+` Tf
`,Aa+=k(Pe*Xa)+` TL
`,Aa+=Po+`
`,Aa+=Fn,Aa+=v,$(Aa+="ET"),x[Ke]=!0,Lr};var Bf=f.__private__.clip=f.clip=function(v){return $(v==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Bf("evenodd")},f.__private__.discardPath=f.discardPath=function(){return $("n"),this};var Sa=f.__private__.isValidStyle=function(v){var E=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(E=!0),E};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(v){return Sa(v)&&(d=v),this};var Du=f.__private__.getStyle=f.getStyle=function(v){var E=d;switch(v){case"D":case"S":E="S";break;case"F":E="f";break;case"FD":case"DF":E="B";break;case"f":case"f*":case"B":case"B*":E=v}return E},Eu=f.close=function(){return $("h"),this};f.stroke=function(){return $("S"),this},f.fill=function(v){return wl("f",v),this},f.fillEvenOdd=function(v){return wl("f*",v),this},f.fillStroke=function(v){return wl("B",v),this},f.fillStrokeEvenOdd=function(v){return wl("B*",v),this};var wl=function(v,E){Nr(E)==="object"?Uf(E,v):$(v)},Co=function(v){v===null||D===F&&v===void 0||(v=Du(v),$(v))};function zf(v,E,Q,ae,ge){var Te=new Bl(E||this.boundingBox,Q||this.xStep,ae||this.yStep,this.gState,ge||this.matrix);Te.stream=this.stream;var Oe=v+"$$"+this.cloneIndex+++"$$";return Mr(Oe,Te),Te}var Uf=function(v,E){var Q=pr[v.key],ae=vt[Q];if(ae instanceof Wo)$("q"),$($f(E)),ae.gState&&f.setGState(ae.gState),$(v.matrix.toString()+" cm"),$("/"+Q+" sh"),$("Q");else if(ae instanceof Bl){var ge=new at(1,0,0,-1,0,Do());v.matrix&&(ge=ge.multiply(v.matrix||En),Q=zf.call(ae,v.key,v.boundingBox,v.xStep,v.yStep,ge).id),$("q"),$("/Pattern cs"),$("/"+Q+" scn"),ae.gState&&f.setGState(ae.gState),$(E),$("Q")}},$f=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vc=f.moveTo=function(v,E){return $(k(W(v))+" "+k(U(E))+" m"),this},Tu=f.lineTo=function(v,E){return $(k(W(v))+" "+k(U(E))+" l"),this},na=f.curveTo=function(v,E,Q,ae,ge,Te){return $([k(W(v)),k(U(E)),k(W(Q)),k(U(ae)),k(W(ge)),k(U(Te)),"c"].join(" ")),this};f.__private__.line=f.line=function(v,E,Q,ae,ge){if(isNaN(v)||isNaN(E)||isNaN(Q)||isNaN(ae)||!Sa(ge))throw new Error("Invalid arguments passed to jsPDF.line");return D===P?this.lines([[Q-v,ae-E]],v,E,[1,1],ge||"S"):this.lines([[Q-v,ae-E]],v,E,[1,1]).stroke()},f.__private__.lines=f.lines=function(v,E,Q,ae,ge,Te){var Oe,st,mt,Ft,Wt,dr,qr,un,Lr,vn,hn,Fn;if(typeof v=="number"&&(Fn=Q,Q=E,E=v,v=Fn),ae=ae||[1,1],Te=Te||!1,isNaN(E)||isNaN(Q)||!Array.isArray(v)||!Array.isArray(ae)||!Sa(ge)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vc(E,Q),Oe=ae[0],st=ae[1],Ft=v.length,vn=E,hn=Q,mt=0;mt<Ft;mt++)(Wt=v[mt]).length===2?(vn=Wt[0]*Oe+vn,hn=Wt[1]*st+hn,Tu(vn,hn)):(dr=Wt[0]*Oe+vn,qr=Wt[1]*st+hn,un=Wt[2]*Oe+vn,Lr=Wt[3]*st+hn,vn=Wt[4]*Oe+vn,hn=Wt[5]*st+hn,na(dr,qr,un,Lr,vn,hn));return Te&&Eu(),Co(ge),this},f.path=function(v){for(var E=0;E<v.length;E++){var Q=v[E],ae=Q.c;switch(Q.op){case"m":Vc(ae[0],ae[1]);break;case"l":Tu(ae[0],ae[1]);break;case"c":na.apply(this,ae);break;case"h":Eu()}}return this},f.__private__.rect=f.rect=function(v,E,Q,ae,ge){if(isNaN(v)||isNaN(E)||isNaN(Q)||isNaN(ae)||!Sa(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return D===P&&(ae=-ae),$([k(W(v)),k(U(E)),k(W(Q)),k(W(ae)),"re"].join(" ")),Co(ge),this},f.__private__.triangle=f.triangle=function(v,E,Q,ae,ge,Te,Oe){if(isNaN(v)||isNaN(E)||isNaN(Q)||isNaN(ae)||isNaN(ge)||isNaN(Te)||!Sa(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-v,ae-E],[ge-Q,Te-ae],[v-ge,E-Te]],v,E,[1,1],Oe,!0),this},f.__private__.roundedRect=f.roundedRect=function(v,E,Q,ae,ge,Te,Oe){if(isNaN(v)||isNaN(E)||isNaN(Q)||isNaN(ae)||isNaN(ge)||isNaN(Te)||!Sa(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*Q),Te=Math.min(Te,.5*ae),this.lines([[Q-2*ge,0],[ge*st,0,ge,Te-Te*st,ge,Te],[0,ae-2*Te],[0,Te*st,-ge*st,Te,-ge,Te],[2*ge-Q,0],[-ge*st,0,-ge,-Te*st,-ge,-Te],[0,2*Te-ae],[0,-Te*st,ge*st,-Te,ge,-Te]],v+ge,E,[1,1],Oe,!0),this},f.__private__.ellipse=f.ellipse=function(v,E,Q,ae,ge){if(isNaN(v)||isNaN(E)||isNaN(Q)||isNaN(ae)||!Sa(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*Q,Oe=4/3*(Math.SQRT2-1)*ae;return Vc(v+Q,E),na(v+Q,E-Oe,v+Te,E-ae,v,E-ae),na(v-Te,E-ae,v-Q,E-Oe,v-Q,E),na(v-Q,E+Oe,v-Te,E+ae,v,E+ae),na(v+Te,E+ae,v+Q,E+Oe,v+Q,E),Co(ge),this},f.__private__.circle=f.circle=function(v,E,Q,ae){if(isNaN(v)||isNaN(E)||isNaN(Q)||!Sa(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,E,Q,Q,ae)},f.setFont=function(v,E,Q){return Q&&(E=ee(E,Q)),Ke=Cu(v,E,{disableWarning:!1}),this};var Wf=f.__private__.getFont=f.getFont=function(){return jt[Cu.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var v,E,Q={};for(v in Ot)if(Ot.hasOwnProperty(v))for(E in Q[v]=[],Ot[v])Ot[v].hasOwnProperty(E)&&Q[v].push(E);return Q},f.addFont=function(v,E,Q,ae,ge){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(Q=ee(Q,ae)),ju.call(this,v,E,Q,ge=ge||"Identity-H")};var Ao,Hc=e.lineWidth||.200025,Vf=f.__private__.getLineWidth=f.getLineWidth=function(){return Hc},Mt=f.__private__.setLineWidth=f.setLineWidth=function(v){return Hc=v,$(k(W(v))+" w"),this};f.__private__.setLineDash=gt.API.setLineDash=gt.API.setLineDashPattern=function(v,E){if(v=v||[],E=E||0,isNaN(E)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Q){return k(W(Q))}).join(" "),E=k(W(E)),$("["+v+"] "+E+" d"),this};var Hf=f.__private__.getLineHeight=f.getLineHeight=function(){return Pe*Ao};f.__private__.getLineHeight=f.getLineHeight=function(){return Pe*Ao};var Yf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Ao=v),this},Gf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ao};Yf(e.lineHeight);var Ha=f.__private__.getHorizontalCoordinate=function(v){return W(v)},Ya=f.__private__.getVerticalCoordinate=function(v){return D===F?v:ft[q].mediaBox.topRightY-ft[q].mediaBox.bottomLeftY-W(v)},Kf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(v){return k(Ha(v))},Zf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(v){return k(Ya(v))},_l=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return wa(_l)},f.__private__.setStrokeColor=f.setDrawColor=function(v,E,Q,ae){return _l=ta({ch1:v,ch2:E,ch3:Q,ch4:ae,pdfColorType:"draw",precision:2}),$(_l),this};var Yc=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return wa(Yc)},f.__private__.setFillColor=f.setFillColor=function(v,E,Q,ae){return Yc=ta({ch1:v,ch2:E,ch3:Q,ch4:ae,pdfColorType:"fill",precision:2}),$(Yc),this};var Po=e.textColor||"0 g",Qf=f.__private__.getTextColor=f.getTextColor=function(){return wa(Po)};f.__private__.setTextColor=f.setTextColor=function(v,E,Q,ae){return Po=ta({ch1:v,ch2:E,ch3:Q,ch4:ae,pdfColorType:"text",precision:3}),this};var Ga=e.charSpace,Xf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ga||0)};f.__private__.setCharSpace=f.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ga=v,this};var Gc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(v){var E=f.CapJoinStyles[v];if(E===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gc=E,$(E+" J"),this};var Kc=0;f.__private__.setLineJoin=f.setLineJoin=function(v){var E=f.CapJoinStyles[v];if(E===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kc=E,$(E+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(k(W(v))+" M"),this},f.GState=rf,f.setGState=function(v){(v=typeof v=="string"?St[Tt[v]]:Fu(null,v)).equals(Pr)||($("/"+v.id+" gs"),Pr=v)};var Fu=function(v,E){if(!v||!Tt[v]){var Q=!1;for(var ae in St)if(St.hasOwnProperty(ae)&&St[ae].equals(E)){Q=!0;break}if(Q)E=St[ae];else{var ge="GS"+(Object.keys(St).length+1).toString(10);St[ge]=E,E.id=ge}return v&&(Tt[v]=E.id),fr.publish("addGState",E),E}};f.addGState=function(v,E){return Fu(v,E),this},f.saveGraphicsState=function(){return $("q"),sr.push({key:Ke,size:Pe,color:Po}),this},f.restoreGraphicsState=function(){$("Q");var v=sr.pop();return Ke=v.key,Pe=v.size,Po=v.color,Pr=null,this},f.setCurrentTransformationMatrix=function(v){return $(v.toString()+" cm"),this},f.comment=function(v){return $("#"+v),this};var Ka=function(v,E){var Q=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Te){isNaN(Te)||(Q=parseFloat(Te))}});var ae=E||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Te){isNaN(Te)||(ae=parseFloat(Te))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Te){ge=Te.toString()}}),this},Zc=function(v,E,Q,ae){Ka.call(this,v,E),this.type="rect";var ge=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Oe){isNaN(Oe)||(ge=parseFloat(Oe))}});var Te=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Oe){isNaN(Oe)||(Te=parseFloat(Oe))}}),this},jl=function(){this.page=$t,this.currentPage=q,this.pages=Ne.slice(0),this.pagesContext=ft.slice(0),this.x=Qe,this.y=er,this.matrix=Lt,this.width=Xc(q),this.height=Ru(q),this.outputDestination=Be,this.id="",this.objectNumber=-1};jl.prototype.restore=function(){$t=this.page,q=this.currentPage,ft=this.pagesContext,Ne=this.pages,Qe=this.x,er=this.y,Lt=this.matrix,Iu(q,this.width),Za(q,this.height),Be=this.outputDestination};var Qc=function(v,E,Q,ae,ge){Ur.push(new jl),$t=q=0,Ne=[],Qe=v,er=E,Lt=ge,$c([Q,ae])};for(var Lo in f.beginFormObject=function(v,E,Q,ae,ge){return Qc(v,E,Q,ae,ge),this},f.endFormObject=function(v){return function(E){if(ar[E])Ur.pop().restore();else{var Q=new jl,ae="Xo"+(Object.keys(Rt).length+1).toString(10);Q.id=ae,ar[E]=ae,Rt[ae]=Q,fr.publish("addFormObject",Q),Ur.pop().restore()}}(v),this},f.doFormObject=function(v,E){var Q=Rt[ar[v]];return $("q"),$(E.toString()+" cm"),$("/"+Q.id+" Do"),$("Q"),this},f.getFormObject=function(v){var E=Rt[ar[v]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},f.save=function(v,E){return v=v||"generated.pdf",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?($o(bl(Na()),v),typeof $o.unload=="function"&&Et.setTimeout&&setTimeout($o.unload,911),this):new Promise(function(Q,ae){try{var ge=$o(bl(Na()),v);typeof $o.unload=="function"&&Et.setTimeout&&setTimeout($o.unload,911),Q(ge)}catch(Te){ae(Te.message)}})},gt.API)gt.API.hasOwnProperty(Lo)&&(Lo==="events"&&gt.API.events.length?function(v,E){var Q,ae,ge;for(ge=E.length-1;ge!==-1;ge--)Q=E[ge][0],ae=E[ge][1],v.subscribe.apply(v,[Q].concat(typeof ae=="function"?[ae]:ae))}(fr,gt.API.events):f[Lo]=gt.API[Lo]);function Xc(v){return ft[v].mediaBox.topRightX-ft[v].mediaBox.bottomLeftX}function Iu(v,E){ft[v].mediaBox.topRightX=E+ft[v].mediaBox.bottomLeftX}function Ru(v){return ft[v].mediaBox.topRightY-ft[v].mediaBox.bottomLeftY}function Za(v,E){ft[v].mediaBox.topRightY=E+ft[v].mediaBox.bottomLeftY}var Qa=f.getPageWidth=function(v){return Xc(v=v||q)/bt},Mu=f.setPageWidth=function(v,E){Iu(v,E*bt)},Do=f.getPageHeight=function(v){return Ru(v=v||q)/bt},Ou=f.setPageHeight=function(v,E){Za(v,E*bt)};return f.internal={pdfEscape:qs,getStyle:Du,getFont:Wf,getFontSize:se,getCharSpace:Xf,getTextColor:Qf,getLineHeight:Hf,getLineHeightFactor:Gf,getLineWidth:Vf,write:Re,getHorizontalCoordinate:Ha,getVerticalCoordinate:Ya,getCoordinateString:Kf,getVerticalCoordinateString:Zf,collections:{},newObject:$r,newAdditionalObject:No,newObjectDeferred:An,newObjectDeferredBegin:Tn,getFilters:ra,putStream:Os,events:fr,scaleFactor:bt,pageSize:{getWidth:function(){return Qa(q)},setWidth:function(v){Mu(q,v)},getHeight:function(){return Do(q)},setHeight:function(v){Ou(q,v)}},encryptionOptions:u,encryption:gn,getEncryptor:function(v){return u!==null?gn.encryptor(v,0):function(E){return E}},output:Pu,getNumberOfPages:ku,get pages(){return Ne},out:$,f2:C,f3:A,getPageInfo:Va,getPageInfoByObjId:Lu,getCurrentPageInfo:qf,getPDFVersion:b,Point:Ka,Rectangle:Zc,Matrix:at,hasHotfix:Bs},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Qa(q)},set:function(v){Mu(q,v)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Do(q)},set:function(v){Ou(q,v)},enumerable:!0,configurable:!0}),(function(v){for(var E=0,Q=Ue.length;E<Q;E++){var ae=ju.call(this,v[E][0],v[E][1],v[E][2],Ue[E][3],!0);p===!1&&(x[ae]=!0);var ge=v[E][0].split("-");_u({id:ae,fontName:ge[0],fontStyle:ge[1]||""})}fr.publish("addFonts",{fonts:jt,dictionary:Ot})}).call(f,Ue),Ke="F1",Nu(a,r),fr.publish("initialized"),f}Ml.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Ml.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ml.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Ml.prototype.processOwnerPassword=function(e,t){return t0(e0(t).substr(0,5),e)},Ml.prototype.encryptor=function(e,t){var r=e0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return t0(r,n)}},rf.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Nr(e)!==Nr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},gt.API={events:[]},gt.version="3.0.4";var Yr=gt.API,bx=1,pl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(e){return e.toFixed(2)},$i=function(e){return e.toFixed(5)};Yr.__acroform__={};var _s=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Nv=function(e){return e*bx},La=function(e){var t=new A_,r=rt.internal.getHeight(e)||0,n=rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(qt(n)),Number(qt(r))],t},IE=Yr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},RE=Yr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},ME=Yr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},rn=Yr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ME(e,t-1)},nn=Yr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IE(e,t-1)},sn=Yr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return RE(e,t-1)},OE=Yr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+l)||0,c.upperRight_Y=n(i)||0,[Number(qt(c.lowerLeft_X)),Number(qt(c.lowerLeft_Y)),Number(qt(c.upperRight_X)),Number(qt(c.upperRight_Y))]},qE=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=r0(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+qt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=La(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},r0=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,l=rt.internal.getHeight(e)||0;l=l<0?-l:l;var o=rt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(C,A,W){if(C+1<a.length){var U=A+" "+a[C+1][0];return xh(U,e,W).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,p=xh("3",e,i).height,x=e.multiline?l-i:(l-p)/2,f=x+=2,g=0,b=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+xh(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var j="",P=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var D=!1;if(a[F].length!==1&&w!==a[F].length-1){if((p+2)*(P+2)+2>l)continue e;j+=a[F][w],D=!0,b=F,F--}else{j=(j+=a[F][w]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var z=parseInt(F),Y=c(z,j,i),ee=F>=a.length-1;if(Y&&!ee){j+=" ",w=0;continue}if(Y||ee){if(ee)b=z;else if(e.multiline&&(p+2)*(P+2)+2>l)continue e}else{if(!e.multiline||(p+2)*(P+2)+2>l)continue e;b=z}}for(var k="",_=g;_<=b;_++){var M=a[_];if(e.multiline){if(_===b){k+=M[w]+" ",w=(w+1)%M.length;continue}if(_===g){k+=M[M.length-1]+" ";continue}}k+=M[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=xh(k,e,i).width,e.textAlign){case"right":d=o-u-2;break;case"center":d=(o-u)/2;break;default:d=2}t+=qt(d)+" "+qt(f)+` Td
`,t+="("+pl(k)+`) Tj
`,t+=-qt(d)+` 0 Td
`,f=-(i+2),u=0,g=D?b:b+1,P++,j=""}break}return n.text=t,n.fontSize=i,n},xh=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},BE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zE=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},UE=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ya.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(BE)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new P_,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&zE(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],c=[],d=o.Rect;if(o.Rect&&(o.Rect=OE(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=rt.createDefaultAppearanceStream(o),Nr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=qE(o);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var p="";for(var x in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(x)){var f=o.appearanceStreamContent[x];if(p+="/"+x+" ",p+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var l in f)if(f.hasOwnProperty(l)){var g=f[l];typeof g=="function"&&(g=g.call(a,o)),p+="/"+l+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(a,o)),p+="/"+l+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&function(b,w){for(var j in b)if(b.hasOwnProperty(j)){var P=j,F=b[j];w.internal.newObjectDeferredBegin(F.objId,!0),Nr(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete b[P]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},C_=Yr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Nr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+pl(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rp=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+pl(n(e))+")"},Oa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oa.prototype.toString=function(){return this.objId+" 0 R"},Oa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Oa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:C_(a,this.objId,this.scope)}):a instanceof Oa?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var A_=function(){Oa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};_s(A_,Oa);var P_=function(){Oa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+pl(r(e))+")"}},set:function(r){e=r}})};_s(P_,Oa);var ya=function e(){Oa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rn(t,3)},set:function(j){j?this.F=nn(t,3):this.F=sn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');r=j}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(j){n=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(j){n[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(j){n[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(j){n[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(j){n[3]=j}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof nf)return;i="FieldObject"+e.FieldNum++}var j=function(P){return P};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+pl(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/bx:d},set:function(j){d=j}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof nf||this instanceof sl))return rp(p,this.objId,this.scope)},set:function(j){j=j.toString(),p=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Dn==0?rp(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof Dn==0?j.substr(0,1)==="("?Tl(j.substr(1,j.length-2)):Tl(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn==1?Tl(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof Dn==1?"/"+j:j}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Dn==0?rp(f,this.objId,this.scope):f},set:function(j){j=j.toString(),f=this instanceof Dn==0?j.substr(0,1)==="("?Tl(j.substr(1,j.length-2)):Tl(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn==1?Tl(f.substr(1,f.length-1)):f},set:function(j){j=j.toString(),f=this instanceof Dn==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(j){j=!!j,b=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(j){g=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,1)},set:function(j){j?this.Ff=nn(this.Ff,1):this.Ff=sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,2)},set:function(j){j?this.Ff=nn(this.Ff,2):this.Ff=sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,3)},set:function(j){j?this.Ff=nn(this.Ff,3):this.Ff=sn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');w=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(w){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};_s(ya,Oa);var Wl=function(){ya.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return C_(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,l,o){o||(o=1);for(var c,d=[];c=l.exec(i);)d.push(c[o]);return d}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,18)},set:function(r){r?this.Ff=nn(this.Ff,18):this.Ff=sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=nn(this.Ff,19):this.Ff=sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,20)},set:function(r){r?(this.Ff=nn(this.Ff,20),t.sort()):this.Ff=sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,22)},set:function(r){r?this.Ff=nn(this.Ff,22):this.Ff=sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(r){r?this.Ff=nn(this.Ff,23):this.Ff=sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,27)},set:function(r){r?this.Ff=nn(this.Ff,27):this.Ff=sn(this.Ff,27)}}),this.hasAppearanceStream=!1};_s(Wl,ya);var Vl=function(){Wl.call(this),this.fontName="helvetica",this.combo=!1};_s(Vl,Wl);var Hl=function(){Vl.call(this),this.combo=!0};_s(Hl,Vl);var Lh=function(){Hl.call(this),this.edit=!0};_s(Lh,Hl);var Dn=function(){ya.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,15)},set:function(r){r?this.Ff=nn(this.Ff,15):this.Ff=sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,16)},set:function(r){r?this.Ff=nn(this.Ff,16):this.Ff=sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,17)},set:function(r){r?this.Ff=nn(this.Ff,17):this.Ff=sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(r){r?this.Ff=nn(this.Ff,26):this.Ff=sn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+pl(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Nr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};_s(Dn,ya);var Dh=function(){Dn.call(this),this.pushButton=!0};_s(Dh,Dn);var Yl=function(){Dn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};_s(Yl,Dn);var nf=function(){var e,t;ya.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+pl(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Nr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_s(nf,ya),Yl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Yl.prototype.createOption=function(e){var t=new nf;return t.Parent=this,t.optionName=e,this.Kids.push(t),$E.call(this.scope,t),t};var Eh=function(){Dn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};_s(Eh,Dn);var sl=function(){ya.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,13)},set:function(t){t?this.Ff=nn(this.Ff,13):this.Ff=sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,21)},set:function(t){t?this.Ff=nn(this.Ff,21):this.Ff=sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(t){t?this.Ff=nn(this.Ff,23):this.Ff=sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,24)},set:function(t){t?this.Ff=nn(this.Ff,24):this.Ff=sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,25)},set:function(t){t?this.Ff=nn(this.Ff,25):this.Ff=sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(t){t?this.Ff=nn(this.Ff,26):this.Ff=sn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_s(sl,ya);var Th=function(){sl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,14)},set:function(e){e?this.Ff=nn(this.Ff,14):this.Ff=sn(this.Ff,14)}}),this.password=!0};_s(Th,sl);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=La(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=r0(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+qt(rt.internal.getWidth(e))+" "+qt(rt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+qt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=La(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=rt.internal.getHeight(e),l=rt.internal.getWidth(e),o=r0(e,e.caption);return a.push("1 g"),a.push("0 0 "+qt(l)+" "+qt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+qt(l-1)+" "+qt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+qt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=La(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+qt(rt.internal.getWidth(e))+" "+qt(rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=rt.RadioButton.Circle.YesNormal,t.D[e]=rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=La(e);t.scope=e.scope;var r=[],n=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=rt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$i(rt.internal.getWidth(e)/2)+" "+$i(rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=La(e);t.scope=e.scope;var r=[],n=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*rt.internal.Bezier_C).toFixed(5)),l=Number((n*rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$i(rt.internal.getWidth(e)/2)+" "+$i(rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$i(rt.internal.getWidth(e)/2)+" "+$i(rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=La(e);t.scope=e.scope;var r=[],n=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$i(rt.internal.getWidth(e)/2)+" "+$i(rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=rt.RadioButton.Cross.YesNormal,t.D[e]=rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=La(e);t.scope=e.scope;var r=[],n=rt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+qt(rt.internal.getWidth(e)-2)+" "+qt(rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(qt(n.x1.x)+" "+qt(n.x1.y)+" m"),r.push(qt(n.x2.x)+" "+qt(n.x2.y)+" l"),r.push(qt(n.x4.x)+" "+qt(n.x4.y)+" m"),r.push(qt(n.x3.x)+" "+qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=La(e);t.scope=e.scope;var r=rt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+qt(rt.internal.getWidth(e))+" "+qt(rt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+qt(rt.internal.getWidth(e)-2)+" "+qt(rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(qt(r.x1.x)+" "+qt(r.x1.y)+" m"),n.push(qt(r.x2.x)+" "+qt(r.x2.y)+" l"),n.push(qt(r.x4.x)+" "+qt(r.x4.y)+" m"),n.push(qt(r.x3.x)+" "+qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=La(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+qt(rt.internal.getWidth(e))+" "+qt(rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=rt.internal.getWidth(e),r=rt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},rt.internal.getWidth=function(e){var t=0;return Nr(e)==="object"&&(t=Nv(e.Rect[2])),t},rt.internal.getHeight=function(e){var t=0;return Nr(e)==="object"&&(t=Nv(e.Rect[3])),t};var $E=Yr.addField=function(e){if(UE(this,e),!(e instanceof ya))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Yr.AcroFormChoiceField=Wl,Yr.AcroFormListBox=Vl,Yr.AcroFormComboBox=Hl,Yr.AcroFormEditBox=Lh,Yr.AcroFormButton=Dn,Yr.AcroFormPushButton=Dh,Yr.AcroFormRadioButton=Yl,Yr.AcroFormCheckBox=Eh,Yr.AcroFormTextField=sl,Yr.AcroFormPasswordField=Th,Yr.AcroFormAppearance=rt,Yr.AcroForm={ChoiceField:Wl,ListBox:Vl,ComboBox:Hl,EditBox:Lh,Button:Dn,PushButton:Dh,RadioButton:Yl,CheckBox:Eh,TextField:sl,PasswordField:Th,Appearance:rt},gt.AcroForm={ChoiceField:Wl,ListBox:Vl,ComboBox:Hl,EditBox:Lh,Button:Dn,PushButton:Dh,RadioButton:Yl,CheckBox:Eh,TextField:sl,PasswordField:Th,Appearance:rt};function L_(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(C,A){var W,U,oe,ue,te,X=r;if((A=A||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(Y(C))for(te in n)for(oe=n[te],W=0;W<oe.length;W+=1){for(ue=!0,U=0;U<oe[W].length;U+=1)if(oe[W][U]!==void 0&&oe[W][U]!==C[U]){ue=!1;break}if(ue===!0){X=te;break}}else for(te in n)for(oe=n[te],W=0;W<oe.length;W+=1){for(ue=!0,U=0;U<oe[W].length;U+=1)if(oe[W][U]!==void 0&&oe[W][U]!==C.charCodeAt(U)){ue=!1;break}if(ue===!0){X=te;break}}return X===r&&A!==r&&(X=A),X},i=function C(A){for(var W=this.internal.write,U=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:A.width}),ue.push({key:"Height",value:A.height}),A.colorSpace===j.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===j.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)&&A.transparency.length>0){for(var te="",X=0,ne=A.transparency.length;X<ne;X++)te+=A.transparency[X]+" "+A.transparency[X]+" ";ue.push({key:"Mask",value:"["+te+"]"})}A.sMask!==void 0&&ue.push({key:"SMask",value:A.objectId+1+" 0 R"});var ke=A.filter!==void 0?["/"+A.filter]:void 0;if(U({data:A.data,additionalKeyValues:ue,alreadyAppliedFilters:ke,objectId:A.objectId}),W("endobj"),"sMask"in A&&A.sMask!==void 0){var me,L=(me=A.sMaskBitsPerComponent)!==null&&me!==void 0?me:A.bitsPerComponent,q={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:A.sMask};"filter"in A&&(q.decodeParameters="/Predictor ".concat(A.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(A.width),q.filter=A.filter),C.call(this,q)}if(A.colorSpace===j.INDEXED){var I=this.internal.newObject();U({data:k(new Uint8Array(A.palette)),objectId:I}),W("endobj")}},l=function(){var C=this.internal.collections[t+"images"];for(var A in C)i.call(this,C[A])},o=function(){var C,A=this.internal.collections[t+"images"],W=this.internal.write;for(var U in A)W("/I"+(C=A[U]).index,C.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var C=this.internal.collections[t+"images"];return c.call(this),C},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(C){return typeof e["process"+C.toUpperCase()]=="function"},x=function(C){return Nr(C)==="object"&&C.nodeType===1},f=function(C,A){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var W=""+C.getAttribute("src");if(W.indexOf("data:image/")===0)return Ph(unescape(W).split("base64,").pop());var U=e.loadFile(W,!0);if(U!==void 0)return U}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var oe;switch(A){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return Ph(C.toDataURL(oe,1).split("base64,").pop())}},g=function(C){var A=this.internal.collections[t+"images"];if(A){for(var W in A)if(C===A[W].alias)return A[W]}},b=function(C,A,W){return C||A||(C=-96,A=-96),C<0&&(C=-1*W.width*72/C/this.internal.scaleFactor),A<0&&(A=-1*W.height*72/A/this.internal.scaleFactor),C===0&&(C=A*W.width/W.height),A===0&&(A=C*W.height/W.width),[C,A]},w=function(C,A,W,U,oe,ue){var te=b.call(this,W,U,oe),X=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ke=d.call(this);if(W=te[0],U=te[1],ke[oe.index]=oe,ue){ue*=Math.PI/180;var me=Math.cos(ue),L=Math.sin(ue),q=function(V){return V.toFixed(4)},I=[q(me),q(L),q(-1*L),q(me),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,X(C),ne(A+U),"cm"].join(" ")),this.internal.write(I.join(" ")),this.internal.write([X(W),"0","0",X(U),"0","0","cm"].join(" "))):this.internal.write([X(W),"0","0",X(U),X(C),ne(A+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=e.__addimage__.sHashCode=function(C){var A,W,U=0;if(typeof C=="string")for(W=C.length,A=0;A<W;A++)U=(U<<5)-U+C.charCodeAt(A),U|=0;else if(Y(C))for(W=C.byteLength/2,A=0;A<W;A++)U=(U<<5)-U+C[A],U|=0;return U},D=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var A=!0;return C.length===0&&(A=!1),C.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(A=!1),A},z=e.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var A=C.indexOf(",");return A<0?null:C.substring(0,A).trim().endsWith("base64")?C.substring(A+1):null};e.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var Y=e.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},ee=e.__addimage__.binaryStringToUint8Array=function(C){for(var A=C.length,W=new Uint8Array(A),U=0;U<A;U++)W[U]=C.charCodeAt(U);return W},k=e.__addimage__.arrayBufferToBinaryString=function(C){for(var A="",W=Y(C)?C:new Uint8Array(C),U=0;U<W.length;U+=8192)A+=String.fromCharCode.apply(null,W.subarray(U,U+8192));return A};e.addImage=function(){var C,A,W,U,oe,ue,te,X,ne;if(typeof arguments[1]=="number"?(A=r,W=arguments[1],U=arguments[2],oe=arguments[3],ue=arguments[4],te=arguments[5],X=arguments[6],ne=arguments[7]):(A=arguments[1],W=arguments[2],U=arguments[3],oe=arguments[4],ue=arguments[5],te=arguments[6],X=arguments[7],ne=arguments[8]),Nr(C=arguments[0])==="object"&&!x(C)&&"imageData"in C){var ke=C;C=ke.imageData,A=ke.format||A||r,W=ke.x||W||0,U=ke.y||U||0,oe=ke.w||ke.width||oe,ue=ke.h||ke.height||ue,te=ke.alias||te,X=ke.compression||X,ne=ke.rotation||ke.angle||ne}var me=this.internal.getFilters();if(X===void 0&&me.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(W)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var L=_.call(this,C,A,te,X);return w.call(this,W,U,oe,ue,L,ne),this};var _=function(C,A,W,U){var oe,ue,te;if(typeof C=="string"&&a(C)===r){C=unescape(C);var X=M(C,!1);(X!==""||(X=e.loadFile(C,!0))!==void 0)&&(C=X)}if(x(C)&&(C=f(C,A)),A=a(C,A),!p(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((te=W)==null||te.length===0)&&(W=function(ne){return typeof ne=="string"||Y(ne)?F(ne):Y(ne.data)?F(ne.data):null}(C)),(oe=g.call(this,W))||(C instanceof Uint8Array||A==="RGBA"||(ue=C,C=ee(C)),oe=this["process"+A.toUpperCase()](C,u.call(this),W,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in e.image_compression?ne:P.NONE}(U),ue)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},M=e.__addimage__.convertBase64ToBinaryString=function(C,A){A=typeof A!="boolean"||A;var W,U="";if(typeof C=="string"){var oe;W=(oe=z(C))!==null&&oe!==void 0?oe:C;try{U=Ph(W)}catch(ue){if(A)throw D(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(C){var A,W,U="";if(x(C)&&(C=f(C)),typeof C=="string"&&a(C)===r&&((U=M(C,!1))===""&&(U=e.loadFile(C)||""),C=U),W=a(C),!p(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(C instanceof Uint8Array||(C=ee(C)),!(A=this["process"+W.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=W,A}})(gt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,p=0;p<d.length&&!u;p++)switch((n=d[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){n=d[x];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(b.objId),P=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(j(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(j(P))+") >>",b.content=i;var F=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var z=this.annotations._nameMap[n.options.name];n.options.pageNumber=z.page,n.options.top=z.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var Y=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+i)},options:l,type:"link"})},e.textWithLink=function(r,n,a,i){var l,o,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;l=Math.ceil(d*u)}else o=c,l=d;return this.text(r,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,o,l,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(gt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=e.__arabicParser__.isArabicEndLetter=function(b){return l(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(b){return l(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return l(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return l(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return l(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return l(b)&&i(b)&&t[b.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(b){var w=0,j=r,P="",F=0;for(w=0;w<b.length;w+=1)j[b.charCodeAt(w)]!==void 0?(F++,typeof(j=j[b.charCodeAt(w)])=="number"&&(P+=String.fromCharCode(j),j=r,F=0),w===b.length-1&&(j=r,P+=b.charAt(w-(F-1)),w-=F-1,F=0)):(j=r,P+=b.charAt(w-F),w-=F,F=0);return P};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(b,w,j){return l(b)?i(b)===!1?-1:!d(b)||!l(w)&&!l(j)||!l(j)&&o(w)||o(b)&&!l(w)||o(b)&&c(w)||o(b)&&o(w)?0:u(b)&&l(w)&&!o(w)&&l(j)&&d(j)?3:o(b)||!l(j)?1:2:-1},f=function(b){var w=0,j=0,P=0,F="",D="",z="",Y=(b=b||"").split("\\s+"),ee=[];for(w=0;w<Y.length;w+=1){for(ee.push(""),j=0;j<Y[w].length;j+=1)F=Y[w][j],D=Y[w][j-1],z=Y[w][j+1],l(F)?(P=x(F,D,z),ee[w]+=P!==-1?String.fromCharCode(t[F.charCodeAt(0)][P]):F):ee[w]+=F;ee[w]=p(ee[w])}return ee.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(w)){var P=0;for(j=[],P=0;P<w.length;P+=1)Array.isArray(w[P])?j.push([f(w[P][0]),w[P][1],w[P][2]]):j.push([f(w[P])]);b=j}else b=f(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",g])}(gt.API),gt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(gt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(b){x=b}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(b){g=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,f=0,g=0,b=0,w=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=d.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(F,D){return F.concat(w.splitTextToSize(D,j))},[])):c=Array.isArray(c)?c:[c];for(var P=0;P<c.length;P++)f<(b=this.getStringUnitWidth(c[P],{font:p})*u)&&(f=b);return f!==0&&(g=c.length),{w:f/=x,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,f&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,p,x){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,b,w,j=[],P=[],F=[],D={},z={},Y=[],ee=[],k=(x=x||{}).autoSize||!1,_=x.printHeaders!==!1,M=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,C=x.margins||Object.assign({width:this.getPageWidth()},t),A=typeof x.padding=="number"?x.padding:3,W=x.headerBackgroundColor||"#c8c8c8",U=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=U,this.setFontSize(M),p==null)P=j=Object.keys(u[0]),F=j.map(function(){return"left"});else if(Array.isArray(p)&&Nr(p[0])==="object")for(j=p.map(function(ke){return ke.name}),P=p.map(function(ke){return ke.prompt||ke.name||""}),F=p.map(function(ke){return ke.align||"left"}),f=0;f<p.length;f+=1)z[p[f].name]=.7499990551181103*p[f].width;else Array.isArray(p)&&typeof p[0]=="string"&&(P=j=p,F=j.map(function(){return"left"}));if(k||Array.isArray(p)&&typeof p[0]=="string")for(f=0;f<j.length;f+=1){for(D[w=j[f]]=u.map(function(ke){return ke[w]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(P[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[w],this.setFont(void 0,"normal"),b=0;b<g.length;b+=1)Y.push(this.getTextDimensions(g[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[w]=Math.max.apply(null,Y)+A+A,Y=[]}if(_){var oe={};for(f=0;f<j.length;f+=1)oe[j[f]]={},oe[j[f]].text=P[f],oe[j[f]].align=F[f];var ue=o.call(this,oe,z);ee=j.map(function(ke){return new i(c,d,z[ke],ue,oe[ke].text,void 0,oe[ke].align)}),this.setTableHeaderRow(ee),this.printHeaderRow(1,!1)}var te=p.reduce(function(ke,me){return ke[me.name]=me.align,ke},{});for(f=0;f<u.length;f+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:f,data:u[f]},this);var X=o.call(this,u[f],z);for(b=0;b<j.length;b+=1){var ne=u[f][j[b]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:f,col:b,data:ne},this),l.call(this,new i(c,d,z[j[b]],X,ne,f+2,te[j[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var u=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(f){var g=c[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*p/x+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,x.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,u),this.setTextColor(g)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}}(gt.API);var D_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},E_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],n0=L_(E_),T_=[100,200,300,400,500,600,700,800,900],WE=L_(T_);function np(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return D_[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof n0[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function Sv(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var VE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Cv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Av(e){return e.trimLeft()}function HE(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function YE(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var gh,Pv,Lv,Fl,vh,Dv,Ev,Tv,sp=["times"];function Fv(e,t,r,n,a){var i=4,l=Rv;switch(a){case gt.API.image_compression.FAST:i=1,l=Iv;break;case gt.API.image_compression.MEDIUM:i=6,l=Mv;break;case gt.API.image_compression.SLOW:i=9,l=Ov}e=function(c,d,u,p){for(var x,f=c.length/d,g=new Uint8Array(c.length+f),b=[GE,Iv,Rv,Mv,Ov],w=0;w<f;w+=1){var j=w*d,P=c.subarray(j,j+d);if(p)g.set(p(P,u,x),j+w);else{for(var F=b.length,D=[],z=0;z<F;z+=1)D[z]=b[z](P,u,x);var Y=ZE(D.concat());g.set(D[Y],j+w)}x=P}return g}(e,t,Math.ceil(r*n/8),l);var o=Wp(e,{level:i});return gt.API.__addimage__.arrayBufferToBinaryString(o)}function GE(e){var t=Array.apply([],e);return t.unshift(0),t}function Iv(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function Rv(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=r&&r[i]||0;a[i+1]=e[i]-l+256&255}return a}function Mv(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(l+o>>>1)&255}return a}function Ov(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=KE(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function KE(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function ZE(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function ap(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),l=(1<<r)-1;return F_(e,a)>>i&l}function qv(e,t,r,n){var a=r*n,i=Math.floor(a/8),l=16-(a-8*i+n),o=(1<<n)-1,c=(t&o)<<l;(function(d,u,p){if(u+1<d.byteLength)d.setUint16(u,p,!1);else{var x=p>>8&255;d.setUint8(u,x)}})(e,i,F_(e,i)&~(o<<l)&65535|c)}function F_(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function QE(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=l,t+=3*l);var d=!0,u=[],p=0,x=null,f=0,g=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];p=e[t++]|e[t++]<<8,x=e[t++],1&b||(x=null),f=b>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,D=e[t++],z=D>>6&1,Y=1<<1+(7&D),ee=o,k=c,_=!1;D>>7&&(_=!0,ee=t,k=Y,t+=3*Y);var M=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}u.push({x:w,y:j,width:P,height:F,has_local_palette:_,palette_offset:ee,palette_size:k,data_offset:M,data_length:t-M,transparent_index:x,interlaced:!!z,delay:p,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(A){if(A<0||A>=u.length)throw new Error("Frame index out of range.");return u[A]},this.decodeAndBlitFrameBGRA=function(A,W){var U=this.frameInfo(A),oe=U.width*U.height,ue=new Uint8Array(oe);Bv(e,U.data_offset,ue,oe);var te=U.palette_offset,X=U.transparent_index;X===null&&(X=256);var ne=U.width,ke=r-ne,me=ne,L=4*(U.y*r+U.x),q=4*((U.y+U.height)*r+U.x),I=L,V=4*ke;U.interlaced===!0&&(V+=4*r*7);for(var J=8,re=0,ce=ue.length;re<ce;++re){var pe=ue[re];if(me===0&&(me=ne,(I+=V)>=q&&(V=4*ke+4*r*(J-1),I=L+(ne+ke)*(J<<1),J>>=1)),pe===X)I+=4;else{var we=e[te+3*pe],Ne=e[te+3*pe+1],Me=e[te+3*pe+2];W[I++]=Me,W[I++]=Ne,W[I++]=we,W[I++]=255}--me}},this.decodeAndBlitFrameRGBA=function(A,W){var U=this.frameInfo(A),oe=U.width*U.height,ue=new Uint8Array(oe);Bv(e,U.data_offset,ue,oe);var te=U.palette_offset,X=U.transparent_index;X===null&&(X=256);var ne=U.width,ke=r-ne,me=ne,L=4*(U.y*r+U.x),q=4*((U.y+U.height)*r+U.x),I=L,V=4*ke;U.interlaced===!0&&(V+=4*r*7);for(var J=8,re=0,ce=ue.length;re<ce;++re){var pe=ue[re];if(me===0&&(me=ne,(I+=V)>=q&&(V=4*ke+4*r*(J-1),I=L+(ne+ke)*(J<<1),J>>=1)),pe===X)I+=4;else{var we=e[te+3*pe],Ne=e[te+3*pe+1],Me=e[te+3*pe+2];W[I++]=we,W[I++]=Ne,W[I++]=Me,W[I++]=255}--me}}}function Bv(e,t,r,n){for(var a=e[t++],i=1<<a,l=i+1,o=l+1,c=a+1,d=(1<<c)-1,u=0,p=0,x=0,f=e[t++],g=new Int32Array(4096),b=null;;){for(;u<16&&f!==0;)p|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<c)break;var w=p&d;if(p>>=c,u-=c,w!==i){if(w===l)break;for(var j=w<o?w:b,P=0,F=j;F>i;)F=g[F]>>8,++P;var D=F;if(x+P+(j!==w?1:0)>n)return void Ar.log("Warning, gif stream longer than expected.");r[x++]=D;var z=x+=P;for(j!==w&&(r[x++]=D),F=j;P--;)F=g[F],r[--z]=255&F,F>>=8;b!==null&&o<4096&&(g[o++]=b<<8|D,o>=d+1&&c<12&&(++c,d=d<<1|1)),b=w}else o=l+1,d=(1<<(c=a+1))-1,b=null}return x!==n&&Ar.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ip(e){var t,r,n,a,i,l=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),p=new Array(65535),x=new Array(65535),f=new Array(64),g=new Array(64),b=[],w=0,j=7,P=new Array(64),F=new Array(64),D=new Array(64),z=new Array(256),Y=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(L,q){for(var I=0,V=0,J=new Array,re=1;re<=16;re++){for(var ce=1;ce<=L[re];ce++)J[q[V]]=[],J[q[V]][0]=I,J[q[V]][1]=re,V++,I++;I*=2}return J}function te(L){for(var q=L[0],I=L[1]-1;I>=0;)q&1<<I&&(w|=1<<j),I--,--j<0&&(w==255?(X(255),X(0)):X(w),j=7,w=0)}function X(L){b.push(L)}function ne(L){X(L>>8&255),X(255&L)}function ke(L,q,I,V,J){for(var re,ce=J[0],pe=J[240],we=function(Pe,Z){var se,he,Se,De,Ce,Ae,Ye,Ze,Ke,bt,Qe=0;for(Ke=0;Ke<8;++Ke){se=Pe[Qe],he=Pe[Qe+1],Se=Pe[Qe+2],De=Pe[Qe+3],Ce=Pe[Qe+4],Ae=Pe[Qe+5],Ye=Pe[Qe+6];var er=se+(Ze=Pe[Qe+7]),Lt=se-Ze,jt=he+Ye,Ot=he-Ye,sr=Se+Ae,vt=Se-Ae,pr=De+Ce,St=De-Ce,Tt=er+pr,Pr=er-pr,$t=jt+sr,ft=jt-sr;Pe[Qe]=Tt+$t,Pe[Qe+4]=Tt-$t;var fr=.707106781*(ft+Pr);Pe[Qe+2]=Pr+fr,Pe[Qe+6]=Pr-fr;var kt=.382683433*((Tt=St+vt)-(ft=Ot+Lt)),Rt=.5411961*Tt+kt,ar=1.306562965*ft+kt,Ur=.707106781*($t=vt+Ot),at=Lt+Ur,Cn=Lt-Ur;Pe[Qe+5]=Cn+Rt,Pe[Qe+3]=Cn-Rt,Pe[Qe+1]=at+ar,Pe[Qe+7]=at-ar,Qe+=8}for(Qe=0,Ke=0;Ke<8;++Ke){se=Pe[Qe],he=Pe[Qe+8],Se=Pe[Qe+16],De=Pe[Qe+24],Ce=Pe[Qe+32],Ae=Pe[Qe+40],Ye=Pe[Qe+48];var En=se+(Ze=Pe[Qe+56]),Mr=se-Ze,Qr=he+Ye,$r=he-Ye,An=Se+Ae,Tn=Se-Ae,No=De+Ce,ji=De-Ce,ea=En+No,wa=En-No,ta=Qr+An,ra=Qr-An;Pe[Qe]=ea+ta,Pe[Qe+32]=ea-ta;var Os=.707106781*(ra+wa);Pe[Qe+16]=wa+Os,Pe[Qe+48]=wa-Os;var So=.382683433*((ea=ji+Tn)-(ra=$r+Mr)),_a=.5411961*ea+So,ko=1.306562965*ra+So,xl=.707106781*(ta=Tn+$r),gl=Mr+xl,vl=Mr-xl;Pe[Qe+40]=vl+_a,Pe[Qe+24]=vl-_a,Pe[Qe+8]=gl+ko,Pe[Qe+56]=gl-ko,Qe++}for(Ke=0;Ke<64;++Ke)bt=Pe[Ke]*Z[Ke],f[Ke]=bt>0?bt+.5|0:bt-.5|0;return f}(L,q),Ne=0;Ne<64;++Ne)g[ee[Ne]]=we[Ne];var Me=g[0]-I;I=g[0],Me==0?te(V[0]):(te(V[x[re=32767+Me]]),te(p[re]));for(var Be=63;Be>0&&g[Be]==0;)Be--;if(Be==0)return te(ce),I;for(var ze,$=1;$<=Be;){for(var Re=$;g[$]==0&&$<=Be;)++$;var yt=$-Re;if(yt>=16){ze=yt>>4;for(var Ue=1;Ue<=ze;++Ue)te(pe);yt&=15}re=32767+g[$],te(J[(yt<<4)+x[re]]),te(p[re]),$++}return Be!=63&&te(ce),I}function me(L){L=Math.min(Math.max(L,1),100),i!=L&&(function(q){for(var I=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var J=l((I[V]*q+50)/100);J=Math.min(Math.max(J,1),255),o[ee[V]]=J}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var pe=l((re[ce]*q+50)/100);pe=Math.min(Math.max(pe,1),255),c[ee[ce]]=pe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,Me=0;Me<8;Me++)for(var Be=0;Be<8;Be++)d[Ne]=1/(o[ee[Ne]]*we[Me]*we[Be]*8),u[Ne]=1/(c[ee[Ne]]*we[Me]*we[Be]*8),Ne++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),i=L)}this.encode=function(L,q){q&&me(q),b=new Array,w=0,j=7,ne(65496),ne(65504),ne(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ne(1),ne(1),X(0),X(0),function(){ne(65499),ne(132),X(0);for(var he=0;he<64;he++)X(o[he]);X(1);for(var Se=0;Se<64;Se++)X(c[Se])}(),function(he,Se){ne(65472),ne(17),X(8),ne(Se),ne(he),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(L.width,L.height),function(){ne(65476),ne(418),X(0);for(var he=0;he<16;he++)X(k[he+1]);for(var Se=0;Se<=11;Se++)X(_[Se]);X(16);for(var De=0;De<16;De++)X(M[De+1]);for(var Ce=0;Ce<=161;Ce++)X(C[Ce]);X(1);for(var Ae=0;Ae<16;Ae++)X(A[Ae+1]);for(var Ye=0;Ye<=11;Ye++)X(W[Ye]);X(17);for(var Ze=0;Ze<16;Ze++)X(U[Ze+1]);for(var Ke=0;Ke<=161;Ke++)X(oe[Ke])}(),ne(65498),ne(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var I=0,V=0,J=0;w=0,j=7,this.encode.displayName="_encode_";for(var re,ce,pe,we,Ne,Me,Be,ze,$,Re=L.data,yt=L.width,Ue=L.height,Pe=4*yt,Z=0;Z<Ue;){for(re=0;re<Pe;){for(Ne=Pe*Z+re,Be=-1,ze=0,$=0;$<64;$++)Me=Ne+(ze=$>>3)*Pe+(Be=4*(7&$)),Z+ze>=Ue&&(Me-=Pe*(Z+1+ze-Ue)),re+Be>=Pe&&(Me-=re+Be-Pe+4),ce=Re[Me++],pe=Re[Me++],we=Re[Me++],P[$]=(Y[ce]+Y[pe+256|0]+Y[we+512|0]>>16)-128,F[$]=(Y[ce+768|0]+Y[pe+1024|0]+Y[we+1280|0]>>16)-128,D[$]=(Y[ce+1280|0]+Y[pe+1536|0]+Y[we+1792|0]>>16)-128;I=ke(P,d,I,t,n),V=ke(F,u,V,r,a),J=ke(D,u,J,r,a),re+=32}Z+=8}if(j>=0){var se=[];se[1]=j+1,se[0]=(1<<j+1)-1,te(se)}return ne(65497),new Uint8Array(b)},e=e||50,function(){for(var L=String.fromCharCode,q=0;q<256;q++)z[q]=L(q)}(),t=ue(k,_),r=ue(A,W),n=ue(M,C),a=ue(U,oe),function(){for(var L=1,q=2,I=1;I<=15;I++){for(var V=L;V<q;V++)x[32767+V]=I,p[32767+V]=[],p[32767+V][1]=I,p[32767+V][0]=V;for(var J=-(q-1);J<=-L;J++)x[32767+J]=I,p[32767+J]=[],p[32767+J][1]=I,p[32767+J][0]=q-1+J;L<<=1,q<<=1}}(),function(){for(var L=0;L<256;L++)Y[L]=19595*L,Y[L+256|0]=38470*L,Y[L+512|0]=7471*L+32768,Y[L+768|0]=-11059*L,Y[L+1024|0]=-21709*L,Y[L+1280|0]=32768*L+8421375,Y[L+1536|0]=-27439*L,Y[L+1792|0]=-5329*L}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ca(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zv(e){function t(_){if(!_)throw Error("assert :P")}function r(_,M,C){for(var A=0;4>A;A++)if(_[M+A]!=C.charCodeAt(A))return!0;return!1}function n(_,M,C,A,W){for(var U=0;U<W;U++)_[M+U]=C[A+U]}function a(_,M,C,A){for(var W=0;W<A;W++)_[M+W]=C}function i(_){return new Int32Array(_)}function l(_,M){for(var C=[],A=0;A<_;A++)C.push(new M);return C}function o(_,M){var C=[];return function A(W,U,oe){for(var ue=oe[U],te=0;te<ue&&(W.push(oe.length>U+1?[]:new M),!(oe.length<U+1));te++)A(W[te],U+1,oe)}(C,0,_),C}var c=function(){var _=this;function M(h,m){for(var y=1<<m-1>>>0;h&y;)y>>>=1;return y?(h&y-1)+y:h}function C(h,m,y,N,T){t(!(N%y));do h[m+(N-=y)]=T;while(0<N)}function A(h,m,y,N,T){if(t(2328>=T),512>=T)var R=i(512);else if((R=i(T))==null)return 0;return function(O,B,H,G,le,be){var K,de,ve=B,Le=1<<H,ye=i(16),Ee=i(16);for(t(le!=0),t(G!=null),t(O!=null),t(0<H),de=0;de<le;++de){if(15<G[de])return 0;++ye[G[de]]}if(ye[0]==le)return 0;for(Ee[1]=0,K=1;15>K;++K){if(ye[K]>1<<K)return 0;Ee[K+1]=Ee[K]+ye[K]}for(de=0;de<le;++de)K=G[de],0<G[de]&&(be[Ee[K]++]=de);if(Ee[15]==1)return(G=new W).g=0,G.value=be[0],C(O,ve,1,Le,G),Le;var Fe,$e=-1,qe=Le-1,xt=0,et=1,Vt=1,lt=1<<H;for(de=0,K=1,le=2;K<=H;++K,le<<=1){if(et+=Vt<<=1,0>(Vt-=ye[K]))return 0;for(;0<ye[K];--ye[K])(G=new W).g=K,G.value=be[de++],C(O,ve+xt,le,lt,G),xt=M(xt,K)}for(K=H+1,le=2;15>=K;++K,le<<=1){if(et+=Vt<<=1,0>(Vt-=ye[K]))return 0;for(;0<ye[K];--ye[K]){if(G=new W,(xt&qe)!=$e){for(ve+=lt,Fe=1<<($e=K)-H;15>$e&&!(0>=(Fe-=ye[$e]));)++$e,Fe<<=1;Le+=lt=1<<(Fe=$e-H),O[B+($e=xt&qe)].g=Fe+H,O[B+$e].value=ve-B-$e}G.g=K-H,G.value=be[de++],C(O,ve+(xt>>H),le,lt,G),xt=M(xt,K)}}return et!=2*Ee[15]-1?0:Le}(h,m,y,N,T,R)}function W(){this.value=this.g=0}function U(){this.value=this.g=0}function oe(){this.G=l(5,W),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Mo,U)}function ue(h,m,y,N){t(h!=null),t(m!=null),t(2147483648>N),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=y,h.Jd=m,h.Yc=y+N,h.Zc=4<=N?y+N-4+1:y,ce(h)}function te(h,m){for(var y=0;0<m--;)y|=we(h,128)<<m;return y}function X(h,m){var y=te(h,m);return pe(h)?-y:y}function ne(h,m,y,N){var T,R=0;for(t(h!=null),t(m!=null),t(4294967288>N),h.Sb=N,h.Ra=0,h.u=0,h.h=0,4<N&&(N=4),T=0;T<N;++T)R+=m[y+T]<<8*T;h.Ra=R,h.bb=N,h.oa=m,h.pa=y}function ke(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Ci-8>>>0,++h.bb,h.u-=8;V(h)&&(h.h=1,h.u=0)}function me(h,m){if(t(0<=m),!h.h&&m<=Ns){var y=I(h)&js[m];return h.u+=m,ke(h),y}return h.h=1,h.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(h){return h.Ra>>>(h.u&Ci-1)>>>0}function V(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Ci}function J(h,m){h.u=m,h.h=V(h)}function re(h){h.u>=ti&&(t(h.u>=ti),ke(h))}function ce(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function pe(h){return te(h,1)}function we(h,m){var y=h.Ca;0>h.b&&ce(h);var N=h.b,T=y*m>>>8,R=(h.I>>>N>T)+0;for(R?(y-=T,h.I-=T+1<<N>>>0):y=T+1,N=y,T=0;256<=N;)T+=8,N>>=8;return N=7^T+Ai[N],h.b-=N,h.Ca=(y<<N)-1,R}function Ne(h,m,y){h[m+0]=y>>24&255,h[m+1]=y>>16&255,h[m+2]=y>>8&255,h[m+3]=255&y}function Me(h,m){return h[m+0]|h[m+1]<<8}function Be(h,m){return Me(h,m)|h[m+2]<<16}function ze(h,m){return Me(h,m)|Me(h,m+2)<<16}function $(h,m){var y=1<<m;return t(h!=null),t(0<m),h.X=i(y),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function Re(h,m){t(h!=null),t(m!=null),t(h.Xa==m.Xa),n(m.X,0,h.X,0,1<<m.Xa)}function yt(){this.X=[],this.Xa=this.Mb=0}function Ue(h,m,y,N){t(y!=null),t(N!=null);var T=y[0],R=N[0];return T==0&&(T=(h*R+m/2)/m),R==0&&(R=(m*T+h/2)/h),0>=T||0>=R?0:(y[0]=T,N[0]=R,1)}function Pe(h,m){return h+(1<<m)-1>>>m}function Z(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function se(h,m){_[m]=function(y,N,T,R,O,B,H){var G;for(G=0;G<O;++G){var le=_[h](B[H+G-1],T,R+G);B[H+G]=Z(y[N+G],le)}}}function he(){this.ud=this.hd=this.jd=0}function Se(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function De(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ce(h,m){return De(h+(h-m+.5>>1))}function Ae(h,m,y){return Math.abs(m-y)-Math.abs(h-y)}function Ye(h,m,y,N,T,R,O){for(N=R[O-1],y=0;y<T;++y)R[O+y]=N=Z(h[m+y],N)}function Ze(h,m,y,N,T){var R;for(R=0;R<y;++R){var O=h[m+R],B=O>>8&255,H=16711935&(H=(H=16711935&O)+((B<<16)+B));N[T+R]=(4278255360&O)+H>>>0}}function Ke(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function bt(h,m,y,N,T,R){var O;for(O=0;O<N;++O){var B=m[y+O],H=B>>>8,G=B,le=255&(le=(le=B>>>16)+((h.jd<<24>>24)*(H<<24>>24)>>>5));G=255&(G=(G+=(h.hd<<24>>24)*(H<<24>>24)>>>5)+((h.ud<<24>>24)*(le<<24>>24)>>>5)),T[R+O]=(4278255360&B)+(le<<16)+G}}function Qe(h,m,y,N,T){_[m]=function(R,O,B,H,G,le,be,K,de){for(H=be;H<K;++H)for(be=0;be<de;++be)G[le++]=T(B[N(R[O++])])},_[h]=function(R,O,B,H,G,le,be){var K=8>>R.b,de=R.Ea,ve=R.K[0],Le=R.w;if(8>K)for(R=(1<<R.b)-1,Le=(1<<K)-1;O<B;++O){var ye,Ee=0;for(ye=0;ye<de;++ye)ye&R||(Ee=N(H[G++])),le[be++]=T(ve[Ee&Le]),Ee>>=K}else _["VP8LMapColor"+y](H,G,ve,Le,le,be,O,B,de)}}function er(h,m,y,N,T){for(y=m+y;m<y;){var R=h[m++];N[T++]=R>>16&255,N[T++]=R>>8&255,N[T++]=255&R}}function Lt(h,m,y,N,T){for(y=m+y;m<y;){var R=h[m++];N[T++]=R>>16&255,N[T++]=R>>8&255,N[T++]=255&R,N[T++]=R>>24&255}}function jt(h,m,y,N,T){for(y=m+y;m<y;){var R=(O=h[m++])>>16&240|O>>12&15,O=240&O|O>>28&15;N[T++]=R,N[T++]=O}}function Ot(h,m,y,N,T){for(y=m+y;m<y;){var R=(O=h[m++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;N[T++]=R,N[T++]=O}}function sr(h,m,y,N,T){for(y=m+y;m<y;){var R=h[m++];N[T++]=255&R,N[T++]=R>>8&255,N[T++]=R>>16&255}}function vt(h,m,y,N,T,R){if(R==0)for(y=m+y;m<y;)Ne(N,((R=h[m++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),T+=32;else n(N,T,h,m,y)}function pr(h,m){_[m][0]=_[h+"0"],_[m][1]=_[h+"1"],_[m][2]=_[h+"2"],_[m][3]=_[h+"3"],_[m][4]=_[h+"4"],_[m][5]=_[h+"5"],_[m][6]=_[h+"6"],_[m][7]=_[h+"7"],_[m][8]=_[h+"8"],_[m][9]=_[h+"9"],_[m][10]=_[h+"10"],_[m][11]=_[h+"11"],_[m][12]=_[h+"12"],_[m][13]=_[h+"13"],_[m][14]=_[h+"0"],_[m][15]=_[h+"0"]}function St(h){return h==tm||h==rm||h==Yu||h==nm}function Tt(){this.eb=[],this.size=this.A=this.fb=0}function Pr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tt,this.f.kb=new Pr,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Rt(h,m){var y=h.T,N=m.ba.f.RGBA,T=N.eb,R=N.fb+h.ka*N.A,O=Ws[m.ba.S],B=h.y,H=h.O,G=h.f,le=h.N,be=h.ea,K=h.W,de=m.cc,ve=m.dc,Le=m.Mc,ye=m.Nc,Ee=h.ka,Fe=h.ka+h.T,$e=h.U,qe=$e+1>>1;for(Ee==0?O(B,H,null,null,G,le,be,K,G,le,be,K,T,R,null,null,$e):(O(m.ec,m.fc,B,H,de,ve,Le,ye,G,le,be,K,T,R-N.A,T,R,$e),++y);Ee+2<Fe;Ee+=2)de=G,ve=le,Le=be,ye=K,le+=h.Rc,K+=h.Rc,R+=2*N.A,O(B,(H+=2*h.fa)-h.fa,B,H,de,ve,Le,ye,G,le,be,K,T,R-N.A,T,R,$e);return H+=h.fa,h.j+Fe<h.o?(n(m.ec,m.fc,B,H,$e),n(m.cc,m.dc,G,le,qe),n(m.Mc,m.Nc,be,K,qe),y--):1&Fe||O(B,H,null,null,G,le,be,K,G,le,be,K,T,R+N.A,null,null,$e),y}function ar(h,m,y){var N=h.F,T=[h.J];if(N!=null){var R=h.U,O=m.ba.S,B=O==Hu||O==Yu;m=m.ba.f.RGBA;var H=[0],G=h.ka;H[0]=h.T,h.Kb&&(G==0?--H[0]:(--G,T[0]-=h.width),h.j+h.ka+h.T==h.o&&(H[0]=h.o-h.j-G));var le=m.eb;G=m.fb+G*m.A,h=Ex(N,T[0],h.width,R,H,le,G+(B?0:3),m.A),t(y==H),h&&St(O)&&dd(le,G,B,R,H,m.A)}return 0}function Ur(h){var m=h.ma,y=m.ba.S,N=11>y,T=y==Wu||y==Vu||y==Hu||y==em||y==12||St(y);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!rd(m.Oa,h,T?11:12))return 0;if(T&&St(y)&&Jc(),h.da)alert("todo:use_scaling");else{if(N){if(m.Ib=kt,h.Kb){if(y=h.U+1>>1,m.memory=i(h.U+2*y),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+y,m.Ib=Rt,Jc()}}else alert("todo:EmitYUV");T&&(m.Jb=ar,N&&sa())}if(N&&!Kx){for(h=0;256>h;++h)Rj[h]=89858*(h-128)+Ku>>Gu,qj[h]=-22014*(h-128)+Ku,Oj[h]=-45773*(h-128),Mj[h]=113618*(h-128)+Ku>>Gu;for(h=hd;h<im;++h)m=76283*(h-16)+Ku>>Gu,Bj[h-hd]=ja(m,255),zj[h-hd]=ja(m+8>>4,15);Kx=1}return 1}function at(h){var m=h.ma,y=h.U,N=h.T;return t(!(1&h.ka)),0>=y||0>=N?0:(y=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,y),m.Dc+=y,1)}function Cn(h){h.ma.memory=null}function En(h,m,y,N){return me(h,8)!=47?0:(m[0]=me(h,14)+1,y[0]=me(h,14)+1,N[0]=me(h,1),me(h,3)!=0?0:!h.h)}function Mr(h,m){if(4>h)return h+1;var y=h-2>>1;return(2+(1&h)<<y)+me(m,y)+1}function Qr(h,m){return 120<m?m-120:1<=(y=((y=_j[m-1])>>4)*h+(8-(15&y)))?y:1;var y}function $r(h,m,y){var N=I(y),T=h[m+=255&N].g-8;return 0<T&&(J(y,y.u+8),N=I(y),m+=h[m].value,m+=N&(1<<T)-1),J(y,y.u+h[m].g),h[m].value}function An(h,m,y){return y.g+=h.g,y.value+=h.value<<m>>>0,t(8>=y.g),h.g}function Tn(h,m,y){var N=h.xc;return t((m=N==0?0:h.vc[h.md*(y>>N)+(m>>N)])<h.Wb),h.Ya[m]}function No(h,m,y,N){var T=h.ab,R=h.c*m,O=h.C;m=O+m;var B=y,H=N;for(N=h.Ta,y=h.Ua;0<T--;){var G=h.gc[T],le=O,be=m,K=B,de=H,ve=(H=N,B=y,G.Ea);switch(t(le<be),t(be<=G.nc),G.hc){case 2:Xr(K,de,(be-le)*ve,H,B);break;case 0:var Le=le,ye=be,Ee=H,Fe=B,$e=(lt=G).Ea;Le==0&&(sd(K,de,null,null,1,Ee,Fe),Ye(K,de+1,0,0,$e-1,Ee,Fe+1),de+=$e,Fe+=$e,++Le);for(var qe=1<<lt.b,xt=qe-1,et=Pe($e,lt.b),Vt=lt.K,lt=lt.w+(Le>>lt.b)*et;Le<ye;){var tr=Vt,bn=lt,Ht=1;for(kl(K,de,Ee,Fe-$e,1,Ee,Fe);Ht<$e;){var ct=(Ht&~xt)+qe;ct>$e&&(ct=$e),(0,id[tr[bn++]>>8&15])(K,de+ +Ht,Ee,Fe+Ht-$e,ct-Ht,Ee,Fe+Ht),Ht=ct}de+=$e,Fe+=$e,++Le&xt||(lt+=et)}be!=G.nc&&n(H,B-ve,H,B+(be-le-1)*ve,ve);break;case 1:for(ve=K,ye=de,$e=(K=G.Ea)-(Fe=K&~(Ee=(de=1<<G.b)-1)),Le=Pe(K,G.b),qe=G.K,G=G.w+(le>>G.b)*Le;le<be;){for(xt=qe,et=G,Vt=new he,lt=ye+Fe,tr=ye+K;ye<lt;)Ke(xt[et++],Vt),od(Vt,ve,ye,de,H,B),ye+=de,B+=de;ye<tr&&(Ke(xt[et++],Vt),od(Vt,ve,ye,$e,H,B),ye+=$e,B+=$e),++le&Ee||(G+=Le)}break;case 3:if(K==H&&de==B&&0<G.b){for(ye=H,K=ve=B+(be-le)*ve-(Fe=(be-le)*Pe(G.Ea,G.b)),de=H,Ee=B,Le=[],Fe=($e=Fe)-1;0<=Fe;--Fe)Le[Fe]=de[Ee+Fe];for(Fe=$e-1;0<=Fe;--Fe)ye[K+Fe]=Le[Fe];Bu(G,le,be,H,ve,H,B)}else Bu(G,le,be,K,de,H,B)}B=N,H=y}H!=y&&n(N,y,B,H,R)}function ji(h,m){var y=h.V,N=h.Ba+h.c*h.C,T=m-h.C;if(t(m<=h.l.o),t(16>=T),0<T){var R=h.l,O=h.Ta,B=h.Ua,H=R.width;if(No(h,T,y,N),T=B=[B],t((y=h.C)<(N=m)),t(R.v<R.va),N>R.o&&(N=R.o),y<R.j){var G=R.j-y;y=R.j,T[0]+=G*H}if(y>=N?y=0:(T[0]+=4*R.v,R.ka=y-R.j,R.U=R.va-R.v,R.T=N-y,y=1),y){if(B=B[0],11>(y=h.ca).S){var le=y.f.RGBA,be=(N=y.S,T=R.U,R=R.T,G=le.eb,le.A),K=R;for(le=le.fb+h.Ma*le.A;0<K--;){var de=O,ve=B,Le=T,ye=G,Ee=le;switch(N){case $u:ld(de,ve,Le,ye,Ee);break;case Wu:Pi(de,ve,Le,ye,Ee);break;case tm:Pi(de,ve,Le,ye,Ee),dd(ye,Ee,0,Le,1,0);break;case qx:Oo(de,ve,Le,ye,Ee);break;case Vu:vt(de,ve,Le,ye,Ee,1);break;case rm:vt(de,ve,Le,ye,Ee,1),dd(ye,Ee,0,Le,1,0);break;case Hu:vt(de,ve,Le,ye,Ee,0);break;case Yu:vt(de,ve,Le,ye,Ee,0),dd(ye,Ee,1,Le,1,0);break;case em:Li(de,ve,Le,ye,Ee);break;case nm:Li(de,ve,Le,ye,Ee),Dx(ye,Ee,Le,1,0);break;case Bx:Di(de,ve,Le,ye,Ee);break;default:t(0)}B+=H,le+=be}h.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=y.height)}}h.C=m,t(h.C<=h.i)}function ea(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var y=h.Ya[m].G,N=h.Ya[m].H;if(0<y[1][N[1]+0].g||0<y[2][N[2]+0].g||0<y[3][N[3]+0].g)return 0}return 1}function wa(h,m,y,N,T,R){if(h.Z!=0){var O=h.qd,B=h.rd;for(t(Fi[h.Z]!=null);m<y;++m)Fi[h.Z](O,B,N,T,N,T,R),O=N,B=T,T+=R;h.qd=O,h.rd=B}}function ta(h,m){var y=h.l.ma,N=y.Z==0||y.Z==1?h.l.j:h.C;if(N=h.C<N?N:h.C,t(m<=h.l.o),m>N){var T=h.l.width,R=y.ca,O=y.tb+T*N,B=h.V,H=h.Ba+h.c*N,G=h.gc;t(h.ab==1),t(G[0].hc==3),Ca(G[0],N,m,B,H,R,O),wa(y,N,m,R,O,T)}h.C=h.Ma=m}function ra(h,m,y,N,T,R,O){var B=h.$/N,H=h.$%N,G=h.m,le=h.s,be=y+h.$,K=be;T=y+N*T;var de=y+N*R,ve=280+le.ua,Le=h.Pb?B:16777216,ye=0<le.ua?le.Wa:null,Ee=le.wc,Fe=be<de?Tn(le,H,B):null;t(h.C<R),t(de<=T);var $e=!1;e:for(;;){for(;$e||be<de;){var qe=0;if(B>=Le){var xt=be-y;t((Le=h).Pb),Le.wd=Le.m,Le.xd=xt,0<Le.s.ua&&Re(Le.s.Wa,Le.s.vb),Le=B+Nj}if(H&Ee||(Fe=Tn(le,H,B)),t(Fe!=null),Fe.Qb&&(m[be]=Fe.qb,$e=!0),!$e)if(re(G),Fe.jc){qe=G,xt=m;var et=be,Vt=Fe.pd[I(qe)&Mo-1];t(Fe.jc),256>Vt.g?(J(qe,qe.u+Vt.g),xt[et]=Vt.value,qe=0):(J(qe,qe.u+Vt.g-256),t(256<=Vt.value),qe=Vt.value),qe==0&&($e=!0)}else qe=$r(Fe.G[0],Fe.H[0],G);if(G.h)break;if($e||256>qe){if(!$e)if(Fe.nd)m[be]=(Fe.qb|qe<<8)>>>0;else{if(re(G),$e=$r(Fe.G[1],Fe.H[1],G),re(G),xt=$r(Fe.G[2],Fe.H[2],G),et=$r(Fe.G[3],Fe.H[3],G),G.h)break;m[be]=(et<<24|$e<<16|qe<<8|xt)>>>0}if($e=!1,++be,++H>=N&&(H=0,++B,O!=null&&B<=R&&!(B%16)&&O(h,B),ye!=null))for(;K<be;)qe=m[K++],ye.X[(506832829*qe&4294967295)>>>ye.Mb]=qe}else if(280>qe){if(qe=Mr(qe-256,G),xt=$r(Fe.G[4],Fe.H[4],G),re(G),xt=Qr(N,xt=Mr(xt,G)),G.h)break;if(be-y<xt||T-be<qe)break e;for(et=0;et<qe;++et)m[be+et]=m[be+et-xt];for(be+=qe,H+=qe;H>=N;)H-=N,++B,O!=null&&B<=R&&!(B%16)&&O(h,B);if(t(be<=T),H&Ee&&(Fe=Tn(le,H,B)),ye!=null)for(;K<be;)qe=m[K++],ye.X[(506832829*qe&4294967295)>>>ye.Mb]=qe}else{if(!(qe<ve))break e;for($e=qe-280,t(ye!=null);K<be;)qe=m[K++],ye.X[(506832829*qe&4294967295)>>>ye.Mb]=qe;qe=be,t(!($e>>>(xt=ye).Xa)),m[qe]=xt.X[$e],$e=!0}$e||t(G.h==V(G))}if(h.Pb&&G.h&&be<T)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Re(h.s.vb,h.s.Wa);else{if(G.h)break e;O!=null&&O(h,B>R?R:B),h.a=0,h.$=be-y}return 1}return h.a=3,0}function Os(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,t(h!=null)}function So(){var h=new Ft;return h==null?null:(h.a=0,h.xb=$x,pr("Predictor","VP8LPredictors"),pr("Predictor","VP8LPredictors_C"),pr("PredictorAdd","VP8LPredictorsAdd"),pr("PredictorAdd","VP8LPredictorsAdd_C"),Xr=Ze,od=bt,ld=er,Pi=Lt,Li=jt,Di=Ot,Oo=sr,_.VP8LMapColor32b=ka,_.VP8LMapColor8b=ad,h)}function _a(h,m,y,N,T){var R=1,O=[h],B=[m],H=N.m,G=N.s,le=null,be=0;e:for(;;){if(y)for(;R&&me(H,1);){var K=O,de=B,ve=N,Le=1,ye=ve.m,Ee=ve.gc[ve.ab],Fe=me(ye,2);if(ve.Oc&1<<Fe)R=0;else{switch(ve.Oc|=1<<Fe,Ee.hc=Fe,Ee.Ea=K[0],Ee.nc=de[0],Ee.K=[null],++ve.ab,t(4>=ve.ab),Fe){case 0:case 1:Ee.b=me(ye,3)+2,Le=_a(Pe(Ee.Ea,Ee.b),Pe(Ee.nc,Ee.b),0,ve,Ee.K),Ee.K=Ee.K[0];break;case 3:var $e,qe=me(ye,8)+1,xt=16<qe?0:4<qe?1:2<qe?2:3;if(K[0]=Pe(Ee.Ea,xt),Ee.b=xt,$e=Le=_a(qe,1,0,ve,Ee.K)){var et,Vt=qe,lt=Ee,tr=1<<(8>>lt.b),bn=i(tr);if(bn==null)$e=0;else{var Ht=lt.K[0],ct=lt.w;for(bn[0]=lt.K[0][0],et=1;et<1*Vt;++et)bn[et]=Z(Ht[ct+et],bn[et-1]);for(;et<4*tr;++et)bn[et]=0;lt.K[0]=null,lt.K[0]=bn,$e=1}}Le=$e;break;case 2:break;default:t(0)}R=Le}}if(O=O[0],B=B[0],R&&me(H,1)&&!(R=1<=(be=me(H,4))&&11>=be)){N.a=3;break e}var Ge;if(Ge=R)t:{var en,Ut,ir,Tr=N,Rn=O,rs=B,Wr=be,Vn=y,ns=Tr.m,wn=Tr.s,ur=[null],br=1,Vr=0,wr=jj[Wr];r:for(;;){if(Vn&&me(ns,1)){var Mn=me(ns,3)+2,ia=Pe(Rn,Mn),tn=Pe(rs,Mn),fs=ia*tn;if(!_a(ia,tn,0,Tr,ur))break r;for(ur=ur[0],wn.xc=Mn,en=0;en<fs;++en){var kr=ur[en]>>8&65535;ur[en]=kr,kr>=br&&(br=kr+1)}}if(ns.h)break r;for(Ut=0;5>Ut;++Ut){var _n=zx[Ut];!Ut&&0<Wr&&(_n+=1<<Wr),Vr<_n&&(Vr=_n)}var ks=l(br*wr,W),ss=br,Cs=l(ss,oe);if(Cs==null)var As=null;else t(65536>=ss),As=Cs;var ms=i(Vr);if(As==null||ms==null||ks==null){Tr.a=1;break r}var Ps=ks;for(en=ir=0;en<br;++en){var Dr=As[en],Ls=Dr.G,oa=Dr.H,Bo=0,si=1,On=0;for(Ut=0;5>Ut;++Ut){_n=zx[Ut],Ls[Ut]=Ps,oa[Ut]=ir,!Ut&&0<Wr&&(_n+=1<<Wr);s:{var Qu,om=_n,Xu=Tr,fd=ms,Wj=Ps,Vj=ir,lm=0,Ii=Xu.m,Hj=me(Ii,1);if(a(fd,0,0,om),Hj){var Yj=me(Ii,1)+1,Gj=me(Ii,1),Xx=me(Ii,Gj==0?1:8);fd[Xx]=1,Yj==2&&(fd[Xx=me(Ii,8)]=1);var Ju=1}else{var Jx=i(19),e1=me(Ii,4)+4;if(19<e1){Xu.a=3;var eh=0;break s}for(Qu=0;Qu<e1;++Qu)Jx[wj[Qu]]=me(Ii,3);var cm=void 0,md=void 0,t1=Xu,Kj=Jx,th=om,r1=fd,dm=0,Ri=t1.m,n1=8,s1=l(128,W);n:for(;A(s1,0,7,Kj,19);){if(me(Ri,1)){var Zj=2+2*me(Ri,3);if((cm=2+me(Ri,Zj))>th)break n}else cm=th;for(md=0;md<th&&cm--;){re(Ri);var a1=s1[0+(127&I(Ri))];J(Ri,Ri.u+a1.g);var Al=a1.value;if(16>Al)r1[md++]=Al,Al!=0&&(n1=Al);else{var Qj=Al==16,i1=Al-16,Xj=yj[i1],o1=me(Ri,vj[i1])+Xj;if(md+o1>th)break n;for(var Jj=Qj?n1:0;0<o1--;)r1[md++]=Jj}}dm=1;break n}dm||(t1.a=3),Ju=dm}(Ju=Ju&&!Ii.h)&&(lm=A(Wj,Vj,8,fd,om)),Ju&&lm!=0?eh=lm:(Xu.a=3,eh=0)}if(eh==0)break r;if(si&&bj[Ut]==1&&(si=Ps[ir].g==0),Bo+=Ps[ir].g,ir+=eh,3>=Ut){var pd,um=ms[0];for(pd=1;pd<_n;++pd)ms[pd]>um&&(um=ms[pd]);On+=um}}if(Dr.nd=si,Dr.Qb=0,si&&(Dr.qb=(Ls[3][oa[3]+0].value<<24|Ls[1][oa[1]+0].value<<16|Ls[2][oa[2]+0].value)>>>0,Bo==0&&256>Ls[0][oa[0]+0].value&&(Dr.Qb=1,Dr.qb+=Ls[0][oa[0]+0].value<<8)),Dr.jc=!Dr.Qb&&6>On,Dr.jc){var rh,ai=Dr;for(rh=0;rh<Mo;++rh){var Mi=rh,Oi=ai.pd[Mi],nh=ai.G[0][ai.H[0]+Mi];256<=nh.value?(Oi.g=nh.g+256,Oi.value=nh.value):(Oi.g=0,Oi.value=0,Mi>>=An(nh,8,Oi),Mi>>=An(ai.G[1][ai.H[1]+Mi],16,Oi),Mi>>=An(ai.G[2][ai.H[2]+Mi],0,Oi),An(ai.G[3][ai.H[3]+Mi],24,Oi))}}}wn.vc=ur,wn.Wb=br,wn.Ya=As,wn.yc=ks,Ge=1;break t}Ge=0}if(!(R=Ge)){N.a=3;break e}if(0<be){if(G.ua=1<<be,!$(G.Wa,be)){N.a=1,R=0;break e}}else G.ua=0;var hm=N,l1=O,e4=B,fm=hm.s,mm=fm.xc;if(hm.c=l1,hm.i=e4,fm.md=Pe(l1,mm),fm.wc=mm==0?-1:(1<<mm)-1,y){N.xb=Dj;break e}if((le=i(O*B))==null){N.a=1,R=0;break e}R=(R=ra(N,le,0,O,B,B,null))&&!H.h;break e}return R?(T!=null?T[0]=le:(t(le==null),t(y)),N.$=0,y||Os(G)):Os(G),R}function ko(h,m){var y=h.c*h.i,N=y+m+16*m;return t(h.c<=m),h.V=i(N),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+y+m,1)}function xl(h,m){var y=h.C,N=m-y,T=h.V,R=h.Ba+h.c*y;for(t(m<=h.l.o);0<N;){var O=16<N?16:N,B=h.l.ma,H=h.l.width,G=H*O,le=B.ca,be=B.tb+H*y,K=h.Ta,de=h.Ua;No(h,O,T,R),Tx(K,de,le,be,G),wa(B,y,y+O,le,be,H),N-=O,T+=O*h.c,y+=O}t(y==m),h.C=h.Ma=m}function gl(){this.ub=this.yd=this.td=this.Rb=0}function vl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mf(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Uc(){this.Yb=function(){var h=[];return function m(y,N,T){for(var R=T[N],O=0;O<R&&(y.push(T.length>N+1?[]:0),!(T.length<N+1));O++)m(y[O],N+1,T)}(h,0,[3,11]),h}()}function _u(){this.jb=i(3),this.Wc=o([4,8],Uc),this.Xc=o([4,17],Uc)}function ju(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function qs(){this.ld=this.La=this.dd=this.tc=0}function $c(){this.Na=this.la=0}function Nu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Su(){this.uc=this.M=this.Nb=0,this.wa=Array(new qs),this.Y=0,this.ya=Array(new Wc),this.aa=0,this.l=new yl}function ku(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Cu(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new gl,this.Kc=new vl,this.ed=new ju,this.Qa=new Mf,this.Ic=this.$c=this.Aa=0,this.D=new Su,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,L),this.ia=0,this.pb=l(4,Nu),this.Pa=new _u,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ku),this.Hd=0,this.rb=Array(new $c),this.sb=0,this.wa=Array(new qs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wc),this.L=this.aa=0,this.gd=o([4,2],qs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ja(h,m){return 0>h?0:h>m?m:h}function yl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Of(){var h=new Cu;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,ud||(ud=bl)),h}function dn(h,m,y){return h.a==0&&(h.a=m,h.sc=y,h.cb=0),0}function Au(h,m,y){return 3<=y&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function Na(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return dn(h,2,"null VP8Io passed to VP8GetHeaders()");var y=m.data,N=m.w,T=m.ha;if(4>T)return dn(h,7,"Truncated header.");var R=y[N+0]|y[N+1]<<8|y[N+2]<<16,O=h.Od;if(O.Rb=!(1&R),O.td=R>>1&7,O.yd=R>>4&1,O.ub=R>>5,3<O.td)return dn(h,3,"Incorrect keyframe parameters.");if(!O.yd)return dn(h,4,"Frame not displayable.");N+=3,T-=3;var B=h.Kc;if(O.Rb){if(7>T)return dn(h,7,"cannot parse picture header");if(!Au(y,N,T))return dn(h,3,"Bad code word");B.c=16383&(y[N+4]<<8|y[N+3]),B.Td=y[N+4]>>6,B.i=16383&(y[N+6]<<8|y[N+5]),B.Ud=y[N+6]>>6,N+=7,T-=7,h.za=B.c+15>>4,h.Ub=B.i+15>>4,m.width=B.c,m.height=B.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,a((R=h.Pa).jb,0,255,R.jb.length),t((R=h.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,a(R.Zb,0,0,R.Zb.length),a(R.Lb,0,0,R.Lb)}if(O.ub>T)return dn(h,7,"bad partition length");ue(R=h.m,y,N,O.ub),N+=O.ub,T-=O.ub,O.Rb&&(B.Ld=pe(R),B.Kd=pe(R)),B=h.Qa;var H,G=h.Pa;if(t(R!=null),t(B!=null),B.Cb=pe(R),B.Cb){if(B.Bb=pe(R),pe(R)){for(B.Fb=pe(R),H=0;4>H;++H)B.Zb[H]=pe(R)?X(R,7):0;for(H=0;4>H;++H)B.Lb[H]=pe(R)?X(R,6):0}if(B.Bb)for(H=0;3>H;++H)G.jb[H]=pe(R)?te(R,8):255}else B.Bb=0;if(R.Ka)return dn(h,3,"cannot parse segment header");if((B=h.ed).zd=pe(R),B.Tb=te(R,6),B.wb=te(R,3),B.Pc=pe(R),B.Pc&&pe(R)){for(G=0;4>G;++G)pe(R)&&(B.vd[G]=X(R,6));for(G=0;4>G;++G)pe(R)&&(B.od[G]=X(R,6))}if(h.L=B.Tb==0?0:B.zd?1:2,R.Ka)return dn(h,3,"cannot parse filter header");var le=T;if(T=H=N,N=H+le,B=le,h.Xb=(1<<te(h.m,2))-1,le<3*(G=h.Xb))y=7;else{for(H+=3*G,B-=3*G,le=0;le<G;++le){var be=y[T+0]|y[T+1]<<8|y[T+2]<<16;be>B&&(be=B),ue(h.Jc[+le],y,H,be),H+=be,B-=be,T+=3}ue(h.Jc[+G],y,H,B),y=H<N?0:5}if(y!=0)return dn(h,y,"cannot parse partitions");for(y=te(H=h.m,7),T=pe(H)?X(H,4):0,N=pe(H)?X(H,4):0,B=pe(H)?X(H,4):0,G=pe(H)?X(H,4):0,H=pe(H)?X(H,4):0,le=h.Qa,be=0;4>be;++be){if(le.Cb){var K=le.Zb[be];le.Fb||(K+=y)}else{if(0<be){h.pb[be]=h.pb[0];continue}K=y}var de=h.pb[be];de.Sc[0]=sm[ja(K+T,127)],de.Sc[1]=am[ja(K+0,127)],de.Eb[0]=2*sm[ja(K+N,127)],de.Eb[1]=101581*am[ja(K+B,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=sm[ja(K+G,117)],de.Qc[1]=am[ja(K+H,127)],de.lc=K+H}if(!O.Rb)return dn(h,4,"Not a key frame.");for(pe(R),O=h.Pa,y=0;4>y;++y){for(T=0;8>T;++T)for(N=0;3>N;++N)for(B=0;11>B;++B)G=we(R,Pj[y][T][N][B])?te(R,8):Cj[y][T][N][B],O.Wc[y][T].Yb[N][B]=G;for(T=0;17>T;++T)O.Xc[y][T]=O.Wc[y][Lj[T]]}return h.kc=pe(R),h.kc&&(h.Bd=te(R,8)),h.cb=1}function bl(h,m,y,N,T,R,O){var B=m[T].Yb[y];for(y=0;16>T;++T){if(!we(h,B[y+0]))return T;for(;!we(h,B[y+1]);)if(B=m[++T].Yb[0],y=0,T==16)return 16;var H=m[T+1].Yb;if(we(h,B[y+2])){var G=h,le=0;if(we(G,(K=B)[(be=y)+3]))if(we(G,K[be+6])){for(B=0,be=2*(le=we(G,K[be+8]))+(K=we(G,K[be+9+le])),le=0,K=Sj[be];K[B];++B)le+=le+we(G,K[B]);le+=3+(8<<be)}else we(G,K[be+7])?(le=7+2*we(G,165),le+=we(G,145)):le=5+we(G,159);else le=we(G,K[be+4])?3+we(G,K[be+5]):2;B=H[2]}else le=1,B=H[1];H=O+kj[T],0>(G=h).b&&ce(G);var be,K=G.b,de=(be=G.Ca>>1)-(G.I>>K)>>31;--G.b,G.Ca+=de,G.Ca|=1,G.I-=(be+1&de)<<K,R[H]=((le^de)-de)*N[(0<T)+0]}return 16}function Pu(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function Bs(h,m,y,N,T){T=h[m+y+32*N]+(T>>3),h[m+y+32*N]=-256&T?0>T?0:255:T}function gn(h,m,y,N,T,R){Bs(h,m,0,y,N+T),Bs(h,m,1,y,N+R),Bs(h,m,2,y,N-R),Bs(h,m,3,y,N-T)}function Va(h){return(20091*h>>16)+h}function Lu(h,m,y,N){var T,R=0,O=i(16);for(T=0;4>T;++T){var B=h[m+0]+h[m+8],H=h[m+0]-h[m+8],G=(35468*h[m+4]>>16)-Va(h[m+12]),le=Va(h[m+4])+(35468*h[m+12]>>16);O[R+0]=B+le,O[R+1]=H+G,O[R+2]=H-G,O[R+3]=B-le,R+=4,m++}for(T=R=0;4>T;++T)B=(h=O[R+0]+4)+O[R+8],H=h-O[R+8],G=(35468*O[R+4]>>16)-Va(O[R+12]),Bs(y,N,0,0,B+(le=Va(O[R+4])+(35468*O[R+12]>>16))),Bs(y,N,1,0,H+G),Bs(y,N,2,0,H-G),Bs(y,N,3,0,B-le),R++,N+=32}function qf(h,m,y,N){var T=h[m+0]+4,R=35468*h[m+4]>>16,O=Va(h[m+4]),B=35468*h[m+1]>>16;gn(y,N,0,T+O,h=Va(h[m+1]),B),gn(y,N,1,T+R,h,B),gn(y,N,2,T-R,h,B),gn(y,N,3,T-O,h,B)}function Bf(h,m,y,N,T){Lu(h,m,y,N),T&&Lu(h,m+16,y,N+4)}function Sa(h,m,y,N){qo(h,m+0,y,N,1),qo(h,m+32,y,N+128,1)}function Du(h,m,y,N){var T;for(h=h[m+0]+4,T=0;4>T;++T)for(m=0;4>m;++m)Bs(y,N,m,T,h)}function Eu(h,m,y,N){h[m+0]&&gr(h,m+0,y,N),h[m+16]&&gr(h,m+16,y,N+4),h[m+32]&&gr(h,m+32,y,N+128),h[m+48]&&gr(h,m+48,y,N+128+4)}function wl(h,m,y,N){var T,R=i(16);for(T=0;4>T;++T){var O=h[m+0+T]+h[m+12+T],B=h[m+4+T]+h[m+8+T],H=h[m+4+T]-h[m+8+T],G=h[m+0+T]-h[m+12+T];R[0+T]=O+B,R[8+T]=O-B,R[4+T]=G+H,R[12+T]=G-H}for(T=0;4>T;++T)O=(h=R[0+4*T]+3)+R[3+4*T],B=R[1+4*T]+R[2+4*T],H=R[1+4*T]-R[2+4*T],G=h-R[3+4*T],y[N+0]=O+B>>3,y[N+16]=G+H>>3,y[N+32]=O-B>>3,y[N+48]=G-H>>3,N+=64}function Co(h,m,y){var N,T=m-32,R=Ss,O=255-h[T-1];for(N=0;N<y;++N){var B,H=R,G=O+h[m-1];for(B=0;B<y;++B)h[m+B]=H[G+h[T+B]];m+=32}}function zf(h,m){Co(h,m,4)}function Uf(h,m){Co(h,m,8)}function $f(h,m){Co(h,m,16)}function Vc(h,m){var y;for(y=0;16>y;++y)n(h,m+32*y,h,m-32,16)}function Tu(h,m){var y;for(y=16;0<y;--y)a(h,m,h[m-1],16),m+=32}function na(h,m,y){var N;for(N=0;16>N;++N)a(m,y+32*N,h,16)}function Wf(h,m){var y,N=16;for(y=0;16>y;++y)N+=h[m-1+32*y]+h[m+y-32];na(N>>5,h,m)}function Ao(h,m){var y,N=8;for(y=0;16>y;++y)N+=h[m-1+32*y];na(N>>4,h,m)}function Hc(h,m){var y,N=8;for(y=0;16>y;++y)N+=h[m+y-32];na(N>>4,h,m)}function Vf(h,m){na(128,h,m)}function Mt(h,m,y){return h+2*m+y+2>>2}function Hf(h,m){var y,N=m-32;for(N=new Uint8Array([Mt(h[N-1],h[N+0],h[N+1]),Mt(h[N+0],h[N+1],h[N+2]),Mt(h[N+1],h[N+2],h[N+3]),Mt(h[N+2],h[N+3],h[N+4])]),y=0;4>y;++y)n(h,m+32*y,N,0,N.length)}function Yf(h,m){var y=h[m-1],N=h[m-1+32],T=h[m-1+64],R=h[m-1+96];Ne(h,m+0,16843009*Mt(h[m-1-32],y,N)),Ne(h,m+32,16843009*Mt(y,N,T)),Ne(h,m+64,16843009*Mt(N,T,R)),Ne(h,m+96,16843009*Mt(T,R,R))}function Gf(h,m){var y,N=4;for(y=0;4>y;++y)N+=h[m+y-32]+h[m-1+32*y];for(N>>=3,y=0;4>y;++y)a(h,m+32*y,N,4)}function Ha(h,m){var y=h[m-1+0],N=h[m-1+32],T=h[m-1+64],R=h[m-1-32],O=h[m+0-32],B=h[m+1-32],H=h[m+2-32],G=h[m+3-32];h[m+0+96]=Mt(N,T,h[m-1+96]),h[m+1+96]=h[m+0+64]=Mt(y,N,T),h[m+2+96]=h[m+1+64]=h[m+0+32]=Mt(R,y,N),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=Mt(O,R,y),h[m+3+64]=h[m+2+32]=h[m+1+0]=Mt(B,O,R),h[m+3+32]=h[m+2+0]=Mt(H,B,O),h[m+3+0]=Mt(G,H,B)}function Ya(h,m){var y=h[m+1-32],N=h[m+2-32],T=h[m+3-32],R=h[m+4-32],O=h[m+5-32],B=h[m+6-32],H=h[m+7-32];h[m+0+0]=Mt(h[m+0-32],y,N),h[m+1+0]=h[m+0+32]=Mt(y,N,T),h[m+2+0]=h[m+1+32]=h[m+0+64]=Mt(N,T,R),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=Mt(T,R,O),h[m+3+32]=h[m+2+64]=h[m+1+96]=Mt(R,O,B),h[m+3+64]=h[m+2+96]=Mt(O,B,H),h[m+3+96]=Mt(B,H,H)}function Kf(h,m){var y=h[m-1+0],N=h[m-1+32],T=h[m-1+64],R=h[m-1-32],O=h[m+0-32],B=h[m+1-32],H=h[m+2-32],G=h[m+3-32];h[m+0+0]=h[m+1+64]=R+O+1>>1,h[m+1+0]=h[m+2+64]=O+B+1>>1,h[m+2+0]=h[m+3+64]=B+H+1>>1,h[m+3+0]=H+G+1>>1,h[m+0+96]=Mt(T,N,y),h[m+0+64]=Mt(N,y,R),h[m+0+32]=h[m+1+96]=Mt(y,R,O),h[m+1+32]=h[m+2+96]=Mt(R,O,B),h[m+2+32]=h[m+3+96]=Mt(O,B,H),h[m+3+32]=Mt(B,H,G)}function Zf(h,m){var y=h[m+0-32],N=h[m+1-32],T=h[m+2-32],R=h[m+3-32],O=h[m+4-32],B=h[m+5-32],H=h[m+6-32],G=h[m+7-32];h[m+0+0]=y+N+1>>1,h[m+1+0]=h[m+0+64]=N+T+1>>1,h[m+2+0]=h[m+1+64]=T+R+1>>1,h[m+3+0]=h[m+2+64]=R+O+1>>1,h[m+0+32]=Mt(y,N,T),h[m+1+32]=h[m+0+96]=Mt(N,T,R),h[m+2+32]=h[m+1+96]=Mt(T,R,O),h[m+3+32]=h[m+2+96]=Mt(R,O,B),h[m+3+64]=Mt(O,B,H),h[m+3+96]=Mt(B,H,G)}function _l(h,m){var y=h[m-1+0],N=h[m-1+32],T=h[m-1+64],R=h[m-1+96];h[m+0+0]=y+N+1>>1,h[m+2+0]=h[m+0+32]=N+T+1>>1,h[m+2+32]=h[m+0+64]=T+R+1>>1,h[m+1+0]=Mt(y,N,T),h[m+3+0]=h[m+1+32]=Mt(N,T,R),h[m+3+32]=h[m+1+64]=Mt(T,R,R),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=R}function Yc(h,m){var y=h[m-1+0],N=h[m-1+32],T=h[m-1+64],R=h[m-1+96],O=h[m-1-32],B=h[m+0-32],H=h[m+1-32],G=h[m+2-32];h[m+0+0]=h[m+2+32]=y+O+1>>1,h[m+0+32]=h[m+2+64]=N+y+1>>1,h[m+0+64]=h[m+2+96]=T+N+1>>1,h[m+0+96]=R+T+1>>1,h[m+3+0]=Mt(B,H,G),h[m+2+0]=Mt(O,B,H),h[m+1+0]=h[m+3+32]=Mt(y,O,B),h[m+1+32]=h[m+3+64]=Mt(N,y,O),h[m+1+64]=h[m+3+96]=Mt(T,N,y),h[m+1+96]=Mt(R,T,N)}function Po(h,m){var y;for(y=0;8>y;++y)n(h,m+32*y,h,m-32,8)}function Qf(h,m){var y;for(y=0;8>y;++y)a(h,m,h[m-1],8),m+=32}function Ga(h,m,y){var N;for(N=0;8>N;++N)a(m,y+32*N,h,8)}function Xf(h,m){var y,N=8;for(y=0;8>y;++y)N+=h[m+y-32]+h[m-1+32*y];Ga(N>>4,h,m)}function Gc(h,m){var y,N=4;for(y=0;8>y;++y)N+=h[m+y-32];Ga(N>>3,h,m)}function Kc(h,m){var y,N=4;for(y=0;8>y;++y)N+=h[m-1+32*y];Ga(N>>3,h,m)}function Fu(h,m){Ga(128,h,m)}function Ka(h,m,y){var N=h[m-y],T=h[m+0],R=3*(T-N)+Jf[1020+h[m-2*y]-h[m+y]],O=Uu[112+(R+4>>3)];h[m-y]=Ss[255+N+Uu[112+(R+3>>3)]],h[m+0]=Ss[255+T-O]}function Zc(h,m,y,N){var T=h[m+0],R=h[m+y];return $s[255+h[m-2*y]-h[m-y]]>N||$s[255+R-T]>N}function jl(h,m,y,N){return 4*$s[255+h[m-y]-h[m+0]]+$s[255+h[m-2*y]-h[m+y]]<=N}function Qc(h,m,y,N,T){var R=h[m-3*y],O=h[m-2*y],B=h[m-y],H=h[m+0],G=h[m+y],le=h[m+2*y],be=h[m+3*y];return 4*$s[255+B-H]+$s[255+O-G]>N?0:$s[255+h[m-4*y]-R]<=T&&$s[255+R-O]<=T&&$s[255+O-B]<=T&&$s[255+be-le]<=T&&$s[255+le-G]<=T&&$s[255+G-H]<=T}function Lo(h,m,y,N){var T=2*N+1;for(N=0;16>N;++N)jl(h,m+N,y,T)&&Ka(h,m+N,y)}function Xc(h,m,y,N){var T=2*N+1;for(N=0;16>N;++N)jl(h,m+N*y,1,T)&&Ka(h,m+N*y,1)}function Iu(h,m,y,N){var T;for(T=3;0<T;--T)Lo(h,m+=4*y,y,N)}function Ru(h,m,y,N){var T;for(T=3;0<T;--T)Xc(h,m+=4,y,N)}function Za(h,m,y,N,T,R,O,B){for(R=2*R+1;0<T--;){if(Qc(h,m,y,R,O))if(Zc(h,m,y,B))Ka(h,m,y);else{var H=h,G=m,le=y,be=H[G-2*le],K=H[G-le],de=H[G+0],ve=H[G+le],Le=H[G+2*le],ye=27*(Fe=Jf[1020+3*(de-K)+Jf[1020+be-ve]])+63>>7,Ee=18*Fe+63>>7,Fe=9*Fe+63>>7;H[G-3*le]=Ss[255+H[G-3*le]+Fe],H[G-2*le]=Ss[255+be+Ee],H[G-le]=Ss[255+K+ye],H[G+0]=Ss[255+de-ye],H[G+le]=Ss[255+ve-Ee],H[G+2*le]=Ss[255+Le-Fe]}m+=N}}function Qa(h,m,y,N,T,R,O,B){for(R=2*R+1;0<T--;){if(Qc(h,m,y,R,O))if(Zc(h,m,y,B))Ka(h,m,y);else{var H=h,G=m,le=y,be=H[G-le],K=H[G+0],de=H[G+le],ve=Uu[112+(4+(Le=3*(K-be))>>3)],Le=Uu[112+(Le+3>>3)],ye=ve+1>>1;H[G-2*le]=Ss[255+H[G-2*le]+ye],H[G-le]=Ss[255+be+Le],H[G+0]=Ss[255+K-ve],H[G+le]=Ss[255+de-ye]}m+=N}}function Mu(h,m,y,N,T,R){Za(h,m,y,1,16,N,T,R)}function Do(h,m,y,N,T,R){Za(h,m,1,y,16,N,T,R)}function Ou(h,m,y,N,T,R){var O;for(O=3;0<O;--O)Qa(h,m+=4*y,y,1,16,N,T,R)}function v(h,m,y,N,T,R){var O;for(O=3;0<O;--O)Qa(h,m+=4,1,y,16,N,T,R)}function E(h,m,y,N,T,R,O,B){Za(h,m,T,1,8,R,O,B),Za(y,N,T,1,8,R,O,B)}function Q(h,m,y,N,T,R,O,B){Za(h,m,1,T,8,R,O,B),Za(y,N,1,T,8,R,O,B)}function ae(h,m,y,N,T,R,O,B){Qa(h,m+4*T,T,1,8,R,O,B),Qa(y,N+4*T,T,1,8,R,O,B)}function ge(h,m,y,N,T,R,O,B){Qa(h,m+4,1,T,8,R,O,B),Qa(y,N+4,1,T,8,R,O,B)}function Te(){this.ba=new $t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mt(){this.ua=0,this.Wa=new yt,this.vb=new yt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new W}function Ft(){this.xb=this.a=0,this.l=new yl,this.ca=new $t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mt,this.ab=0,this.gc=l(4,st),this.Oc=0}function Wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dr(h,m,y,N,T,R,O){for(h=h==null?0:h[m+0],m=0;m<O;++m)T[R+m]=h+y[N+m]&255,h=T[R+m]}function qr(h,m,y,N,T,R,O){var B;if(h==null)dr(null,null,y,N,T,R,O);else for(B=0;B<O;++B)T[R+B]=h[m+B]+y[N+B]&255}function un(h,m,y,N,T,R,O){if(h==null)dr(null,null,y,N,T,R,O);else{var B,H=h[m+0],G=H,le=H;for(B=0;B<O;++B)G=le+(H=h[m+B])-G,le=y[N+B]+(-256&G?0>G?0:255:G)&255,G=H,T[R+B]=le}}function Lr(h,m,y,N){var T=m.width,R=m.o;if(t(h!=null&&m!=null),0>y||0>=N||y+N>R)return null;if(!h.Cc){if(h.ga==null){var O;if(h.ga=new Wt,(O=h.ga==null)||(O=m.width*m.o,t(h.Gb.length==0),h.Gb=i(O),h.Uc=0,h.Gb==null?O=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,O=1),O=!O),!O){O=h.ga;var B=h.Fa,H=h.P,G=h.qc,le=h.mb,be=h.nb,K=H+1,de=G-1,ve=O.l;if(t(B!=null&&le!=null&&m!=null),Fi[0]=null,Fi[1]=dr,Fi[2]=qr,Fi[3]=un,O.ca=le,O.tb=be,O.c=m.width,O.i=m.height,t(0<O.c&&0<O.i),1>=G)m=0;else if(O.$a=3&B[H+0],O.Z=B[H+0]>>2&3,O.Lc=B[H+0]>>4&3,H=B[H+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||H)m=0;else if(ve.put=at,ve.ac=Ur,ve.bc=Cn,ve.ma=O,ve.width=m.width,ve.height=m.height,ve.Da=m.Da,ve.v=m.v,ve.va=m.va,ve.j=m.j,ve.o=m.o,O.$a)e:{t(O.$a==1),m=So();t:for(;;){if(m==null){m=0;break e}if(t(O!=null),O.mc=m,m.c=O.c,m.i=O.i,m.l=O.l,m.l.ma=O,m.l.width=O.c,m.l.height=O.i,m.a=0,ne(m.m,B,K,de),!_a(O.c,O.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&ea(m.s)?(O.ic=1,B=m.c*m.i,m.Ta=null,m.Ua=0,m.V=i(B),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(O.ic=0,m=ko(m,O.c)),!m))break t;m=1;break e}O.mc=null,m=0}else m=de>=O.c*O.i;O=!m}if(O)return null;h.ga.Lc!=1?h.Ga=0:N=R-y}t(h.ga!=null),t(y+N<=R);e:{if(m=(B=h.ga).c,R=B.l.o,B.$a==0){if(K=h.rc,de=h.Vc,ve=h.Fa,H=h.P+1+y*m,G=h.mb,le=h.nb+y*m,t(H<=h.P+h.qc),B.Z!=0)for(t(Fi[B.Z]!=null),O=0;O<N;++O)Fi[B.Z](K,de,ve,H,G,le,m),K=G,de=le,le+=m,H+=m;else for(O=0;O<N;++O)n(G,le,ve,H,m),K=G,de=le,le+=m,H+=m;h.rc=K,h.Vc=de}else{if(t(B.mc!=null),m=y+N,t((O=B.mc)!=null),t(m<=O.i),O.C>=m)m=1;else if(B.ic||sa(),B.ic){B=O.V,K=O.Ba,de=O.c;var Le=O.i,ye=(ve=1,H=O.$/de,G=O.$%de,le=O.m,be=O.s,O.$),Ee=de*Le,Fe=de*m,$e=be.wc,qe=ye<Fe?Tn(be,G,H):null;t(ye<=Ee),t(m<=Le),t(ea(be));t:for(;;){for(;!le.h&&ye<Fe;){if(G&$e||(qe=Tn(be,G,H)),t(qe!=null),re(le),256>(Le=$r(qe.G[0],qe.H[0],le)))B[K+ye]=Le,++ye,++G>=de&&(G=0,++H<=m&&!(H%16)&&ta(O,H));else{if(!(280>Le)){ve=0;break t}Le=Mr(Le-256,le);var xt,et=$r(qe.G[4],qe.H[4],le);if(re(le),!(ye>=(et=Qr(de,et=Mr(et,le)))&&Ee-ye>=Le)){ve=0;break t}for(xt=0;xt<Le;++xt)B[K+ye+xt]=B[K+ye+xt-et];for(ye+=Le,G+=Le;G>=de;)G-=de,++H<=m&&!(H%16)&&ta(O,H);ye<Fe&&G&$e&&(qe=Tn(be,G,H))}t(le.h==V(le))}ta(O,H>m?m:H);break t}!ve||le.h&&ye<Ee?(ve=0,O.a=le.h?5:3):O.$=ye,m=ve}else m=ra(O,O.V,O.Ba,O.c,O.i,m,xl);if(!m){N=0;break e}}y+N>=R&&(h.Cc=1),N=1}if(!N)return null;if(h.Cc&&((N=h.ga)!=null&&(N.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+y*T}function vn(h,m,y,N,T,R){for(;0<T--;){var O,B=h,H=m+(y?1:0),G=h,le=m+(y?0:3);for(O=0;O<N;++O){var be=G[le+4*O];be!=255&&(be*=32897,B[H+4*O+0]=B[H+4*O+0]*be>>23,B[H+4*O+1]=B[H+4*O+1]*be>>23,B[H+4*O+2]=B[H+4*O+2]*be>>23)}m+=R}}function hn(h,m,y,N,T){for(;0<N--;){var R;for(R=0;R<y;++R){var O=h[m+2*R+0],B=15&(G=h[m+2*R+1]),H=4369*B,G=(240&G|G>>4)*H>>16;h[m+2*R+0]=(240&O|O>>4)*H>>16&240|(15&O|O<<4)*H>>16>>4&15,h[m+2*R+1]=240&G|B}m+=T}}function Fn(h,m,y,N,T,R,O,B){var H,G,le=255;for(G=0;G<T;++G){for(H=0;H<N;++H){var be=h[m+H];R[O+4*H]=be,le&=be}m+=y,O+=B}return le!=255}function Xa(h,m,y,N,T){var R;for(R=0;R<T;++R)y[N+R]=h[m+R]>>8}function sa(){dd=vn,Dx=hn,Ex=Fn,Tx=Xa}function Ja(h,m,y){_[h]=function(N,T,R,O,B,H,G,le,be,K,de,ve,Le,ye,Ee,Fe,$e){var qe,xt=$e-1>>1,et=B[H+0]|G[le+0]<<16,Vt=be[K+0]|de[ve+0]<<16;t(N!=null);var lt=3*et+Vt+131074>>2;for(m(N[T+0],255&lt,lt>>16,Le,ye),R!=null&&(lt=3*Vt+et+131074>>2,m(R[O+0],255&lt,lt>>16,Ee,Fe)),qe=1;qe<=xt;++qe){var tr=B[H+qe]|G[le+qe]<<16,bn=be[K+qe]|de[ve+qe]<<16,Ht=et+tr+Vt+bn+524296,ct=Ht+2*(tr+Vt)>>3;lt=ct+et>>1,et=(Ht=Ht+2*(et+bn)>>3)+tr>>1,m(N[T+2*qe-1],255&lt,lt>>16,Le,ye+(2*qe-1)*y),m(N[T+2*qe-0],255&et,et>>16,Le,ye+(2*qe-0)*y),R!=null&&(lt=Ht+Vt>>1,et=ct+bn>>1,m(R[O+2*qe-1],255&lt,lt>>16,Ee,Fe+(2*qe-1)*y),m(R[O+2*qe+0],255&et,et>>16,Ee,Fe+(2*qe+0)*y)),et=tr,Vt=bn}1&$e||(lt=3*et+Vt+131074>>2,m(N[T+$e-1],255&lt,lt>>16,Le,ye+($e-1)*y),R!=null&&(lt=3*Vt+et+131074>>2,m(R[O+$e-1],255&lt,lt>>16,Ee,Fe+($e-1)*y)))}}function Jc(){Ws[$u]=Ej,Ws[Wu]=Wx,Ws[qx]=Tj,Ws[Vu]=Vx,Ws[Hu]=Hx,Ws[em]=Yx,Ws[Bx]=Fj,Ws[tm]=Wx,Ws[rm]=Vx,Ws[Yu]=Hx,Ws[nm]=Yx}function Nl(h){return h&~Ij?0>h?0:255:h>>Gx}function Ni(h,m){return Nl((19077*h>>8)+(26149*m>>8)-14234)}function Eo(h,m,y){return Nl((19077*h>>8)-(6419*m>>8)-(13320*y>>8)+8708)}function To(h,m){return Nl((19077*h>>8)+(33050*m>>8)-17685)}function Si(h,m,y,N,T){N[T+0]=Ni(h,y),N[T+1]=Eo(h,m,y),N[T+2]=To(h,m)}function In(h,m,y,N,T){N[T+0]=To(h,m),N[T+1]=Eo(h,m,y),N[T+2]=Ni(h,y)}function Fo(h,m,y,N,T){var R=Eo(h,m,y);m=R<<3&224|To(h,m)>>3,N[T+0]=248&Ni(h,y)|R>>5,N[T+1]=m}function Io(h,m,y,N,T){var R=240&To(h,m)|15;N[T+0]=240&Ni(h,y)|Eo(h,m,y)>>4,N[T+1]=R}function ed(h,m,y,N,T){N[T+0]=255,Si(h,m,y,N,T+1)}function td(h,m,y,N,T){In(h,m,y,N,T),N[T+3]=255}function ts(h,m,y,N,T){Si(h,m,y,N,T),N[T+3]=255}function ei(h,m,y){_[h]=function(N,T,R,O,B,H,G,le,be){for(var K=le+(-2&be)*y;le!=K;)m(N[T+0],R[O+0],B[H+0],G,le),m(N[T+1],R[O+0],B[H+0],G,le+y),T+=2,++O,++H,le+=2*y;1&be&&m(N[T+0],R[O+0],B[H+0],G,le)}}function Sl(h,m,y){return y==0?h==0?m==0?6:5:m==0?4:0:y}function qu(h,m,y,N,T){switch(h>>>30){case 3:qo(m,y,N,T,0);break;case 2:Us(m,y,N,T);break;case 1:gr(m,y,N,T)}}function zs(h,m){var y,N,T=m.M,R=m.Nb,O=h.oc,B=h.pc+40,H=h.oc,G=h.pc+584,le=h.oc,be=h.pc+600;for(y=0;16>y;++y)O[B+32*y-1]=129;for(y=0;8>y;++y)H[G+32*y-1]=129,le[be+32*y-1]=129;for(0<T?O[B-1-32]=H[G-1-32]=le[be-1-32]=129:(a(O,B-32-1,127,21),a(H,G-32-1,127,9),a(le,be-32-1,127,9)),N=0;N<h.za;++N){var K=m.ya[m.aa+N];if(0<N){for(y=-1;16>y;++y)n(O,B+32*y-4,O,B+32*y+12,4);for(y=-1;8>y;++y)n(H,G+32*y-4,H,G+32*y+4,4),n(le,be+32*y-4,le,be+32*y+4,4)}var de=h.Gd,ve=h.Hd+N,Le=K.ad,ye=K.Hc;if(0<T&&(n(O,B-32,de[ve].y,0,16),n(H,G-32,de[ve].f,0,8),n(le,be-32,de[ve].ea,0,8)),K.Za){var Ee=O,Fe=B-32+16;for(0<T&&(N>=h.za-1?a(Ee,Fe,de[ve].y[15],4):n(Ee,Fe,de[ve+1].y,0,4)),y=0;4>y;y++)Ee[Fe+128+y]=Ee[Fe+256+y]=Ee[Fe+384+y]=Ee[Fe+0+y];for(y=0;16>y;++y,ye<<=2)Ee=O,Fe=B+Zx[y],aa[K.Ob[y]](Ee,Fe),qu(ye,Le,16*+y,Ee,Fe)}else if(Ee=Sl(N,T,K.Ob[0]),Ti[Ee](O,B),ye!=0)for(y=0;16>y;++y,ye<<=2)qu(ye,Le,16*+y,O,B+Zx[y]);for(y=K.Gc,Ee=Sl(N,T,K.Dd),ni[Ee](H,G),ni[Ee](le,be),ye=Le,Ee=H,Fe=G,255&(K=0|y)&&(170&K?Aa(ye,256,Ee,Fe):Sr(ye,256,Ee,Fe)),K=le,ye=be,255&(y>>=8)&&(170&y?Aa(Le,320,K,ye):Sr(Le,320,K,ye)),T<h.Ub-1&&(n(de[ve].y,0,O,B+480,16),n(de[ve].f,0,H,G+224,8),n(de[ve].ea,0,le,be+224,8)),y=8*R*h.B,de=h.sa,ve=h.ta+16*N+16*R*h.R,Le=h.qa,K=h.ra+8*N+y,ye=h.Ha,Ee=h.Ia+8*N+y,y=0;16>y;++y)n(de,ve+y*h.R,O,B+32*y,16);for(y=0;8>y;++y)n(Le,K+y*h.B,H,G+32*y,8),n(ye,Ee+y*h.B,le,be+32*y,8)}}function Ro(h,m,y,N,T,R,O,B,H){var G=[0],le=[0],be=0,K=H!=null?H.kd:0,de=H??new Oe;if(h==null||12>y)return 7;de.data=h,de.w=m,de.ha=y,m=[m],y=[y],de.gb=[de.gb];e:{var ve=m,Le=y,ye=de.gb;if(t(h!=null),t(Le!=null),t(ye!=null),ye[0]=0,12<=Le[0]&&!r(h,ve[0],"RIFF")){if(r(h,ve[0]+8,"WEBP")){ye=3;break e}var Ee=ze(h,ve[0]+4);if(12>Ee||4294967286<Ee){ye=3;break e}if(K&&Ee>Le[0]-8){ye=7;break e}ye[0]=Ee,ve[0]+=12,Le[0]-=12}ye=0}if(ye!=0)return ye;for(Ee=0<de.gb[0],y=y[0];;){e:{var Fe=h;Le=m,ye=y;var $e=G,qe=le,xt=ve=[0];if((lt=be=[be])[0]=0,8>ye[0])ye=7;else{if(!r(Fe,Le[0],"VP8X")){if(ze(Fe,Le[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var et=ze(Fe,Le[0]+8),Vt=1+Be(Fe,Le[0]+12);if(2147483648<=Vt*(Fe=1+Be(Fe,Le[0]+15))){ye=3;break e}xt!=null&&(xt[0]=et),$e!=null&&($e[0]=Vt),qe!=null&&(qe[0]=Fe),Le[0]+=18,ye[0]-=18,lt[0]=1}ye=0}}if(be=be[0],ve=ve[0],ye!=0)return ye;if(Le=!!(2&ve),!Ee&&be)return 3;if(R!=null&&(R[0]=!!(16&ve)),O!=null&&(O[0]=Le),B!=null&&(B[0]=0),O=G[0],ve=le[0],be&&Le&&H==null){ye=0;break}if(4>y){ye=7;break}if(Ee&&be||!Ee&&!be&&!r(h,m[0],"ALPH")){y=[y],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{et=h,ye=m,Ee=y;var lt=de.gb;$e=de.na,qe=de.P,xt=de.Sa,Vt=22,t(et!=null),t(Ee!=null),Fe=ye[0];var tr=Ee[0];for(t($e!=null),t(xt!=null),$e[0]=null,qe[0]=null,xt[0]=0;;){if(ye[0]=Fe,Ee[0]=tr,8>tr){ye=7;break e}var bn=ze(et,Fe+4);if(4294967286<bn){ye=3;break e}var Ht=8+bn+1&-2;if(Vt+=Ht,0<lt&&Vt>lt){ye=3;break e}if(!r(et,Fe,"VP8 ")||!r(et,Fe,"VP8L")){ye=0;break e}if(tr[0]<Ht){ye=7;break e}r(et,Fe,"ALPH")||($e[0]=et,qe[0]=Fe+8,xt[0]=bn),Fe+=Ht,tr-=Ht}}if(y=y[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],ye!=0)break}y=[y],de.Ja=[de.Ja],de.xa=[de.xa];e:if(lt=h,ye=m,Ee=y,$e=de.gb[0],qe=de.Ja,xt=de.xa,et=ye[0],Fe=!r(lt,et,"VP8 "),Vt=!r(lt,et,"VP8L"),t(lt!=null),t(Ee!=null),t(qe!=null),t(xt!=null),8>Ee[0])ye=7;else{if(Fe||Vt){if(lt=ze(lt,et+4),12<=$e&&lt>$e-12){ye=3;break e}if(K&&lt>Ee[0]-8){ye=7;break e}qe[0]=lt,ye[0]+=8,Ee[0]-=8,xt[0]=Vt}else xt[0]=5<=Ee[0]&&lt[et+0]==47&&!(lt[et+4]>>5),qe[0]=Ee[0];ye=0}if(y=y[0],de.Ja=de.Ja[0],de.xa=de.xa[0],m=m[0],ye!=0)break;if(4294967286<de.Ja)return 3;if(B==null||Le||(B[0]=de.xa?2:1),O=[O],ve=[ve],de.xa){if(5>y){ye=7;break}B=O,K=ve,Le=R,h==null||5>y?h=0:5<=y&&h[m+0]==47&&!(h[m+4]>>5)?(Ee=[0],lt=[0],$e=[0],ne(qe=new q,h,m,y),En(qe,Ee,lt,$e)?(B!=null&&(B[0]=Ee[0]),K!=null&&(K[0]=lt[0]),Le!=null&&(Le[0]=$e[0]),h=1):h=0):h=0}else{if(10>y){ye=7;break}B=ve,h==null||10>y||!Au(h,m+3,y-3)?h=0:(K=h[m+0]|h[m+1]<<8|h[m+2]<<16,Le=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&K||3<(K>>1&7)||!(K>>4&1)||K>>5>=de.Ja||!Le||!h?h=0:(O&&(O[0]=Le),B&&(B[0]=h),h=1))}if(!h||(O=O[0],ve=ve[0],be&&(G[0]!=O||le[0]!=ve)))return 3;H!=null&&(H[0]=de,H.offset=m-H.w,t(4294967286>m-H.w),t(H.offset==H.ha-y));break}return ye==0||ye==7&&be&&H==null?(R!=null&&(R[0]|=de.na!=null&&0<de.na.length),N!=null&&(N[0]=O),T!=null&&(T[0]=ve),0):ye}function rd(h,m,y){var N=m.width,T=m.height,R=0,O=0,B=N,H=T;if(m.Da=h!=null&&0<h.Da,m.Da&&(B=h.cd,H=h.bd,R=h.v,O=h.j,11>y||(R&=-2,O&=-2),0>R||0>O||0>=B||0>=H||R+B>N||O+H>T))return 0;if(m.v=R,m.j=O,m.va=R+B,m.o=O+H,m.U=B,m.T=H,m.da=h!=null&&0<h.da,m.da){if(!Ue(B,H,y=[h.ib],R=[h.hb]))return 0;m.ib=y[0],m.hb=R[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*N/4&&m.hb<3*T/4,m.Kb=0),1}function nd(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function ki(h,m,y,N){if(N==null||0>=h||0>=m)return 2;if(y!=null){if(y.Da){var T=y.cd,R=y.bd,O=-2&y.v,B=-2&y.j;if(0>O||0>B||0>=T||0>=R||O+T>h||B+R>m)return 2;h=T,m=R}if(y.da){if(!Ue(h,m,T=[y.ib],R=[y.hb]))return 2;h=T[0],m=R[0]}}N.width=h,N.height=m;e:{var H=N.width,G=N.height;if(h=N.S,0>=H||0>=G||!(h>=$u&&13>h))h=2;else{if(0>=N.Rd&&N.sd==null){O=R=T=m=0;var le=(B=H*Qx[h])*G;if(11>h||(R=(G+1)/2*(m=(H+1)/2),h==12&&(O=(T=H)*G)),(G=i(le+2*R+O))==null){h=1;break e}N.sd=G,11>h?((H=N.f.RGBA).eb=G,H.fb=0,H.A=B,H.size=le):((H=N.f.kb).y=G,H.O=0,H.fa=B,H.Fd=le,H.f=G,H.N=0+le,H.Ab=m,H.Cd=R,H.ea=G,H.W=0+le+R,H.Db=m,H.Ed=R,h==12&&(H.F=G,H.J=0+le+2*R),H.Tc=O,H.lb=T)}if(m=1,T=N.S,R=N.width,O=N.height,T>=$u&&13>T)if(11>T)h=N.f.RGBA,m&=(B=Math.abs(h.A))*(O-1)+R<=h.size,m&=B>=R*Qx[T],m&=h.eb!=null;else{h=N.f.kb,B=(R+1)/2,le=(O+1)/2,H=Math.abs(h.fa),G=Math.abs(h.Ab);var be=Math.abs(h.Db),K=Math.abs(h.lb),de=K*(O-1)+R;m&=H*(O-1)+R<=h.Fd,m&=G*(le-1)+B<=h.Cd,m=(m&=be*(le-1)+B<=h.Ed)&H>=R&G>=B&be>=B,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,T==12&&(m&=K>=R,m&=de<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||y!=null&&y.fd&&(h=nd(N)),h}var Mo=64,js=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ns=24,Ci=32,ti=8,Ai=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];se("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(h){return h},_.Predictor2=function(h,m,y){return m[y+0]},_.Predictor3=function(h,m,y){return m[y+1]},_.Predictor4=function(h,m,y){return m[y-1]},_.Predictor5=function(h,m,y){return Se(Se(h,m[y+1]),m[y+0])},_.Predictor6=function(h,m,y){return Se(h,m[y-1])},_.Predictor7=function(h,m,y){return Se(h,m[y+0])},_.Predictor8=function(h,m,y){return Se(m[y-1],m[y+0])},_.Predictor9=function(h,m,y){return Se(m[y+0],m[y+1])},_.Predictor10=function(h,m,y){return Se(Se(h,m[y-1]),Se(m[y+0],m[y+1]))},_.Predictor11=function(h,m,y){var N=m[y+0];return 0>=Ae(N>>24&255,h>>24&255,(m=m[y-1])>>24&255)+Ae(N>>16&255,h>>16&255,m>>16&255)+Ae(N>>8&255,h>>8&255,m>>8&255)+Ae(255&N,255&h,255&m)?N:h},_.Predictor12=function(h,m,y){var N=m[y+0];return(De((h>>24&255)+(N>>24&255)-((m=m[y-1])>>24&255))<<24|De((h>>16&255)+(N>>16&255)-(m>>16&255))<<16|De((h>>8&255)+(N>>8&255)-(m>>8&255))<<8|De((255&h)+(255&N)-(255&m)))>>>0},_.Predictor13=function(h,m,y){var N=m[y-1];return(Ce((h=Se(h,m[y+0]))>>24&255,N>>24&255)<<24|Ce(h>>16&255,N>>16&255)<<16|Ce(h>>8&255,N>>8&255)<<8|Ce(255&h,255&N))>>>0};var sd=_.PredictorAdd0;_.PredictorAdd1=Ye,se("Predictor2","PredictorAdd2"),se("Predictor3","PredictorAdd3"),se("Predictor4","PredictorAdd4"),se("Predictor5","PredictorAdd5"),se("Predictor6","PredictorAdd6"),se("Predictor7","PredictorAdd7"),se("Predictor8","PredictorAdd8"),se("Predictor9","PredictorAdd9"),se("Predictor10","PredictorAdd10"),se("Predictor11","PredictorAdd11"),se("Predictor12","PredictorAdd12"),se("Predictor13","PredictorAdd13");var kl=_.PredictorAdd2;Qe("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Xr,Bu=_.ColorIndexInverseTransform,ka=_.MapARGB,Ca=_.VP8LColorIndexInverseTransformAlpha,ad=_.MapAlpha,id=_.VP8LPredictorsAdd=[];id.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var od,ld,Pi,Li,Di,Oo,Ei,qo,Us,Aa,gr,Sr,Jr,yn,ri,cd,Cl,zu,Sx,kx,Cx,Ax,Px,Lx,dd,Dx,Ex,Tx,Fx=i(511),Ix=i(2041),Rx=i(225),Mx=i(767),Ox=0,Jf=Ix,Uu=Rx,Ss=Mx,$s=Fx,$u=0,Wu=1,qx=2,Vu=3,Hu=4,em=5,Bx=6,tm=7,rm=8,Yu=9,nm=10,vj=[2,3,7],yj=[3,3,11],zx=[280,256,256,256,40],bj=[0,1,1,1,0],wj=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_j=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nj=8,sm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],am=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ud=null,Sj=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kj=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ux=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Cj=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Aj=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pj=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Lj=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ti=[],aa=[],ni=[],Dj=1,$x=2,Fi=[],Ws=[];Ja("UpsampleRgbLinePair",Si,3),Ja("UpsampleBgrLinePair",In,3),Ja("UpsampleRgbaLinePair",ts,4),Ja("UpsampleBgraLinePair",td,4),Ja("UpsampleArgbLinePair",ed,4),Ja("UpsampleRgba4444LinePair",Io,2),Ja("UpsampleRgb565LinePair",Fo,2);var Ej=_.UpsampleRgbLinePair,Tj=_.UpsampleBgrLinePair,Wx=_.UpsampleRgbaLinePair,Vx=_.UpsampleBgraLinePair,Hx=_.UpsampleArgbLinePair,Yx=_.UpsampleRgba4444LinePair,Fj=_.UpsampleRgb565LinePair,Gu=16,Ku=1<<Gu-1,hd=-227,im=482,Gx=6,Ij=(256<<Gx)-1,Kx=0,Rj=i(256),Mj=i(256),Oj=i(256),qj=i(256),Bj=i(im-hd),zj=i(im-hd);ei("YuvToRgbRow",Si,3),ei("YuvToBgrRow",In,3),ei("YuvToRgbaRow",ts,4),ei("YuvToBgraRow",td,4),ei("YuvToArgbRow",ed,4),ei("YuvToRgba4444Row",Io,2),ei("YuvToRgb565Row",Fo,2);var Zx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zu=[0,2,8],Uj=[8,7,6,4,4,2,2,2,1,1,1,1],$j=1;this.WebPDecodeRGBA=function(h,m,y,N,T){var R=Wu,O=new Te,B=new $t;O.ba=B,B.S=R,B.width=[B.width],B.height=[B.height];var H=B.width,G=B.height,le=new ft;if(le==null||h==null)var be=2;else t(le!=null),be=Ro(h,m,y,le.width,le.height,le.Pd,le.Qd,le.format,null);if(be!=0?H=0:(H!=null&&(H[0]=le.width[0]),G!=null&&(G[0]=le.height[0]),H=1),H){B.width=B.width[0],B.height=B.height[0],N!=null&&(N[0]=B.width),T!=null&&(T[0]=B.height);e:{if(N=new yl,(T=new Oe).data=h,T.w=m,T.ha=y,T.kd=1,m=[0],t(T!=null),((h=Ro(T.data,T.w,T.ha,null,null,null,m,null,T))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(t(O!=null),N.data=T.data,N.w=T.w+T.offset,N.ha=T.ha-T.offset,N.put=at,N.ac=Ur,N.bc=Cn,N.ma=O,T.xa){if((h=So())==null){O=1;break e}if(function(K,de){var ve=[0],Le=[0],ye=[0];t:for(;;){if(K==null)return 0;if(de==null)return K.a=2,0;if(K.l=de,K.a=0,ne(K.m,de.data,de.w,de.ha),!En(K.m,ve,Le,ye)){K.a=3;break t}if(K.xb=$x,de.width=ve[0],de.height=Le[0],!_a(ve[0],Le[0],1,K,null))break t;return 1}return t(K.a!=0),0}(h,N)){if(N=(m=ki(N.width,N.height,O.Oa,O.ba))==0){t:{N=h;r:for(;;){if(N==null){N=0;break t}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((y=N.l)!=null),t((T=y.ma)!=null),N.xb!=0){if(N.ca=T.ba,N.tb=T.tb,t(N.ca!=null),!rd(T.Oa,y,Vu)){N.a=2;break r}if(!ko(N,y.width)||y.da)break r;if((y.da||St(N.ca.S))&&sa(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&sa()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!$(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!ra(N,N.V,N.Ba,N.c,N.i,y.o,ji))break r;T.Dc=N.Ma,N=1;break t}t(N.a!=0),N=0}N=!N}N&&(m=h.a)}else m=h.a}else{if((h=new Of)==null){O=1;break e}if(h.Fa=T.na,h.P=T.P,h.qc=T.Sa,Na(h,N)){if((m=ki(N.width,N.height,O.Oa,O.ba))==0){if(h.Aa=0,y=O.Oa,t((T=h)!=null),y!=null){if(0<(H=0>(H=y.Md)?0:100<H?255:255*H/100)){for(G=le=0;4>G;++G)12>(be=T.pb[G]).lc&&(be.ia=H*Uj[0>be.lc?0:be.lc]>>3),le|=be.ia;le&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=y.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}(function(K,de){if(K==null)return 0;if(de==null)return dn(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!Na(K,de))return 0;if(t(K.cb),de.ac==null||de.ac(de)){de.ob&&(K.L=0);var ve=Zu[K.L];if(K.L==2?(K.yb=0,K.zb=0):(K.yb=de.v-ve>>4,K.zb=de.j-ve>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=de.o+15+ve>>4,K.Hb=de.va+15+ve>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var Le=K.ed;for(ve=0;4>ve;++ve){var ye;if(K.Qa.Cb){var Ee=K.Qa.Lb[ve];K.Qa.Fb||(Ee+=Le.Tb)}else Ee=Le.Tb;for(ye=0;1>=ye;++ye){var Fe=K.gd[ve][ye],$e=Ee;if(Le.Pc&&($e+=Le.vd[0],ye&&($e+=Le.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var qe=$e;0<Le.wb&&(qe=4<Le.wb?qe>>2:qe>>1)>9-Le.wb&&(qe=9-Le.wb),1>qe&&(qe=1),Fe.dd=qe,Fe.tc=2*$e+qe,Fe.ld=40<=$e?2:15<=$e?1:0}else Fe.tc=0;Fe.La=ye}}}ve=0}else dn(K,6,"Frame setup failed"),ve=K.a;if(ve=ve==0){if(ve){K.$c=0,0<K.Aa||(K.Ic=$j);t:{ve=K.Ic,Le=4*(qe=K.za);var xt=32*qe,et=qe+1,Vt=0<K.L?qe*(0<K.Aa?2:1):0,lt=(K.Aa==2?2:1)*qe;if((Fe=Le+832+(ye=3*(16*ve+Zu[K.L])/2*xt)+(Ee=K.Fa!=null&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=Fe)ve=0;else{if(Fe>K.Vb){if(K.Vb=0,K.Ec=i(Fe),K.Fc=0,K.Ec==null){ve=dn(K,1,"no memory during frame initialization.");break t}K.Vb=Fe}Fe=K.Ec,$e=K.Fc,K.Ac=Fe,K.Bc=$e,$e+=Le,K.Gd=l(xt,ku),K.Hd=0,K.rb=l(et+1,$c),K.sb=1,K.wa=Vt?l(Vt,qs):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=qe),t(!0),K.oc=Fe,K.pc=$e,$e+=832,K.ya=l(lt,Wc),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,K.Aa==2&&(K.D.aa+=qe),K.R=16*qe,K.B=8*qe,qe=(xt=Zu[K.L])*K.R,xt=xt/2*K.B,K.sa=Fe,K.ta=$e+qe,K.qa=K.sa,K.ra=K.ta+16*ve*K.R+xt,K.Ha=K.qa,K.Ia=K.ra+8*ve*K.B+xt,K.$c=0,$e+=ye,K.mb=Ee?Fe:null,K.nb=Ee?$e:null,t($e+Ee<=K.Fc+K.Vb),Pu(K),a(K.Ac,K.Bc,0,Le),ve=1}}if(ve){if(de.ka=0,de.y=K.sa,de.O=K.ta,de.f=K.qa,de.N=K.ra,de.ea=K.Ha,de.Vd=K.Ia,de.fa=K.R,de.Rc=K.B,de.F=null,de.J=0,!Ox){for(ve=-255;255>=ve;++ve)Fx[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)Ix[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)Rx[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)Mx[255+ve]=0>ve?0:255<ve?255:ve;Ox=1}Ei=wl,qo=Bf,Aa=Sa,gr=Du,Sr=Eu,Us=qf,Jr=Mu,yn=Do,ri=E,cd=Q,Cl=Ou,zu=v,Sx=ae,kx=ge,Cx=Lo,Ax=Xc,Px=Iu,Lx=Ru,aa[0]=Gf,aa[1]=zf,aa[2]=Hf,aa[3]=Yf,aa[4]=Ha,aa[5]=Kf,aa[6]=Ya,aa[7]=Zf,aa[8]=Yc,aa[9]=_l,Ti[0]=Wf,Ti[1]=$f,Ti[2]=Vc,Ti[3]=Tu,Ti[4]=Ao,Ti[5]=Hc,Ti[6]=Vf,ni[0]=Xf,ni[1]=Uf,ni[2]=Po,ni[3]=Qf,ni[4]=Kc,ni[5]=Gc,ni[6]=Fu,ve=1}else ve=0}ve&&(ve=function(tr,bn){for(tr.M=0;tr.M<tr.Va;++tr.M){var Ht,ct=tr.Jc[tr.M&tr.Xb],Ge=tr.m,en=tr;for(Ht=0;Ht<en.za;++Ht){var Ut=Ge,ir=en,Tr=ir.Ac,Rn=ir.Bc+4*Ht,rs=ir.zc,Wr=ir.ya[ir.aa+Ht];if(ir.Qa.Bb?Wr.$b=we(Ut,ir.Pa.jb[0])?2+we(Ut,ir.Pa.jb[2]):we(Ut,ir.Pa.jb[1]):Wr.$b=0,ir.kc&&(Wr.Ad=we(Ut,ir.Bd)),Wr.Za=!we(Ut,145)+0,Wr.Za){var Vn=Wr.Ob,ns=0;for(ir=0;4>ir;++ir){var wn,ur=rs[0+ir];for(wn=0;4>wn;++wn){ur=Aj[Tr[Rn+wn]][ur];for(var br=Ux[we(Ut,ur[0])];0<br;)br=Ux[2*br+we(Ut,ur[br])];ur=-br,Tr[Rn+wn]=ur}n(Vn,ns,Tr,Rn,4),ns+=4,rs[0+ir]=ur}}else ur=we(Ut,156)?we(Ut,128)?1:3:we(Ut,163)?2:0,Wr.Ob[0]=ur,a(Tr,Rn,ur,4),a(rs,0,ur,4);Wr.Dd=we(Ut,142)?we(Ut,114)?we(Ut,183)?1:3:2:0}if(en.m.Ka)return dn(tr,7,"Premature end-of-partition0 encountered.");for(;tr.ja<tr.za;++tr.ja){if(en=ct,Ut=(Ge=tr).rb[Ge.sb-1],Tr=Ge.rb[Ge.sb+Ge.ja],Ht=Ge.ya[Ge.aa+Ge.ja],Rn=Ge.kc?Ht.Ad:0)Ut.la=Tr.la=0,Ht.Za||(Ut.Na=Tr.Na=0),Ht.Hc=0,Ht.Gc=0,Ht.ia=0;else{var Vr,wr;if(Ut=Tr,Tr=en,Rn=Ge.Pa.Xc,rs=Ge.ya[Ge.aa+Ge.ja],Wr=Ge.pb[rs.$b],ir=rs.ad,Vn=0,ns=Ge.rb[Ge.sb-1],ur=wn=0,a(ir,Vn,0,384),rs.Za)var Mn=0,ia=Rn[3];else{br=i(16);var tn=Ut.Na+ns.Na;if(tn=ud(Tr,Rn[1],tn,Wr.Eb,0,br,0),Ut.Na=ns.Na=(0<tn)+0,1<tn)Ei(br,0,ir,Vn);else{var fs=br[0]+3>>3;for(br=0;256>br;br+=16)ir[Vn+br]=fs}Mn=1,ia=Rn[0]}var kr=15&Ut.la,_n=15&ns.la;for(br=0;4>br;++br){var ks=1&_n;for(fs=wr=0;4>fs;++fs)kr=kr>>1|(ks=(tn=ud(Tr,ia,tn=ks+(1&kr),Wr.Sc,Mn,ir,Vn))>Mn)<<7,wr=wr<<2|(3<tn?3:1<tn?2:ir[Vn+0]!=0),Vn+=16;kr>>=4,_n=_n>>1|ks<<7,wn=(wn<<8|wr)>>>0}for(ia=kr,Mn=_n>>4,Vr=0;4>Vr;Vr+=2){for(wr=0,kr=Ut.la>>4+Vr,_n=ns.la>>4+Vr,br=0;2>br;++br){for(ks=1&_n,fs=0;2>fs;++fs)tn=ks+(1&kr),kr=kr>>1|(ks=0<(tn=ud(Tr,Rn[2],tn,Wr.Qc,0,ir,Vn)))<<3,wr=wr<<2|(3<tn?3:1<tn?2:ir[Vn+0]!=0),Vn+=16;kr>>=2,_n=_n>>1|ks<<5}ur|=wr<<4*Vr,ia|=kr<<4<<Vr,Mn|=(240&_n)<<Vr}Ut.la=ia,ns.la=Mn,rs.Hc=wn,rs.Gc=ur,rs.ia=43690&ur?0:Wr.ia,Rn=!(wn|ur)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[Ht.$b][Ht.Za],Ge.wa[Ge.Y+Ge.ja].La|=!Rn),en.Ka)return dn(tr,7,"Premature end-of-file encountered.")}if(Pu(tr),Ge=bn,en=1,Ht=(ct=tr).D,Ut=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,ct.Aa==0)t:{if(Ht.M=ct.M,Ht.uc=Ut,zs(ct,Ht),en=1,Ht=(wr=ct.D).Nb,Ut=(ur=Zu[ct.L])*ct.R,Tr=ur/2*ct.B,br=16*Ht*ct.R,fs=8*Ht*ct.B,Rn=ct.sa,rs=ct.ta-Ut+br,Wr=ct.qa,ir=ct.ra-Tr+fs,Vn=ct.Ha,ns=ct.Ia-Tr+fs,_n=(kr=wr.M)==0,wn=kr>=ct.Va-1,ct.Aa==2&&zs(ct,wr),wr.uc)for(ks=(tn=ct).D.M,t(tn.D.uc),wr=tn.yb;wr<tn.Hb;++wr){Mn=wr,ia=ks;var ss=(Cs=(On=tn).D).Nb;Vr=On.R;var Cs=Cs.wa[Cs.Y+Mn],As=On.sa,ms=On.ta+16*ss*Vr+16*Mn,Ps=Cs.dd,Dr=Cs.tc;if(Dr!=0)if(t(3<=Dr),On.L==1)0<Mn&&Ax(As,ms,Vr,Dr+4),Cs.La&&Lx(As,ms,Vr,Dr),0<ia&&Cx(As,ms,Vr,Dr+4),Cs.La&&Px(As,ms,Vr,Dr);else{var Ls=On.B,oa=On.qa,Bo=On.ra+8*ss*Ls+8*Mn,si=On.Ha,On=On.Ia+8*ss*Ls+8*Mn;ss=Cs.ld,0<Mn&&(yn(As,ms,Vr,Dr+4,Ps,ss),cd(oa,Bo,si,On,Ls,Dr+4,Ps,ss)),Cs.La&&(zu(As,ms,Vr,Dr,Ps,ss),kx(oa,Bo,si,On,Ls,Dr,Ps,ss)),0<ia&&(Jr(As,ms,Vr,Dr+4,Ps,ss),ri(oa,Bo,si,On,Ls,Dr+4,Ps,ss)),Cs.La&&(Cl(As,ms,Vr,Dr,Ps,ss),Sx(oa,Bo,si,On,Ls,Dr,Ps,ss))}}if(ct.ia&&alert("todo:DitherRow"),Ge.put!=null){if(wr=16*kr,kr=16*(kr+1),_n?(Ge.y=ct.sa,Ge.O=ct.ta+br,Ge.f=ct.qa,Ge.N=ct.ra+fs,Ge.ea=ct.Ha,Ge.W=ct.Ia+fs):(wr-=ur,Ge.y=Rn,Ge.O=rs,Ge.f=Wr,Ge.N=ir,Ge.ea=Vn,Ge.W=ns),wn||(kr-=ur),kr>Ge.o&&(kr=Ge.o),Ge.F=null,Ge.J=null,ct.Fa!=null&&0<ct.Fa.length&&wr<kr&&(Ge.J=Lr(ct,Ge,wr,kr-wr),Ge.F=ct.mb,Ge.F==null&&Ge.F.length==0)){en=dn(ct,3,"Could not decode alpha data.");break t}wr<Ge.j&&(ur=Ge.j-wr,wr=Ge.j,t(!(1&ur)),Ge.O+=ct.R*ur,Ge.N+=ct.B*(ur>>1),Ge.W+=ct.B*(ur>>1),Ge.F!=null&&(Ge.J+=Ge.width*ur)),wr<kr&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=wr-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=kr-wr,en=Ge.put(Ge))}Ht+1!=ct.Ic||wn||(n(ct.sa,ct.ta-Ut,Rn,rs+16*ct.R,Ut),n(ct.qa,ct.ra-Tr,Wr,ir+8*ct.B,Tr),n(ct.Ha,ct.Ia-Tr,Vn,ns+8*ct.B,Tr))}if(!en)return dn(tr,6,"Output aborted.")}return 1}(K,de)),de.bc!=null&&de.bc(de),ve&=1}return ve?(K.cb=0,ve):0})(h,N)||(m=h.a)}}else m=h.a}m==0&&O.Oa!=null&&O.Oa.fd&&(m=nd(O.ba))}O=m}R=O!=0?null:11>R?B.f.RGBA.eb:B.f.kb.y}else R=null;return R};var Qx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,M){for(var C="",A=0;A<4;A++)C+=String.fromCharCode(_[M++]);return C}function u(_,M){return _[M+0]|_[M+1]<<8}function p(_,M){return(_[M+0]|_[M+1]<<8|_[M+2]<<16)>>>0}function x(_,M){return(_[M+0]|_[M+1]<<8|_[M+2]<<16|_[M+3]<<24)>>>0}new c;var f=[0],g=[0],b=[],w=new c,j=e,P=function(_,M){var C={},A=0,W=!1,U=0,oe=0;if(C.frames=[],!function(L,q){for(var I=0;I<4;I++)if(L[q+I]!="RIFF".charCodeAt(I))return!0;return!1}(_,M)){for(x(_,M+=4),M+=8;M<_.length;){var ue=d(_,M),te=x(_,M+=4);M+=4;var X=te+(1&te);switch(ue){case"VP8 ":case"VP8L":C.frames[A]===void 0&&(C.frames[A]={}),(me=C.frames[A]).src_off=W?oe:M-8,me.src_size=U+te+8,A++,W&&(W=!1,U=0,oe=0);break;case"VP8X":(me=C.header={}).feature_flags=_[M];var ne=M+4;me.canvas_width=1+p(_,ne),ne+=3,me.canvas_height=1+p(_,ne),ne+=3;break;case"ALPH":W=!0,U=X+8,oe=M-8;break;case"ANIM":(me=C.header).bgcolor=x(_,M),ne=M+4,me.loop_count=u(_,ne),ne+=2;break;case"ANMF":var ke,me;(me=C.frames[A]={}).offset_x=2*p(_,M),M+=3,me.offset_y=2*p(_,M),M+=3,me.width=1+p(_,M),M+=3,me.height=1+p(_,M),M+=3,me.duration=p(_,M),M+=3,ke=_[M++],me.dispose=1&ke,me.blend=ke>>1&1}ue!="ANMF"&&(M+=X)}return C}}(j,0);P.response=j,P.rgbaoutput=!0,P.dataurl=!1;var F=P.header?P.header:null,D=P.frames?P.frames:null;if(F){F.loop_counter=F.loop_count,f=[F.canvas_height],g=[F.canvas_width];for(var z=0;z<D.length&&D[z].blend!=0;z++);}var Y=D[0],ee=w.WebPDecodeRGBA(j,Y.src_off,Y.src_size,g,f);Y.rgba=ee,Y.imgwidth=g[0],Y.imgheight=f[0];for(var k=0;k<g[0]*f[0]*4;k++)b[k]=ee[k];return this.width=g,this.height=f,this.data=b,this}(function(e){var t,r,n,a,i,l,o,c,d,u=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new l,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new l,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var p=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=L;Object.defineProperty(this,"pdf",{get:function(){return q}});var I=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return I},set:function($){I=!!$}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function($){V=!!$}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function($){isNaN($)||(J=$)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function($){isNaN($)||(re=$)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function($){var Re;typeof $=="number"?Re=[$,$,$,$]:((Re=new Array(4))[0]=$[0],Re[1]=$.length>=2?$[1]:Re[0],Re[2]=$.length>=3?$[2]:Re[0],Re[3]=$.length>=4?$[3]:Re[1]),d.margin=Re}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function($){ce=$}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function($){pe=$}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function($){we=$}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function($){$ instanceof u&&(d=$)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function($){d.path=$}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function($){Ne=$}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function($){var Re;Re=x($),this.ctx.fillStyle=Re.style,this.ctx.isFillTransparent=Re.a===0,this.ctx.fillOpacity=Re.a,this.pdf.setFillColor(Re.r,Re.g,Re.b,{a:Re.a}),this.pdf.setTextColor(Re.r,Re.g,Re.b,{a:Re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function($){var Re=x($);this.ctx.strokeStyle=Re.style,this.ctx.isStrokeTransparent=Re.a===0,this.ctx.strokeOpacity=Re.a,Re.a===0?this.pdf.setDrawColor(255,255,255):(Re.a,this.pdf.setDrawColor(Re.r,Re.g,Re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function($){["butt","round","square"].indexOf($)!==-1&&(this.ctx.lineCap=$,this.pdf.setLineCap($))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function($){isNaN($)||(this.ctx.lineWidth=$,this.pdf.setLineWidth($))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function($){["bevel","round","miter"].indexOf($)!==-1&&(this.ctx.lineJoin=$,this.pdf.setLineJoin($))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function($){isNaN($)||(this.ctx.miterLimit=$,this.pdf.setMiterLimit($))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function($){this.ctx.textBaseline=$}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function($){["right","end","center","left","start"].indexOf($)!==-1&&(this.ctx.textAlign=$)}});var Me=null,Be=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function($){Me=null,Be=null,ze=$}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function($){var Re;if(this.ctx.font=$,(Re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec($))!==null){var yt=Re[1];Re[2];var Ue=Re[3],Pe=Re[4];Re[5];var Z=Re[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(se==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var he=function(Qe){var er,Lt,jt=[],Ot=Qe.trim();if(Ot==="")return sp;if(Ot in kv)return[kv[Ot]];for(;Ot!=="";){switch(Lt=null,er=(Ot=Av(Ot)).charAt(0)){case'"':case"'":Lt=HE(Ot.substring(1),er);break;default:Lt=YE(Ot)}if(Lt===null||(jt.push(Lt[0]),(Ot=Av(Lt[1]))!==""&&Ot.charAt(0)!==","))return sp;Ot=Ot.replace(/^,/,"")}return jt}(Z);if(this.fontFaces){var Se=function(Qe,er){var Lt=Qe.getFontList(),jt=JSON.stringify(Lt);if(Me===null||Be!==jt){var Ot=function(sr){var vt=[];return Object.keys(sr).forEach(function(pr){sr[pr].forEach(function(St){var Tt=null;switch(St){case"bold":Tt={family:pr,weight:"bold"};break;case"italic":Tt={family:pr,style:"italic"};break;case"bolditalic":Tt={family:pr,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:pr}}Tt!==null&&(Tt.ref={name:pr,style:St},vt.push(Tt))})}),vt}(Lt);Me=function(sr){for(var vt={},pr=0;pr<sr.length;++pr){var St=np(sr[pr]),Tt=St.family,Pr=St.stretch,$t=St.style,ft=St.weight;vt[Tt]=vt[Tt]||{},vt[Tt][Pr]=vt[Tt][Pr]||{},vt[Tt][Pr][$t]=vt[Tt][Pr][$t]||{},vt[Tt][Pr][$t][ft]=St}return vt}(Ot.concat(er)),Be=jt}return Me}(this.pdf,this.fontFaces),De=he.map(function(Qe){return{family:Qe,stretch:"normal",weight:Ue,style:yt}}),Ce=function(Qe,er,Lt){for(var jt=(Lt=Lt||{}).defaultFontFamily||"times",Ot=Object.assign({},VE,Lt.genericFontFamilies||{}),sr=null,vt=null,pr=0;pr<er.length;++pr)if(Ot[(sr=np(er[pr])).family]&&(sr.family=Ot[sr.family]),Qe.hasOwnProperty(sr.family)){vt=Qe[sr.family];break}if(!(vt=vt||Qe[jt]))throw new Error("Could not find a font-family for the rule '"+Cv(sr)+"' and default family '"+jt+"'.");if(vt=function(St,Tt){if(Tt[St])return Tt[St];var Pr=n0[St],$t=Pr<=n0.normal?-1:1,ft=Sv(Tt,E_,Pr,$t);if(!ft)throw new Error("Could not find a matching font-stretch value for "+St);return ft}(sr.stretch,vt),vt=function(St,Tt){if(Tt[St])return Tt[St];for(var Pr=D_[St],$t=0;$t<Pr.length;++$t)if(Tt[Pr[$t]])return Tt[Pr[$t]];throw new Error("Could not find a matching font-style for "+St)}(sr.style,vt),!(vt=function(St,Tt){if(Tt[St])return Tt[St];if(St===400&&Tt[500])return Tt[500];if(St===500&&Tt[400])return Tt[400];var Pr=WE[St],$t=Sv(Tt,T_,Pr,St<400?-1:1);if(!$t)throw new Error("Could not find a matching font-weight for value "+St);return $t}(sr.weight,vt)))throw new Error("Failed to resolve a font for the rule '"+Cv(sr)+"'.");return vt}(Se,De);this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Ae="";(Ue==="bold"||parseInt(Ue,10)>=700||yt==="bold")&&(Ae="bold"),yt==="italic"&&(Ae+="italic"),Ae.length===0&&(Ae="normal");for(var Ye="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<he.length;Ke++){if(this.pdf.internal.getFont(he[Ke],Ae,{noFallback:!0,disableWarning:!0})!==void 0){Ye=he[Ke];break}if(Ae==="bolditalic"&&this.pdf.internal.getFont(he[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ye=he[Ke],Ae="bold";else if(this.pdf.internal.getFont(he[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ye=he[Ke],Ae="normal";break}}if(Ye===""){for(var bt=0;bt<he.length;bt++)if(Ze[he[bt]]){Ye=Ze[he[bt]];break}}Ye=Ye===""?"Times":Ye,this.pdf.setFont(Ye,Ae)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function($){this.ctx.globalCompositeOperation=$}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function($){this.ctx.globalAlpha=$}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function($){this.ctx.lineDashOffset=$,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function($){this.ctx.lineDash=$,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function($){this.ctx.ignoreClearRect=!!$}})};p.prototype.setLineDash=function(L){this.lineDash=L},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){D.call(this,"fill",!1)},p.prototype.stroke=function(){D.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(L,q){if(isNaN(L)||isNaN(q))throw Ar.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var I=this.ctx.transform.applyToPoint(new l(L,q));this.path.push({type:"mt",x:I.x,y:I.y}),this.ctx.lastPoint=new l(L,q)},p.prototype.closePath=function(){var L=new l(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Nr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){L=new l(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(L.x,L.y)},p.prototype.lineTo=function(L,q){if(isNaN(L)||isNaN(q))throw Ar.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var I=this.ctx.transform.applyToPoint(new l(L,q));this.path.push({type:"lt",x:I.x,y:I.y}),this.ctx.lastPoint=new l(I.x,I.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},p.prototype.quadraticCurveTo=function(L,q,I,V){if(isNaN(I)||isNaN(V)||isNaN(L)||isNaN(q))throw Ar.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new l(I,V)),re=this.ctx.transform.applyToPoint(new l(L,q));this.path.push({type:"qct",x1:re.x,y1:re.y,x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},p.prototype.bezierCurveTo=function(L,q,I,V,J,re){if(isNaN(J)||isNaN(re)||isNaN(L)||isNaN(q)||isNaN(I)||isNaN(V))throw Ar.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new l(J,re)),pe=this.ctx.transform.applyToPoint(new l(L,q)),we=this.ctx.transform.applyToPoint(new l(I,V));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:we.x,y2:we.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new l(ce.x,ce.y)},p.prototype.arc=function(L,q,I,V,J,re){if(isNaN(L)||isNaN(q)||isNaN(I)||isNaN(V)||isNaN(J))throw Ar.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new l(L,q));L=ce.x,q=ce.y;var pe=this.ctx.transform.applyToPoint(new l(0,I)),we=this.ctx.transform.applyToPoint(new l(0,0));I=Math.sqrt(Math.pow(pe.x-we.x,2)+Math.pow(pe.y-we.y,2))}Math.abs(J-V)>=2*Math.PI&&(V=0,J=2*Math.PI),this.path.push({type:"arc",x:L,y:q,radius:I,startAngle:V,endAngle:J,counterclockwise:re})},p.prototype.arcTo=function(L,q,I,V,J){throw new Error("arcTo not implemented.")},p.prototype.rect=function(L,q,I,V){if(isNaN(L)||isNaN(q)||isNaN(I)||isNaN(V))throw Ar.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,q),this.lineTo(L+I,q),this.lineTo(L+I,q+V),this.lineTo(L,q+V),this.lineTo(L,q),this.lineTo(L+I,q),this.lineTo(L,q)},p.prototype.fillRect=function(L,q,I,V){if(isNaN(L)||isNaN(q)||isNaN(I)||isNaN(V))throw Ar.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,q,I,V),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},p.prototype.strokeRect=function(L,q,I,V){if(isNaN(L)||isNaN(q)||isNaN(I)||isNaN(V))throw Ar.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(L,q,I,V),this.stroke())},p.prototype.clearRect=function(L,q,I,V){if(isNaN(L)||isNaN(q)||isNaN(I)||isNaN(V))throw Ar.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,q,I,V))},p.prototype.save=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,I=0;I<this.pdf.internal.getNumberOfPages();I++)this.pdf.setPage(I+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},p.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,I=0;I<this.pdf.internal.getNumberOfPages();I++)this.pdf.setPage(I+1),this.pdf.internal.out("Q");this.pdf.setPage(q),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(L){var q,I,V,J;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))q=0,I=0,V=0,J=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(re!==null)q=parseInt(re[1]),I=parseInt(re[2]),V=parseInt(re[3]),J=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)q=parseInt(re[1]),I=parseInt(re[2]),V=parseInt(re[3]),J=parseFloat(re[4]);else{if(J=1,typeof L=="string"&&L.charAt(0)!=="#"){var ce=new N_(L);L=ce.ok?ce.toHex():"#000000"}L.length===4?(q=L.substring(1,2),q+=q,I=L.substring(2,3),I+=I,V=L.substring(3,4),V+=V):(q=L.substring(1,3),I=L.substring(3,5),V=L.substring(5,7)),q=parseInt(q,16),I=parseInt(I,16),V=parseInt(V,16)}}return{r:q,g:I,b:V,a:J,style:L}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(L,q,I,V){if(isNaN(q)||isNaN(I)||typeof L!="string")throw Ar.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!f.call(this)){var J=X(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;A.call(this,{text:L,x:q,y:I,scale:re,angle:J,align:this.textAlign,maxWidth:V})}},p.prototype.strokeText=function(L,q,I,V){if(isNaN(q)||isNaN(I)||typeof L!="string")throw Ar.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){V=isNaN(V)?void 0:V;var J=X(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;A.call(this,{text:L,x:q,y:I,scale:re,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:V})}},p.prototype.measureText=function(L){if(typeof L!="string")throw Ar.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,I=this.pdf.internal.scaleFactor,V=q.internal.getFontSize(),J=q.getStringUnitWidth(L)*V/q.internal.scaleFactor;return new function(re){var ce=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:J*=Math.round(96*I/72*1e4)/1e4})},p.prototype.scale=function(L,q){if(isNaN(L)||isNaN(q))throw Ar.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var I=new c(L,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(I)},p.prototype.rotate=function(L){if(isNaN(L))throw Ar.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.translate=function(L,q){if(isNaN(L)||isNaN(q))throw Ar.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var I=new c(1,0,0,1,L,q);this.ctx.transform=this.ctx.transform.multiply(I)},p.prototype.transform=function(L,q,I,V,J,re){if(isNaN(L)||isNaN(q)||isNaN(I)||isNaN(V)||isNaN(J)||isNaN(re))throw Ar.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new c(L,q,I,V,J,re);this.ctx.transform=this.ctx.transform.multiply(ce)},p.prototype.setTransform=function(L,q,I,V,J,re){L=isNaN(L)?1:L,q=isNaN(q)?0:q,I=isNaN(I)?0:I,V=isNaN(V)?1:V,J=isNaN(J)?0:J,re=isNaN(re)?0:re,this.ctx.transform=new c(L,q,I,V,J,re)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(L,q,I,V,J,re,ce,pe,we){var Ne=this.pdf.getImageProperties(L),Me=1,Be=1,ze=1,$=1;V!==void 0&&pe!==void 0&&(ze=pe/V,$=we/J,Me=Ne.width/V*pe/V,Be=Ne.height/J*we/J),re===void 0&&(re=q,ce=I,q=0,I=0),V!==void 0&&pe===void 0&&(pe=V,we=J),V===void 0&&pe===void 0&&(pe=Ne.width,we=Ne.height);var Re=this.ctx.transform.decompose(),yt=X(Re.rotate.shx),Ue=new c,Pe=(Ue=(Ue=(Ue=Ue.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new o(re-q*ze,ce-I*$,V*Me,J*Be));if(this.autoPaging){for(var Z,se=w.call(this,Pe),he=[],Se=0;Se<se.length;Se+=1)he.indexOf(se[Se])===-1&&he.push(se[Se]);F(he);for(var De=he[0],Ce=he[he.length-1],Ae=De;Ae<Ce+1;Ae++){this.pdf.setPage(Ae);var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Ae===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=Ae===1?0:Ke+(Ae-2)*bt;if(this.ctx.clip_path.length!==0){var er=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Z,this.posX+this.margin[3],-Qe+Ze+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=er}var Lt=JSON.parse(JSON.stringify(Pe));Lt=P([Lt],this.posX+this.margin[3],-Qe+Ze+this.ctx.prevPageLastElemOffset)[0];var jt=(Ae>De||Ae<Ce)&&b.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,bt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,yt),jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,yt)};var w=function(L,q,I){var V=[];q=q||this.pdf.internal.pageSize.width,I=I||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":V.push(Math.floor((L.y+J)/I)+1);break;case"arc":V.push(Math.floor((L.y+J-L.radius)/I)+1),V.push(Math.floor((L.y+J+L.radius)/I)+1);break;case"qct":var re=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);V.push(Math.floor((re.y+J)/I)+1),V.push(Math.floor((re.y+re.h+J)/I)+1);break;case"bct":var ce=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);V.push(Math.floor((ce.y+J)/I)+1),V.push(Math.floor((ce.y+ce.h+J)/I)+1);break;case"rect":V.push(Math.floor((L.y+J)/I)+1),V.push(Math.floor((L.y+L.h+J)/I)+1)}for(var pe=0;pe<V.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<V[pe];)j.call(this);return V},j=function(){var L=this.fillStyle,q=this.strokeStyle,I=this.font,V=this.lineCap,J=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=q,this.font=I,this.lineCap=V,this.lineWidth=J,this.lineJoin=re},P=function(L,q,I){for(var V=0;V<L.length;V++)switch(L[V].type){case"bct":L[V].x2+=q,L[V].y2+=I;case"qct":L[V].x1+=q,L[V].y1+=I;default:L[V].x+=q,L[V].y+=I}return L},F=function(L){return L.sort(function(q,I){return q-I})},D=function(L,q){var I=this.fillStyle,V=this.strokeStyle,J=this.lineCap,re=this.lineWidth,ce=Math.abs(re*this.ctx.transform.scaleX),pe=this.lineJoin;if(this.autoPaging){for(var we,Ne,Me=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),ze=[],$=0;$<Be.length;$++)if(Be[$].x!==void 0)for(var Re=w.call(this,Be[$]),yt=0;yt<Re.length;yt+=1)ze.indexOf(Re[yt])===-1&&ze.push(Re[yt]);for(var Ue=0;Ue<ze.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<ze[Ue];)j.call(this);F(ze);for(var Pe=ze[0],Z=ze[ze.length-1],se=Pe;se<Z+1;se++){this.pdf.setPage(se),this.fillStyle=I,this.strokeStyle=V,this.lineCap=J,this.lineWidth=ce,this.lineJoin=pe;var he=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=se===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ae=se===1?0:De+(se-2)*Ce;if(this.ctx.clip_path.length!==0){var Ye=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(we,this.posX+this.margin[3],-Ae+Se+this.ctx.prevPageLastElemOffset),z.call(this,L,!0),this.path=Ye}if(Ne=JSON.parse(JSON.stringify(Me)),this.path=P(Ne,this.posX+this.margin[3],-Ae+Se+this.ctx.prevPageLastElemOffset),q===!1||se===0){var Ze=(se>Pe||se<Z)&&b.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],he,Ce,null).clip().discardPath()),z.call(this,L,q),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=re}this.path=Me}else this.lineWidth=ce,z.call(this,L,q),this.lineWidth=re},z=function(L,q){if((L!=="stroke"||q||!g.call(this))&&(L==="stroke"||q||!f.call(this))){for(var I,V,J=[],re=this.path,ce=0;ce<re.length;ce++){var pe=re[ce];switch(pe.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:pe,deltas:[],abs:[]});break;case"lt":var we=J.length;if(re[ce-1]&&!isNaN(re[ce-1].x)&&(I=[pe.x-re[ce-1].x,pe.y-re[ce-1].y],we>0)){for(;we>=0;we--)if(J[we-1].close!==!0&&J[we-1].begin!==!0){J[we-1].deltas.push(I),J[we-1].abs.push(pe);break}}break;case"bct":I=[pe.x1-re[ce-1].x,pe.y1-re[ce-1].y,pe.x2-re[ce-1].x,pe.y2-re[ce-1].y,pe.x-re[ce-1].x,pe.y-re[ce-1].y],J[J.length-1].deltas.push(I);break;case"qct":var Ne=re[ce-1].x+2/3*(pe.x1-re[ce-1].x),Me=re[ce-1].y+2/3*(pe.y1-re[ce-1].y),Be=pe.x+2/3*(pe.x1-pe.x),ze=pe.y+2/3*(pe.y1-pe.y),$=pe.x,Re=pe.y;I=[Ne-re[ce-1].x,Me-re[ce-1].y,Be-re[ce-1].x,ze-re[ce-1].y,$-re[ce-1].x,Re-re[ce-1].y],J[J.length-1].deltas.push(I);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(pe)}}V=q?null:L==="stroke"?"stroke":"fill";for(var yt=!1,Ue=0;Ue<J.length;Ue++)if(J[Ue].arc)for(var Pe=J[Ue].abs,Z=0;Z<Pe.length;Z++){var se=Pe[Z];se.type==="arc"?k.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,q,!yt):W.call(this,se.x,se.y),yt=!0}else if(J[Ue].close===!0)this.pdf.internal.out("h"),yt=!1;else if(J[Ue].begin!==!0){var he=J[Ue].start.x,Se=J[Ue].start.y;U.call(this,J[Ue].deltas,he,Se),yt=!0}V&&_.call(this,V),q&&M.call(this)}},Y=function(L){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,I=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-I;case"top":return L+q-I;case"hanging":return L+q-2*I;case"middle":return L+q/2-I;default:return L}},ee=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(q,I){this.colorStops.push([q,I])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(L,q,I,V,J,re,ce,pe,we){for(var Ne=ue.call(this,I,V,J,re),Me=0;Me<Ne.length;Me++){var Be=Ne[Me];Me===0&&(we?C.call(this,Be.x1+L,Be.y1+q):W.call(this,Be.x1+L,Be.y1+q)),oe.call(this,L,q,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}pe?M.call(this):_.call(this,ce)},_=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(L,q){this.pdf.internal.out(r(L)+" "+n(q)+" m")},A=function(L){var q;switch(L.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var I,V,J,re=this.pdf.getTextDimensions(L.text),ce=Y.call(this,L.y),pe=ee.call(this,ce)-re.h,we=this.ctx.transform.applyToPoint(new l(L.x,ce));if(this.autoPaging){var Ne=this.ctx.transform.decompose(),Me=new c;Me=(Me=(Me=Me.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var Be=this.ctx.transform.applyToRectangle(new o(L.x,ce,re.w,re.h)),ze=Me.applyToRectangle(new o(L.x,pe,re.w,re.h)),$=w.call(this,ze),Re=[],yt=0;yt<$.length;yt+=1)Re.indexOf($[yt])===-1&&Re.push($[yt]);F(Re);for(var Ue=Re[0],Pe=Re[Re.length-1],Z=Ue;Z<Pe+1;Z++){this.pdf.setPage(Z);var se=Z===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],De=Se-this.margin[0],Ce=this.pdf.internal.pageSize.width-this.margin[1],Ae=Ce-this.margin[3],Ye=Z===1?0:he+(Z-2)*De;if(this.ctx.clip_path.length!==0){var Ze=this.path;I=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(I,this.posX+this.margin[3],-1*Ye+se),z.call(this,"fill",!0),this.path=Ze}var Ke=P([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Ye+se+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*L.scale),J=this.lineWidth,this.lineWidth=J*L.scale);var bt=this.autoPaging!=="text";if(bt||Ke.y+Ke.h<=Se){if(bt||Ke.y>=se&&Ke.x<=Ce){var Qe=bt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ce-Ke.x)[0],er=P([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Ye+se+this.ctx.prevPageLastElemOffset)[0],Lt=bt&&(Z>Ue||Z<Pe)&&b.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,De,null).clip().discardPath()),this.pdf.text(Qe,er.x,er.y,{angle:L.angle,align:q,renderingMode:L.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else Ke.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-Ke.y);L.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=J)}}else L.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*L.scale),J=this.lineWidth,this.lineWidth=J*L.scale),this.pdf.text(L.text,we.x+this.posX,we.y+this.posY,{angle:L.angle,align:q,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=J)},W=function(L,q,I,V){I=I||0,V=V||0,this.pdf.internal.out(r(L+I)+" "+n(q+V)+" l")},U=function(L,q,I){return this.pdf.lines(L,q,I,null,null)},oe=function(L,q,I,V,J,re,ce,pe){this.pdf.internal.out([t(a(I+L)),t(i(V+q)),t(a(J+L)),t(i(re+q)),t(a(ce+L)),t(i(pe+q)),"c"].join(" "))},ue=function(L,q,I,V){for(var J=2*Math.PI,re=Math.PI/2;q>I;)q-=J;var ce=Math.abs(I-q);ce<J&&V&&(ce=J-ce);for(var pe=[],we=V?-1:1,Ne=q;ce>1e-5;){var Me=Ne+we*Math.min(ce,re);pe.push(te.call(this,L,Ne,Me)),ce-=Math.abs(Me-Ne),Ne=Me}return pe},te=function(L,q,I){var V=(I-q)/2,J=L*Math.cos(V),re=L*Math.sin(V),ce=J,pe=-re,we=ce*ce+pe*pe,Ne=we+ce*J+pe*re,Me=4/3*(Math.sqrt(2*we*Ne)-Ne)/(ce*re-pe*J),Be=ce-Me*pe,ze=pe+Me*ce,$=Be,Re=-ze,yt=V+q,Ue=Math.cos(yt),Pe=Math.sin(yt);return{x1:L*Math.cos(q),y1:L*Math.sin(q),x2:Be*Ue-ze*Pe,y2:Be*Pe+ze*Ue,x3:$*Ue-Re*Pe,y3:$*Pe+Re*Ue,x4:L*Math.cos(I),y4:L*Math.sin(I)}},X=function(L){return 180*L/Math.PI},ne=function(L,q,I,V,J,re){var ce=L+.5*(I-L),pe=q+.5*(V-q),we=J+.5*(I-J),Ne=re+.5*(V-re),Me=Math.min(L,J,ce,we),Be=Math.max(L,J,ce,we),ze=Math.min(q,re,pe,Ne),$=Math.max(q,re,pe,Ne);return new o(Me,ze,Be-Me,$-ze)},ke=function(L,q,I,V,J,re,ce,pe){var we,Ne,Me,Be,ze,$,Re,yt,Ue,Pe,Z,se,he,Se,De=I-L,Ce=V-q,Ae=J-I,Ye=re-V,Ze=ce-J,Ke=pe-re;for(Ne=0;Ne<41;Ne++)Ue=(Re=(Me=L+(we=Ne/40)*De)+we*((ze=I+we*Ae)-Me))+we*(ze+we*(J+we*Ze-ze)-Re),Pe=(yt=(Be=q+we*Ce)+we*(($=V+we*Ye)-Be))+we*($+we*(re+we*Ke-$)-yt),Ne==0?(Z=Ue,se=Pe,he=Ue,Se=Pe):(Z=Math.min(Z,Ue),se=Math.min(se,Pe),he=Math.max(he,Ue),Se=Math.max(Se,Pe));return new o(Math.round(Z),Math.round(se),Math.round(he-Z),Math.round(Se-se))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,q,I=(L=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:q}));this.prevLineDash!==I&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=I)}}})(gt.API),function(e){var t=function(l){var o,c,d,u,p,x,f,g,b,w;for(c=[],d=0,u=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;u>d;d+=4)(p=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(x=(p=((p=((p=((p=(p-(w=p%85))/85)-(b=p%85))/85)-(g=p%85))/85)-(f=p%85))/85)%85,c.push(x+33,f+33,g+33,b+33,w+33)):c.push(122);return function(j,P){for(var F=P;F>0;F--)j.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(l){var o,c,d,u,p,x=String,f="length",g=255,b="charCodeAt",w="slice",j="replace";for(l[w](-2),l=l[w](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],u=0,p=(l+=o="uuuuu"[w](l[f]%5||5))[f];p>u;u+=5)c=52200625*(l[b](u)-33)+614125*(l[b](u+1)-33)+7225*(l[b](u+2)-33)+85*(l[b](u+3)-33)+(l[b](u+4)-33),d.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(P,F){for(var D=F;D>0;D--)P.pop()}(d,o[f]),x.fromCharCode.apply(x,d)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",d=0;d<l.length;d+=2)c+=String.fromCharCode("0x"+(l[d]+l[d+1]));return c},i=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=Wp(o)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(l,o){var c=0,d=l||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(gt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=function(c,d,u){var p=new XMLHttpRequest,x=0,f=function(g){var b=g.length,w=[],j=String.fromCharCode;for(x=0;x<b;x+=1)w.push(j(255&g.charCodeAt(x)));return w.join("")};if(p.open("GET",c,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?u(f(this.responseText)):u(void 0)}),p.send(null),d&&p.status===200)return f(p.responseText)}(a,i,l)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(gt.API),function(e){function t(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):us(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):us(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=Nr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(o,c){var d=document.createElement(o);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function o(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||u.appendChild(o(p,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},l=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),d);return(u=u.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var g=u[f],b=g.src.find(function(w){return w.format==="truetype"});b&&d.addFont(b.url,g.ref.name,g.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var d=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(o=o||gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,d,u){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,d,u){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},l.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(u,p){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,u),x}).then(u,p).then(function(x){return d.updateProgress(1),x})})},l.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),c&&(c=c.bind(u));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:l.convert(Object.assign({},u),Promise.prototype),x=d.call(p,o,c);return l.convert(x,u.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,gt.getPageSize=function(o,c,d){if(Nr(o)==="object"){var u=o;o=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var p,x=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var g,b=0,w=0;if(f.hasOwnProperty(x))b=f[x][1]/p,w=f[x][0]/p;else try{b=d[1],w=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",w>b&&(g=w,w=b,b=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>w&&(g=w,w=b,b=g)}return{width:w,height:b,unit:c,k:p,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(np):null;var d=new l(c);return c.worker?d:d.from(o).doCallback()}}(gt.API),gt.API.addJS=function(e){return Lv=e,this.internal.events.subscribe("postPutResources",function(){gh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Pv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Lv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gh!==void 0&&Pv!==void 0&&this.internal.out("/Names <</JavaScript "+gh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],o=n.exec(l);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var p=r.internal.newObject();u.push(p);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(gt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,l,o){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(p){for(var x,f=256*p.charCodeAt(4)+p.charCodeAt(5),g=p.length,b={width:0,height:0,numcomponents:1},w=4;w<g;w+=2){if(w+=f,t.indexOf(p.charCodeAt(w+1))!==-1){x=256*p.charCodeAt(w+5)+p.charCodeAt(w+6),b={width:256*p.charCodeAt(w+7)+p.charCodeAt(w+8),height:x,numcomponents:p.charCodeAt(w+9)};break}f=256*p.charCodeAt(w+2)+p.charCodeAt(w+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(gt.API),gt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=LE(e,{checkCrc:!0}),l=i.width,o=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?function(k){for(var _=k.width,M=k.height,C=k.data,A=k.palette,W=k.depth,U=!1,oe=[],ue=[],te=void 0,X=!1,ne=0,ke=0;ke<A.length;ke++){var me=Ng(A[ke],4),L=me[0],q=me[1],I=me[2],V=me[3];oe.push(L,q,I),V!=null&&(V===0?(ne++,ue.length<1&&ue.push(ke)):V<255&&(X=!0))}if(X||ne>1){U=!0,ue=void 0;var J=_*M;te=new Uint8Array(J);for(var re=new DataView(C.buffer),ce=0;ce<J;ce++){var pe=ap(re,ce,W),we=Ng(A[pe],4)[3];te[ce]=we}}else ne===0&&(ue=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:C,alphaBytes:te,needSMask:U,palette:oe,mask:ue}}(i):c===2||c===4?function(k){for(var _=k.data,M=k.width,C=k.height,A=k.channels,W=k.depth,U=A===2?"DeviceGray":"DeviceRGB",oe=A-1,ue=M*C,te=oe,X=ue*te,ne=1*ue,ke=Math.ceil(X*W/8),me=Math.ceil(ne*W/8),L=new Uint8Array(ke),q=new Uint8Array(me),I=new DataView(_.buffer),V=new DataView(L.buffer),J=new DataView(q.buffer),re=!1,ce=0;ce<ue;ce++){for(var pe=ce*A,we=0;we<te;we++)qv(V,ap(I,pe+we,W),ce*te+we,W);var Ne=ap(I,pe+te,W);Ne<(1<<W)-1&&(re=!0),qv(J,Ne,1*ce,W)}return{colorSpace:U,colorsPerPixel:oe,sMaskBitsPerComponent:re?W:void 0,colorBytes:L,alphaBytes:q,needSMask:re}}(i):function(k){var _=k.data,M=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?function(C){for(var A=C.length,W=new Uint8Array(2*A),U=new DataView(W.buffer,W.byteOffset,W.byteLength),oe=0;oe<A;oe++)U.setUint16(2*oe,C[oe],!1);return W}(_):_,needSMask:!1}}(i);var p,x,f,g=a,b=g.colorSpace,w=g.colorsPerPixel,j=g.sMaskBitsPerComponent,P=g.colorBytes,F=g.alphaBytes,D=g.needSMask,z=g.palette,Y=g.mask,ee=null;return n!==gt.API.image_compression.NONE&&typeof Wp=="function"?(ee=function(k){var _;switch(k){case gt.API.image_compression.FAST:_=11;break;case gt.API.image_compression.MEDIUM:_=13;break;case gt.API.image_compression.SLOW:_=14;break;default:_=12}return _}(n),p=this.decode.FLATE_DECODE,x="/Predictor ".concat(ee," /Colors ").concat(w," /BitsPerComponent ").concat(u," /Columns ").concat(l),e=Fv(P,Math.ceil(l*w*u/8),w,u,n),D&&(f=Fv(F,Math.ceil(l*j/8),1,j,n))):(p=void 0,x=void 0,e=P,D&&(f=F)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:p,decodeParameters:x,transparency:Y,palette:z,sMask:f,predictor:ee,width:l,height:o,bitsPerComponent:u,sMaskBitsPerComponent:j,colorSpace:b}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new QE(t),l=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:l,height:o},u=new ip(100).encode(d,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(gt.API),ca.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ca.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ar.log("bit decode error:"+r)}},ca.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}r!==0&&(this.pos+=4-r)}},ca.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},ca.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ca.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=l,this.data[u+3]=d}this.pos+=e}},ca.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,c=(l>>5&r)/r*255|0,d=(l>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},ca.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},ca.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},ca.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new ca(t,!1),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new ip(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(gt.API),zv.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new zv(t),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new ip(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(gt.API),gt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,c=0,d=0;d<a;d+=4){var u=n[d],p=n[d+1],x=n[d+2],f=n[d+3];i[o++]=u,i[o++]=p,i[o++]=x,l[c++]=f}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fl=gt.API,vh=Fl.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,p=t.doKerning!==!1,x=0,f=e.length,g=0,b=o[0]||c,w=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(x=p&&Nr(d[n])==="object"&&!isNaN(parseInt(d[n][g],10))?d[n][g]/u:0,w.push((o[n]||b)/c+x)),g=n;return w},Dv=Fl.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Fl.processArabic&&(e=Fl.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:vh.apply(this,arguments).reduce(function(i,l){return i+l},0)},Ev=function(e,t,r,n){for(var a=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var c=i;for(o=0;i!==l;)o+t[i]>n&&(a.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},Tv=function(e,t,r){r||(r={});var n,a,i,l,o,c,d,u=[],p=[u],x=r.textIndent||0,f=0,g=0,b=e.split(" "),w=vh.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var j=Array(c).join(" "),P=[];b.map(function(D){(D=D.split(/\s*\n/)).length>1?P=P.concat(D.map(function(z,Y){return(Y&&z.length?`
`:"")+z})):P.push(D[0])}),b=P,c=Dv.apply(this,[j,r])}for(i=0,l=b.length;i<l;i++){var F=0;if(n=b[i],c&&n[0]==`
`&&(n=n.substr(1),F=1),x+f+(g=(a=vh.apply(this,[n,r])).reduce(function(D,z){return D+z},0))>t||F){if(g>t){for(o=Ev.apply(this,[n,a,t-(x+f),t]),u.push(o.shift()),u=[o.pop()];o.length;)p.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,z){return D+z},0)}else u=[n];p.push(u),x=g+c,f=w}else u.push(n),x+=f+g,f=w}return d=c?function(D,z){return(z?j:"")+D.join(" ")}:function(D){return D.join(" ")},p.map(d)},Fl.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var p=this.internal.getFont(u.fontName,u.fontStyle),x="Unicode";return p.metadata[x]?{widths:p.metadata[x].widths||{0:1},kerning:p.metadata[x].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,d=[];for(o=0,c=n.length;o<c;o++)d=d.concat(Tv.apply(this,[n[o],l,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var l=function(x){return"0x"+parseInt(x,10).toString(16)},o=e.__fontmetrics__.compress=function(x){var f,g,b,w,j=["{"];for(var P in x){if(f=x[P],isNaN(parseInt(P,10))?g="'"+P+"'":(P=parseInt(P,10),g=(g=l(P).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof f=="number")f<0?(b=l(f).slice(3),w="-"):(b=l(f).slice(2),w=""),b=w+b.slice(0,-1)+a[b.slice(-1)];else{if(Nr(f)!=="object")throw new Error("Don't know what to do with value type "+Nr(f)+".");b=o(f)}j.push(g+b)}return j.push("}"),j.join("")},c=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,b,w,j={},P=1,F=j,D=[],z="",Y="",ee=x.length-1,k=1;k<ee;k+=1)(w=x[k])=="'"?f?(b=f.join(""),f=void 0):f=[]:f?f.push(w):w=="{"?(D.push([F,b]),F={},b=void 0):w=="}"?((g=D.pop())[0][g[1]]=F,b=void 0,F=g[0]):w=="-"?P=-1:b===void 0?n.hasOwnProperty(w)?(z+=n[w],b=parseInt(z,16)*P,P=1,z=""):z+=w:n.hasOwnProperty(w)?(Y+=n[w],F[b]=parseInt(Y,16)*P,P=1,b=void 0,Y=""):Y+=w;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var f=x.font,g=p.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var b=u.Unicode[f.postScriptName];b&&(f.metadata.Unicode.encoding=b,f.encoding=b.codePages[0])}])}(gt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Ph(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])}(gt),gt.API.addSvgAsImage=function(e,t,r,n,a,i,l,o){if(isNaN(t)||isNaN(r))throw Ar.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Ar.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Et.canvg?Promise.resolve(Et.canvg):us(()=>import("./index.es-DuYNavUz.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(u)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,l,o)})},gt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},gt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],d=0,u=0,p=0;function x(g,b){var w,j=!1;for(w=0;w<g.length;w+=1)g[w]===b&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=o.length;for(p=0;p<f;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Nr(e)==="object"){for(a in e)if(i=e[a],x(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&x(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,b=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?b.push("/"+g+" /"+r[g].value):b.push("/"+g+" "+r[g].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+l.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(gt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,l){for(var o,c=l.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],p=0,x=i.length;p<x;++p){if(o=l.metadata.characterToGlyph(i.charCodeAt(p)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(d[4-o.length],o)}return u.join("")},n=function(i){var l,o,c,d,u,p,x;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,x=(o=Object.keys(i).sort(function(f,g){return f-g})).length;p<x;p++)l=o[p],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,x=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",g=0;g<x.length;g++)f+=String.fromCharCode(x[g]);var b=d();u({data:f,addLength1:!0,objectId:b}),c("endobj");var w=d();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var j=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Ol(o.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var P=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Ol(o.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+e.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+w+" 0 R"),c("/BaseFont /"+Ol(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+P+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,x="",f=0;f<p.length;f++)x+=String.fromCharCode(p[f]);var g=d();u({data:x,addLength1:!0,objectId:g}),c("endobj");var b=d();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var w=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Ol(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var j=0;j<o.metadata.hmtx.widths.length;j++)o.metadata.hmtx.widths[j]=parseInt(o.metadata.hmtx.widths[j]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ol(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,o=i.text||"",c=i.x,d=i.y,u=i.options||{},p=i.mutex||{},x=p.pdfEscape,f=p.activeFontKey,g=p.fonts,b=f,w="",j=0,P="",F=g[b].encoding;if(g[b].encoding!=="Identity-H")return{text:o,x:c,y:d,options:u,mutex:p};for(P=o,b=f,Array.isArray(o)&&(P=o[0]),j=0;j<P.length;j+=1)g[b].metadata.hasOwnProperty("cmap")&&(l=g[b].metadata.cmap.unicode.codeMap[P[j].charCodeAt(0)]),l||P[j].charCodeAt(0)<256&&g[b].metadata.hasOwnProperty("Unicode")?w+=P[j]:w+="";var D="";return parseInt(b.slice(1))<14||F==="WinAnsiEncoding"?D=x(w,b).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(D=r(w,g[b])),p.isHex=!0,{text:D,x:c,y:d,options:u,mutex:p}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],c={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([a(Object.assign({},c,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(a(Object.assign({},c,{text:l[d]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:l})).text}])}(gt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(gt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,o,c,d,u,p=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,F=0;this.__bidiEngine__={};var D=function(C){var A=C.charCodeAt(),W=A>>8,U=b[W];return U!==void 0?p[256*U+(255&A)]:W===252||W===253?"AL":j.test(W)?"L":W===8?"R":"N"},z=function(C){for(var A,W=0;W<C.length;W++){if((A=D(C.charAt(W)))==="L")return!1;if(A==="R")return!0}return!1},Y=function(C,A,W,U){var oe,ue,te,X,ne=A[U];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(ne="AN");break;case"AL":P=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":U<1||U+1>=A.length||(oe=W[U-1])!=="EN"&&oe!=="AN"||(ue=A[U+1])!=="EN"&&ue!=="AN"?ne="N":P&&(ue="AN"),ne=ue===oe?ue:"N";break;case"ES":ne=(oe=U>0?W[U-1]:"B")==="EN"&&U+1<A.length&&A[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&W[U-1]==="EN"){ne="EN";break}if(P){ne="N";break}for(te=U+1,X=A.length;te<X&&A[te]==="ET";)te++;ne=te<X&&A[te]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(X=A.length,te=U+1;te<X&&A[te]==="NSM";)te++;if(te<X){var ke=C[U],me=ke>=1425&&ke<=2303||ke===64286;if(oe=A[te],me&&(oe==="R"||oe==="AL")){ne="R";break}}}ne=U<1||(oe=A[U-1])==="B"?"N":W[U-1];break;case"B":P=!1,a=!0,ne=F;break;case"S":i=!0,ne="N"}return ne},ee=function(C,A,W){var U=C.split("");return W&&k(U,W,{hiLevel:F}),U.reverse(),A&&A.reverse(),U.join("")},k=function(C,A,W){var U,oe,ue,te,X,ne=-1,ke=C.length,me=0,L=[],q=F?f:x,I=[];for(P=!1,a=!1,i=!1,oe=0;oe<ke;oe++)I[oe]=D(C[oe]);for(ue=0;ue<ke;ue++){if(X=me,L[ue]=Y(C,I,L,ue),U=240&(me=q[X][g[L[ue]]]),me&=15,A[ue]=te=q[me][5],U>0)if(U===16){for(oe=ne;oe<ue;oe++)A[oe]=1;ne=-1}else ne=-1;if(q[me][6])ne===-1&&(ne=ue);else if(ne>-1){for(oe=ne;oe<ue;oe++)A[oe]=te;ne=-1}I[ue]==="B"&&(A[ue]=0),W.hiLevel|=te}i&&function(V,J,re){for(var ce=0;ce<re;ce++)if(V[ce]==="S"){J[ce]=F;for(var pe=ce-1;pe>=0&&V[pe]==="WS";pe--)J[pe]=F}}(I,A,ke)},_=function(C,A,W,U,oe){if(!(oe.hiLevel<C)){if(C===1&&F===1&&!a)return A.reverse(),void(W&&W.reverse());for(var ue,te,X,ne,ke=A.length,me=0;me<ke;){if(U[me]>=C){for(X=me+1;X<ke&&U[X]>=C;)X++;for(ne=me,te=X-1;ne<te;ne++,te--)ue=A[ne],A[ne]=A[te],A[te]=ue,W&&(ue=W[ne],W[ne]=W[te],W[te]=ue);me=X}me++}}},M=function(C,A,W){var U=C.split(""),oe={hiLevel:F};return W||(W=[]),k(U,W,oe),function(ue,te,X){if(X.hiLevel!==0&&u)for(var ne,ke=0;ke<ue.length;ke++)te[ke]===1&&(ne=w.indexOf(ue[ke]))>=0&&(ue[ke]=w[ne+1])}(U,W,oe),_(2,U,A,W,oe),_(1,U,A,W,oe),U.join("")};return this.__bidiEngine__.doBidiReorder=function(C,A,W){if(function(oe,ue){if(ue)for(var te=0;te<oe.length;te++)ue[te]=te;o===void 0&&(o=z(oe)),d===void 0&&(d=z(oe))}(C,A),l||!c||d)if(l&&c&&o^d)F=o?1:0,C=ee(C,A,W);else if(!l&&c&&d)F=o?1:0,C=M(C,A,W),C=ee(C,A);else if(!l||o||c||d){if(l&&!c&&o^d)C=ee(C,A),o?(F=0,C=M(C,A,W)):(F=1,C=M(C,A,W),C=ee(C,A));else if(l&&o&&!c&&d)F=1,C=M(C,A,W),C=ee(C,A);else if(!l&&!c&&o^d){var U=u;o?(F=1,C=M(C,A,W),F=0,u=!1,C=M(C,A,W),u=U):(F=0,C=M(C,A,W),C=ee(C,A),F=1,u=!1,C=M(C,A,W),u=U,C=ee(C,A))}}else F=0,C=M(C,A,W);else F=o?1:0,C=M(C,A,W);return C},this.__bidiEngine__.setOptions=function(C){C&&(l=C.isInputVisual,c=C.isOutputVisual,o=C.isInputRtl,d=C.isOutputRtl,u=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([r.doBidiReorder(a[o])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(gt),gt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new bo(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new h9(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new XE(this.contents),this.head=new e9(this),this.name=new a9(this),this.cmap=new I_(this),this.toUnicode={},this.hhea=new t9(this),this.maxp=new i9(this),this.hmtx=new o9(this),this.post=new n9(this),this.os2=new r9(this),this.loca=new u9(this),this.glyf=new l9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,d;for(d=[],l=0,o=(c=this.bbox).length;l<o;l++)t=c[l],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ba,bo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,l,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),XE=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,l,o,c,d,u,p,x,f,g,b;for(b in f=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(f)/c),l=Math.floor(p/c),u=16*f-p,(a=new bo).writeInt(this.scalarType),a.writeShort(f),a.writeShort(p),a.writeShort(l),a.writeShort(u),i=16*f,d=a.pos+i,o=null,g=[],r)for(x=r[b],a.writeString(b),a.writeInt(e(x)),a.writeInt(d),a.writeInt(x.length),g=g.concat(x),b==="head"&&(o=d),d+=x.length;d%4;)g.push(0),d++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,l;for(r=R_.call(r);r.length%4;)r.push(0);for(i=new bo(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),JE={}.hasOwnProperty,Wa=function(e,t){for(var r in t)JE.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ba=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var e9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new bo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Uv=function(){function e(t,r){var n,a,i,l,o,c,d,u,p,x,f,g,b,w,j,P,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),x=f/2,t.pos+=6,i=function(){var D,z;for(z=[],c=D=0;0<=x?D<x:D>x;c=0<=x?++D:--D)z.push(t.readUInt16());return z}(),t.pos+=2,b=function(){var D,z;for(z=[],c=D=0;0<=x?D<x:D>x;c=0<=x?++D:--D)z.push(t.readUInt16());return z}(),d=function(){var D,z;for(z=[],c=D=0;0<=x?D<x:D>x;c=0<=x?++D:--D)z.push(t.readUInt16());return z}(),u=function(){var D,z;for(z=[],c=D=0;0<=x?D<x:D>x;c=0<=x?++D:--D)z.push(t.readUInt16());return z}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,z;for(z=[],c=D=0;0<=a?D<a:D>a;c=0<=a?++D:--D)z.push(t.readUInt16());return z}(),c=j=0,F=i.length;j<F;c=++j)for(w=i[c],n=P=g=b[c];g<=w?P<=w:P>=w;n=g<=w?++P:--P)u[c]===0?l=n+d[c]:(l=o[u[c]/2+(n-g)-(x-c)]||0)!==0&&(l+=d[c]),this.codeMap[n]=65535&l}t.pos=p}return e.encode=function(t,r){var n,a,i,l,o,c,d,u,p,x,f,g,b,w,j,P,F,D,z,Y,ee,k,_,M,C,A,W,U,oe,ue,te,X,ne,ke,me,L,q,I,V,J,re,ce,pe,we,Ne,Me;switch(U=new bo,l=Object.keys(t).sort(function(Be,ze){return Be-ze}),r){case"macroman":for(b=0,w=function(){var Be=[];for(g=0;g<256;++g)Be.push(0);return Be}(),P={0:0},i={},oe=0,ne=l.length;oe<ne;oe++)P[pe=t[a=l[oe]]]==null&&(P[pe]=++b),i[a]={old:t[a],new:P[t[a]]},w[a]=P[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(w),{charMap:i,subtable:U.data,maxGlyphID:b+1};case"unicode":for(A=[],p=[],F=0,P={},n={},j=d=null,ue=0,ke=l.length;ue<ke;ue++)P[z=t[a=l[ue]]]==null&&(P[z]=++F),n[a]={old:z,new:P[z]},o=P[z]-a,j!=null&&o===d||(j&&p.push(j),A.push(a),d=o),j=a;for(j&&p.push(j),p.push(65535),A.push(65535),M=2*(_=A.length),k=2*Math.pow(Math.log(_)/Math.LN2,2),x=Math.log(k/2)/Math.LN2,ee=2*_-k,c=[],Y=[],f=[],g=te=0,me=A.length;te<me;g=++te){if(C=A[g],u=p[g],C===65535){c.push(0),Y.push(0);break}if(C-(W=n[C].new)>=32768)for(c.push(0),Y.push(2*(f.length+_-g)),a=X=C;C<=u?X<=u:X>=u;a=C<=u?++X:--X)f.push(n[a].new);else c.push(W-C),Y.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*_+2*f.length),U.writeUInt16(0),U.writeUInt16(M),U.writeUInt16(k),U.writeUInt16(x),U.writeUInt16(ee),re=0,L=p.length;re<L;re++)a=p[re],U.writeUInt16(a);for(U.writeUInt16(0),ce=0,q=A.length;ce<q;ce++)a=A[ce],U.writeUInt16(a);for(we=0,I=c.length;we<I;we++)o=c[we],U.writeUInt16(o);for(Ne=0,V=Y.length;Ne<V;Ne++)D=Y[Ne],U.writeUInt16(D);for(Me=0,J=f.length;Me<J;Me++)b=f[Me],U.writeUInt16(b);return{charMap:n,subtable:U.data,maxGlyphID:F+1}}},e}(),I_=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Uv(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=Uv.encode(t,r),(a=new bo).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),t9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),r9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),n9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,o,c;for(c=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e}(),s9=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},a9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,l,o,c,d,u,p,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=u=0,p=n.length;u<p;i=++u)a=n[i],t.pos=a.offset,d=t.readString(a.length),l=new s9(d,a),c[x=a.nameID]==null&&(c[x]=[]),c[a.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),i9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),o9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,l,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(t.readInt16());return u}(),this.widths=(function(){var d,u,p,x;for(x=[],d=0,u=(p=this.metrics).length;d<u;d++)i=p[d],x.push(i.advance);return x}).call(this),n=this.widths[this.widths.length-1],c=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),R_=[].slice,l9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,l,o,c,d,u,p;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(o=new bo(r.read(a))).readShort(),d=o.readShort(),p=o.readShort(),c=o.readShort(),u=o.readShort(),this.cache[t]=l===-1?new d9(o,d,p,c,u):new c9(o,l,d,p,c,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,l,o,c;for(l=[],i=[],o=0,c=r.length;o<c;o++)a=t[r[o]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e}(),c9=function(){function e(t,r,n,a,i,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),d9=function(){function e(t,r,n,a,i){var l,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new bo(R_.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),u9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wa(e,ba),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<r.length&&r[i]==l){++i,n[l]=a;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(a+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},e}(),h9=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,l,o,c;for(a={},l=0,o=t.length;l<o;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,l,o,c,d,u,p,x,f,g,b,w,j;for(a in n=I_.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),f={0:0},j=n.charMap)f[(c=j[a]).old]=c.new;for(g in x=n.maxGlyphID,l)g in f||(f[g]=x++);return u=function(P){var F,D;for(F in D={},P)D[P[F]]=F;return D}(f),p=Object.keys(u).sort(function(P,F){return P-F}),b=function(){var P,F,D;for(D=[],P=0,F=p.length;P<F;P++)o=p[P],D.push(u[o]);return D}(),i=this.font.glyf.encode(l,b,f),d=this.font.loca.encode(i.offsets,b),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();gt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+function(){var o,c,d;for(d=[],o=0,c=r.length;o<c;o++)n=r[o],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+r},t}();function M_(e,t,r,n,a){n=n||{};var i=1.15,l=a.internal.scaleFactor,o=a.internal.getFontSize()/l,c=a.getLineHeightFactor?a.getLineHeightFactor():i,d=o*c,u=/\r\n|\r|\n/g,p="",x=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof e=="string"?e.split(u):e,x=p.length||1),r+=o*(2-i),n.valign==="middle"?r-=x/2*d:n.valign==="bottom"&&(r-=x*d),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),p&&x>=1){for(var g=0;g<p.length;g++)a.text(p[g],t-a.getStringUnitWidth(p[g])*f,r),r+=d;return a}t-=a.getStringUnitWidth(e)*f}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var $v={},Gl=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:$v=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,c=l.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return $v||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),s0=function(e,t){return s0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},s0(e,t)};function O_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var q_=function(e){O_(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function f9(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function m9(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function sf(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return a}function B_(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var l=z_(a,!1);l&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,l)}function z_(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function If(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function U_(e,t){var r=If(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function p9(e,t,r,n,a){var i={},l=1.3333333333333333,o=op(t,function(F){return a.getComputedStyle(F).backgroundColor});o!=null&&(i.fillColor=o);var c=op(t,function(F){return a.getComputedStyle(F).color});c!=null&&(i.textColor=c);var d=g9(n,r);d&&(i.cellPadding=d);var u="borderTopColor",p=l*r,x=n.borderTopWidth;if(n.borderBottomWidth===x&&n.borderRightWidth===x&&n.borderLeftWidth===x){var f=(parseFloat(x)||0)/p;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=op(t,function(F){return a.getComputedStyle(F)[u]});g!=null&&(i.lineColor=g);var b=["left","right","center","justify"];b.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),b=["middle","bottom","top"],b.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var w=parseInt(n.fontSize||"");isNaN(w)||(i.fontSize=w/l);var j=x9(n);j&&(i.fontStyle=j);var P=(n.fontFamily||"").toLowerCase();return e.indexOf(P)!==-1&&(i.font=P),i}function x9(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function op(e,t){var r=$_(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function $_(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:$_(e.parentElement,t):r}function g9(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),l=If(i,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function W_(e,t,r,n,a){var i,l;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],p=[],x=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:p,foot:x};for(var f=0;f<o.rows.length;f++){var g=o.rows[f],b=(l=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),w=v9(c,d,r,g,n,a);w&&(b==="thead"?u.push(w):b==="tfoot"?x.push(w):p.push(w))}return{head:u,body:p,foot:x}}function v9(e,t,r,n,a,i){for(var l=new q_(n),o=0;o<n.cells.length;o++){var c=n.cells[o],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;i&&(u=p9(e,c,t,d,r)),l.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:y9(c)})}}var p=r.getComputedStyle(n);if(l.length>0&&(a||p.display!=="none"))return l}function y9(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function b9(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function gi(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function V_(e,t){var r=new Gl(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();b9(a,n,t);var i=gi({},a,n,t),l;typeof window<"u"&&(l=window);var o=w9(a,n,t),c=_9(a,n,t),d=j9(r,i),u=S9(r,i,l);return{id:t.tableId,content:u,hooks:c,styles:o,settings:d}}function w9(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],p=r[c];n.columnStyles=gi({},d,u,p)}else{var x=[e,t,r],f=x.map(function(g){return g[c]||{}});n[c]=gi({},f[0],f[1],f[2])}},i=0,l=Object.keys(n);i<l.length;i++){var o=l[i];a(o)}return n}function _9(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=n;i<l.length;i++){var o=l[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function j9(e,t){var r,n,a,i,l,o,c,d,u,p,x,f,g=If(t.margin,40/e.scaleFactor()),b=(r=N9(e,t.startY))!==null&&r!==void 0?r:g.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var P=(i=t.useCss)!==null&&i!==void 0?i:!1,F=t.theme||(P?"plain":"striped"),D=!!t.horizontalPageBreak,z=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:P,theme:F,startY:b,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:j,showFoot:w,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:D,horizontalPageBreakRepeat:z,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function N9(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;i=l===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function S9(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(r){var o=W_(e,t.html,r,l,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||k9(n,a,i);return{columns:c,head:n,body:a,foot:i}}function k9(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(l=(o==null?void 0:o.colSpan)||1);for(var c=0;c<l;c++){var d=void 0;Array.isArray(n)?d=a.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var a0=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),C9=function(e){O_(t,e);function t(r,n,a,i,l,o){var c=e.call(this,r,n,o)||this;return c.cell=a,c.row=i,c.column=l,c.section=i.section,c}return t}(a0),A9=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,l){for(var o=0,c=r;o<c.length;o++){var d=c[o],u=new C9(t,this,n,a,i,l),p=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new a0(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new a0(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),H_=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof q_&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var l=n.cells[i.index];if(!l)return 0;var o=r.getLineHeight(l.styles.fontSize),c=l.padding("vertical"),d=c+o;return d>a?d:a},0)},e}(),Y_=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=If(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),P9=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},e}();function L9(e,t){D9(e,t);var r=[],n=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=i0(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=i0(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),T9(t),F9(t,e),E9(t)}function D9(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=U_(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var p=d.padding("horizontal");d.contentWidth=sf(d.text,d.styles,e)+p;var x=sf(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var f=10/r;d.minWidth=d.styles.minCellWidth||f,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},p=u.cellWidth||u.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function i0(e,t,r){for(var n=t,a=e.reduce(function(f,g){return f+g.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/a,c=n*o,d=l.width+c,u=r(l),p=d<u?u:d;t-=p-l.width,l.width=p}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(f){return t<0?f.width>r(f):!0});x.length&&(t=i0(x,t,r))}return t}function E9(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var p=n.length-a,x=u.rowSpan>p?p:u.rowSpan;t[c.index]={cell:u,left:x,row:i}}}}}function T9(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,l=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+i}else{var d=n.cells[c.index];if(!d)continue;if(l=d.colSpan,i=0,d.colSpan>1){a=d,i+=c.width;continue}d.width=c.width+i}}}function F9(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Wv(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=Wv(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var p=d.styles.overflow(d.text,u);typeof p=="string"?d.text=[p]:d.text=p}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<x*d.rowSpan?r={height:x,count:d.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>i.height&&(i.height=x)}}r.count--}}function Wv(e,t,r,n,a){return e.map(function(i){return I9(i,t,r,n,a)})}function I9(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=sf(e,r,n))return e;for(;t<sf(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function G_(e,t){var r=new Gl(e),n=R9(t,r.scaleFactor()),a=new A9(t,n);return L9(r,a),r.applyStyles(r.userStyles),a}function R9(e,t){var r=e.content,n=O9(r.columns);if(r.head.length===0){var a=Vv(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Vv(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,l=e.styles;return{columns:n,head:lp("head",r.head,n,l,i,t),body:lp("body",r.body,n,l,i,t),foot:lp("foot",r.foot,n,l,i,t)}}function lp(e,t,r,n,a,i){var l={},o=t.map(function(c,d){for(var u=0,p={},x=0,f=0,g=0,b=r;g<b.length;g++){var w=b[g];if(l[w.index]==null||l[w.index].left===0)if(f===0){var j=void 0;Array.isArray(c)?j=c[w.index-x-u]:j=c[w.dataKey];var P={};typeof j=="object"&&!Array.isArray(j)&&(P=(j==null?void 0:j.styles)||{});var F=q9(e,w,d,a,n,i,P),D=new Y_(j,F,e);p[w.dataKey]=D,p[w.index]=D,f=D.colSpan-1,l[w.index]={left:D.rowSpan-1,times:f}}else f--,x++;else l[w.index].left--,f=l[w.index].times,u++}return new H_(c,d,e,p)});return o}function Vv(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=M9(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function M9(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function O9(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new P9(a,t,r)})}function q9(e,t,r,n,a,i,l){var o=m9(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var d=gi({},o.table,o[e],a.styles,c),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},p=e==="body"?u:{},x=e==="body"&&r%2===0?gi({},o.alternateRow,a.alternateRowStyles):{},f=f9(i),g=gi({},f,d,x,p);return gi(g,l)}function B9(e,t,r){var n;r===void 0&&(r={});var a=U_(e,t),i=new Map,l=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(x){var f=t.columns.find(function(g){return g.dataKey===x||g.index===x});f&&!i.has(f.index)&&(i.set(f.index,!0),l.push(f.index),o.push(t.columns[f.index]),a-=f.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var p=t.columns[u].wrappedWidth;if(d||a>=p)d=!1,l.push(u),o.push(t.columns[u]),a-=p;else break;u++}return{colIndexes:l,columns:o,lastIndex:u-1}}function z9(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=B9(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function K_(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+l;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(x,f){return x+f.height},0);o+=d}var u=new Gl(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(Q_(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var p=gi({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?U9(u,t,p,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(x){return bi(u,t,x,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(x,f){var g=f===t.body.length-1;af(u,t,x,g,p,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(x){return bi(u,t,x,i,t.columns)})),B_(u,t,p,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function U9(e,t,r,n){var a=z9(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?Md(e,t,r,n,d.columns,!0):Hv(e,t,n,d.columns),$9(e,t,r,n,d.columns),cp(e,t,n,d.columns)});else for(var l=-1,o=a[0],c=function(){var d=l;if(o){e.applyStyles(e.userStyles);var u=o.columns;l>=0?Md(e,t,r,n,u,!0):Hv(e,t,n,u),d=Yv(e,t,l+1,n,u),cp(e,t,n,u)}var p=d-l;a.slice(1).forEach(function(x){e.applyStyles(e.userStyles),Md(e,t,r,n,x.columns,!0),Yv(e,t,l+1,n,x.columns,p),cp(e,t,n,x.columns)}),l=d};l<t.body.length-1;)c()}function Hv(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return bi(e,t,i,r,n)})}function $9(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;af(e,t,i,o,r,n,a)})}function Yv(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,l).forEach(function(c,d){var u=r+d===t.body.length-1,p=Z_(e,t,u,n);c.canEntireRowFit(p,a)&&(bi(e,t,c,n,a),o=r+d)}),o}function cp(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return bi(e,t,i,r,n)})}function W9(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function V9(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=r.columns;l<o.length;l++){var c=o[l],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new Y_(d.raw,d.styles,d.section);u=gi(u,d),u.text=[];var p=W9(d,t,n);d.text.length>p&&(u.text=d.text.splice(p,d.text.length));var x=n.scaleFactor(),f=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,f),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(x,f),u.contentHeight>i&&(i=u.contentHeight),a[c.index]=u}}var g=new H_(e.raw,-1,e.section,a,!0);g.height=i;for(var b=0,w=r.columns;b<w.length;b++){var c=w[b],u=g.cells[c.index];u&&(u.height=g.height);var d=e.cells[c.index];d&&(d.height=e.height)}return g}function H9(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,l=i.top+i.bottom,o=a-l;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),d=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(n.columns),p=t.getMaxCellHeight(n.columns)>o;return p?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function af(e,t,r,n,a,i,l){var o=Z_(e,t,n,i);if(r.canEntireRowFit(o,l))bi(e,t,r,i,l);else if(H9(e,r,o,t)){var c=V9(r,o,t,e);bi(e,t,r,i,l),Md(e,t,a,i,l),af(e,t,c,n,a,i,l)}else Md(e,t,a,i,l),af(e,t,r,n,a,i,l)}function bi(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,l=a;i<l.length;i++){var o=l[i],c=r.cells[o.index];if(!c){n.x+=o.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,n);if(d===!1){n.x+=o.width;continue}Y9(e,c,n);var u=c.getTextPos();M_(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,n),n.x+=o.width}n.y+=r.height}function Y9(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=z_(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),G9(e,t,r,n.lineWidth))}function G9(e,t,r,n){var a,i,l,o;n.top&&(a=r.x,i=r.y,l=r.x+t.width,o=r.y,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,l,o)),n.bottom&&(a=r.x,i=r.y+t.height,l=r.x+t.width,o=r.y+t.height,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,l,o)),n.left&&(a=r.x,i=r.y,l=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,a,i,l,o)),n.right&&(a=r.x+t.width,i=r.y,l=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,a,i,l,o));function c(d,u,p,x,f){e.getDocument().setLineWidth(d),e.getDocument().line(u,p,x,f,"S")}}function Z_(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Md(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return bi(e,t,o,n,a)}),t.callEndPageHooks(e,n);var l=t.settings.margin;B_(e,t,r,n),Q_(e),t.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return bi(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function Q_(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function K9(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=V_(this,n),i=G_(this,a);return K_(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){M_(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Gl.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Gl.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Gl(this),i=W_(a,t,window,r,!1),l=i.head,o=i.body,c=((n=l[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:o,data:o}}}var dp;function X_(e,t){var r=V_(e,t),n=G_(e,r);K_(e,n)}try{if(typeof window<"u"&&window){var Gv=window,Kv=Gv.jsPDF||((dp=Gv.jspdf)===null||dp===void 0?void 0:dp.jsPDF);Kv&&K9(Kv)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Z9=e=>{const{invoice:t,client:r,company:n,items:a}=e,i=new gt,l=i.internal.pageSize.width,o=i.internal.pageSize.height;let c=20;i.setFontSize(18),i.setTextColor(135,15,19),i.setFont(void 0,"bold"),i.text((n==null?void 0:n.name)||"Torque Stickers",20,c),i.setFontSize(9),i.setTextColor(60,60,60),i.setFont(void 0,"normal"),c+=7,n!=null&&n.phone&&(i.text(n.phone,20,c),c+=5),n!=null&&n.email&&(i.text(n.email,20,c),c+=5),i.setFontSize(9);let d=20;const u=l-20;n!=null&&n.address&&i.splitTextToSize(n.address,70).forEach(k=>{i.text(k,u,d,{align:"right"}),d+=5}),c=Math.max(c,d)+10,i.setFontSize(10),i.setTextColor(60,60,60),i.setFont(void 0,"bold"),i.text("Invoice issued to:",20,c),c+=6,i.setFontSize(10),i.setFont(void 0,"normal"),i.setTextColor(40,40,40),i.text((r==null?void 0:r.name)||"",20,c),c+=5,r!=null&&r.email&&(i.setFontSize(9),i.setTextColor(80,80,80),i.text(r.email,20,c),c+=5);const p=c-16,x=l-85,f=65,g=7;i.setFillColor(250,250,250),i.rect(x,p,f,g*6,"F"),i.setDrawColor(200,200,200),i.setLineWidth(.5),i.rect(x,p,f,g*6,"S"),i.setFontSize(8),i.setFont(void 0,"bold"),i.setTextColor(80,80,80);let b=p+5;const w=x+3,j=x+f-3;[["Invoice Number",t.invoice_number],["PO Number",t.po_number||"-"],["Invoice Date",new Date(t.issue_date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})],["Due Date",t.due_date?new Date(t.due_date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-"],["Total",`${parseFloat(t.total).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`],["Balance",`${parseFloat(t.balance).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`]].forEach(([ee,k])=>{i.setFont(void 0,"normal"),i.setTextColor(100,100,100),i.text(ee,w,b),i.setFont(void 0,"bold"),i.setTextColor(40,40,40),i.text(k,j,b,{align:"right"}),b+=g}),c+=20;const F=a.map(ee=>[ee.description,`${parseFloat(ee.unit_price).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ee.quantity.toString(),`${parseFloat(ee.line_total).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`]);X_(i,{startY:c,head:[["Description","Unit Cost","Quantity","Line Total"]],body:F,theme:"plain",headStyles:{fillColor:[245,245,245],textColor:[80,80,80],fontSize:9,fontStyle:"bold",halign:"left",cellPadding:4},bodyStyles:{fontSize:9,textColor:[60,60,60],cellPadding:4},columnStyles:{0:{cellWidth:80},1:{cellWidth:35,halign:"right"},2:{cellWidth:25,halign:"center"},3:{cellWidth:40,halign:"right"}},alternateRowStyles:{fillColor:[252,252,252]},margin:{left:20,right:20}});const D=i.lastAutoTable.finalY+10,z=l-20;i.setFontSize(9),i.setTextColor(80,80,80);let Y=D;if(i.setFont(void 0,"normal"),i.text("Subtotal:",z-50,Y),i.text(`${parseFloat(t.subtotal).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"}),Y+=6,t.tax_amount>0){const ee=t.tax_rate_1||15;i.text(`VAT (${ee}%):`,z-50,Y),i.text(`${parseFloat(t.tax_amount).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"}),Y+=6}if(t.discount>0&&(i.text("Discount:",z-50,Y),i.text(`-${parseFloat(t.discount).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"}),Y+=6),i.setDrawColor(200,200,200),i.setLineWidth(.5),i.line(z-60,Y,z,Y),Y+=6,i.setFontSize(11),i.setFont(void 0,"bold"),i.setTextColor(135,15,19),i.text("Total:",z-50,Y),i.text(`${parseFloat(t.total).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"}),t.balance>0&&t.balance!==t.total&&(Y+=8,i.setFontSize(10),i.setTextColor(235,2,10),i.text("Balance Due:",z-50,Y),i.text(`${parseFloat(t.balance).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"})),Y+=15,t.terms_conditions&&Y<o-40){i.setFontSize(9),i.setFont(void 0,"bold"),i.setTextColor(80,80,80),i.text("Terms & Conditions:",20,Y),Y+=5,i.setFont(void 0,"normal"),i.setTextColor(100,100,100),i.setFontSize(8);const ee=i.splitTextToSize(t.terms_conditions,l-40);i.text(ee,20,Y),Y+=ee.length*4}if(t.public_notes&&Y<o-30){Y+=8,i.setFontSize(9),i.setFont(void 0,"bold"),i.setTextColor(80,80,80),i.text("Notes:",20,Y),Y+=5,i.setFont(void 0,"normal"),i.setTextColor(100,100,100),i.setFontSize(8);const ee=i.splitTextToSize(t.public_notes,l-40);i.text(ee,20,Y)}return i.setFontSize(8),i.setTextColor(150,150,150),i.text("Thank you for your business!",l/2,o-15,{align:"center"}),i.text("Page 1 of 1",l/2,o-10,{align:"center"}),i},J_=e=>{var ee;const{quote:t,client:r,company:n,items:a}=e,i=new gt,l=i.internal.pageSize.width,o=i.internal.pageSize.height;let c=20;i.setFontSize(18),i.setTextColor(135,15,19),i.setFont(void 0,"bold"),i.text((n==null?void 0:n.name)||"Torque Stickers",20,c),i.setFontSize(9),i.setTextColor(60,60,60),i.setFont(void 0,"normal"),c+=7,n!=null&&n.phone&&(i.text(n.phone,20,c),c+=5),n!=null&&n.email&&(i.text(n.email,20,c),c+=5),i.setFontSize(9);let d=20;const u=l-20;n!=null&&n.address&&i.splitTextToSize(n.address,70).forEach(_=>{i.text(_,u,d,{align:"right"}),d+=5}),c=Math.max(c,d)+5,i.setFontSize(16),i.setTextColor(135,15,19),i.setFont(void 0,"bold"),i.text("QUOTATION",20,c),c+=10,i.setFontSize(10),i.setTextColor(60,60,60),i.setFont(void 0,"bold"),i.text("Quote issued to:",20,c),c+=6,i.setFontSize(10),i.setFont(void 0,"normal"),i.setTextColor(40,40,40),i.text((r==null?void 0:r.name)||"",20,c),c+=5,r!=null&&r.email&&(i.setFontSize(9),i.setTextColor(80,80,80),i.text(r.email,20,c),c+=5);const p=c-16,x=l-85,f=65,g=7;i.setFillColor(250,250,250),i.rect(x,p,f,g*5,"F"),i.setDrawColor(200,200,200),i.setLineWidth(.5),i.rect(x,p,f,g*5,"S"),i.setFontSize(8),i.setFont(void 0,"bold"),i.setTextColor(80,80,80);let b=p+5;const w=x+3,j=x+f-3;[["Quote Number",t.quote_number],["Quote Date",new Date(t.issue_date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})],["Valid Until",t.expiry_date?new Date(t.expiry_date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-"],["Status",(ee=t.status)==null?void 0:ee.toUpperCase()],["Total",`${parseFloat(t.total).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`]].forEach(([k,_])=>{i.setFont(void 0,"normal"),i.setTextColor(100,100,100),i.text(k,w,b),i.setFont(void 0,"bold"),i.setTextColor(40,40,40),i.text(_,j,b,{align:"right"}),b+=g}),c+=20;const F=a.map(k=>[k.description,`${parseFloat(k.unit_price).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,k.quantity.toString(),`${parseFloat(k.line_total).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`]);X_(i,{startY:c,head:[["Description","Unit Cost","Quantity","Line Total"]],body:F,theme:"plain",headStyles:{fillColor:[245,245,245],textColor:[80,80,80],fontSize:9,fontStyle:"bold",halign:"left",cellPadding:4},bodyStyles:{fontSize:9,textColor:[60,60,60],cellPadding:4},columnStyles:{0:{cellWidth:80},1:{cellWidth:35,halign:"right"},2:{cellWidth:25,halign:"center"},3:{cellWidth:40,halign:"right"}},alternateRowStyles:{fillColor:[252,252,252]},margin:{left:20,right:20}});const D=i.lastAutoTable.finalY+10,z=l-20;let Y=D;if(i.setFontSize(9),i.setTextColor(80,80,80),i.setFont(void 0,"normal"),i.text("Subtotal:",z-50,Y),i.text(`${parseFloat(t.subtotal).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"}),Y+=6,t.tax_amount>0&&(i.text("VAT (15%):",z-50,Y),i.text(`${parseFloat(t.tax_amount).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"}),Y+=6),t.discount>0&&(i.text("Discount:",z-50,Y),i.text(`-${parseFloat(t.discount).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"}),Y+=6),i.setDrawColor(200,200,200),i.setLineWidth(.5),i.line(z-60,Y,z,Y),Y+=6,i.setFontSize(11),i.setFont(void 0,"bold"),i.setTextColor(135,15,19),i.text("Total:",z-50,Y),i.text(`${parseFloat(t.total).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`,z,Y,{align:"right"}),Y+=15,i.setFontSize(8),i.setFont(void 0,"italic"),i.setTextColor(135,15,19),i.text("This is a quotation, not an invoice. Prices are valid until the expiry date.",20,Y),t.public_notes){Y+=10,i.setFontSize(9),i.setFont(void 0,"bold"),i.setTextColor(80,80,80),i.text("Notes:",20,Y),Y+=5,i.setFont(void 0,"normal"),i.setFontSize(8);const k=i.splitTextToSize(t.public_notes,l-40);i.text(k,20,Y)}return i.setFontSize(8),i.setTextColor(150,150,150),i.text("Thank you for your interest!",l/2,o-15,{align:"center"}),i.text("Page 1 of 1",l/2,o-10,{align:"center"}),i},Q9=Object.freeze(Object.defineProperty({__proto__:null,generateInvoicePDF:Z9,generateQuotePDF:J_},Symbol.toStringTag,{value:"Module"})),X9=()=>{var p,x,f,g,b,w,j,P;const{id:e}=Ms(),t=Zt(),r=Rr(),{data:n,isLoading:a}=_t({queryKey:["invoice",e],queryFn:async()=>{const{data:F}=await xe.from("invoices").select("*, clients(name, email, phone, street, city, country), invoice_items(*)").eq("id",e).single();return F}}),i=lr({mutationFn:async()=>{await xe.from("invoice_items").delete().eq("invoice_id",e);const{error:F}=await xe.from("invoices").delete().eq("id",e);if(F)throw F},onSuccess:async()=>{await UC((n==null?void 0:n.invoice_number)||"Unknown"),Qt({title:"Success",description:"Invoice deleted successfully"}),t("/invoices")},onError:F=>{Qt({title:"Error",description:F.message,variant:"destructive"})}}),l=lr({mutationFn:async F=>{const D={status:F};F==="sent"&&!(n!=null&&n.sent_date)?D.sent_date=new Date().toISOString():F==="viewed"&&!(n!=null&&n.viewed_date)?D.viewed_date=new Date().toISOString():F==="paid"&&(D.paid_date=new Date().toISOString(),D.balance=0,D.paid_to_date=n==null?void 0:n.total);const{error:z}=await xe.from("invoices").update(D).eq("id",e);if(z)throw z},onSuccess:()=>{r.invalidateQueries({queryKey:["invoice",e]}),Qt({title:"Success",description:"Invoice status updated"})},onError:F=>{Qt({title:"Error",description:F.message,variant:"destructive"})}}),o=F=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(F).replace("BDT",""),c=F=>({draft:"bg-status-draft",sent:"bg-status-sent",viewed:"bg-status-viewed",partial:"bg-status-partial",paid:"bg-status-paid",overdue:"bg-status-overdue"})[F]||"bg-muted",d=async()=>{if(!n||!n.clients)return;const{data:F}=await xe.from("companies").select("*").eq("id",n.company_id).single(),{generateInvoicePDF:D}=await us(async()=>{const{generateInvoicePDF:Y}=await Promise.resolve().then(()=>Q9);return{generateInvoicePDF:Y}},void 0);D({invoice:n,client:n.clients,company:F,items:n.invoice_items||[]}).save(`Invoice-${n.invoice_number}.pdf`)},u=lr({mutationFn:async()=>{var D;if(!((D=n==null?void 0:n.clients)!=null&&D.email))throw new Error("Client email not found");const{error:F}=await xe.functions.invoke("send-invoice-email",{body:{invoiceId:e,to:n.clients.email}});if(F)throw F},onSuccess:()=>{r.invalidateQueries({queryKey:["invoice",e]}),Qt({title:"Success",description:"Invoice email sent successfully"})},onError:F=>{Qt({title:"Error",description:F.message,variant:"destructive"})}});return a?s.jsx(dt,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs(_e,{className:"p-6 animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})})}):n?s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t("/invoices"),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.invoice_number}),s.jsx(yr,{className:c(n.status||"draft"),children:(p=n.status)==null?void 0:p.toUpperCase()})]}),s.jsx("p",{className:"text-muted-foreground",children:(x=n.clients)==null?void 0:x.name})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{variant:"outline",size:"sm",onClick:d,children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"PDF"]}),s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>u.mutate(),disabled:u.isPending||!((f=n.clients)!=null&&f.email),children:[s.jsx(qd,{className:"h-4 w-4 mr-2"}),"Email"]}),s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>t(`/invoices/${e}/edit`),children:[s.jsx(kc,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(du,{children:[s.jsx(uu,{asChild:!0,children:s.jsxs(je,{variant:"outline",size:"sm",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(Ec,{children:[s.jsxs(Tc,{children:[s.jsx(Ic,{children:"Delete Invoice?"}),s.jsx(Rc,{children:"This action cannot be undone. This will permanently delete the invoice and all associated data."})]}),s.jsxs(Fc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(Mc,{onClick:()=>i.mutate(),children:"Delete"})]})]})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),s.jsx("div",{className:"text-3xl font-bold text-primary",children:o(n.total)})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Amount Paid"}),s.jsx("div",{className:"text-3xl font-bold",children:o(n.paid_to_date||0)})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Balance Due"}),s.jsx("div",{className:"text-3xl font-bold text-destructive",children:o(n.balance)})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Invoice Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Issue Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.issue_date),"dd MMM yyyy")})]}),n.due_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.due_date),"dd MMM yyyy")})]}),n.po_number&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"PO Number:"}),s.jsx("span",{className:"font-medium",children:n.po_number})]}),n.sent_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sent Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.sent_date),"dd MMM yyyy")})]}),n.viewed_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Viewed Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.viewed_date),"dd MMM yyyy")})]}),n.paid_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.paid_date),"dd MMM yyyy")})]})]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Client Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:(g=n.clients)==null?void 0:g.name}),((b=n.clients)==null?void 0:b.email)&&s.jsx("div",{className:"text-sm text-muted-foreground",children:n.clients.email}),((w=n.clients)==null?void 0:w.phone)&&s.jsx("div",{className:"text-sm text-muted-foreground",children:n.clients.phone})]}),((j=n.clients)==null?void 0:j.street)&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.clients.street,n.clients.city&&`, ${n.clients.city}`,n.clients.country&&`, ${n.clients.country}`]})]})]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Line Items"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-4 font-semibold text-sm text-muted-foreground pb-2 border-b",children:[s.jsx("div",{className:"col-span-5",children:"Description"}),s.jsx("div",{className:"col-span-2 text-right",children:"Quantity"}),s.jsx("div",{className:"col-span-2 text-right",children:"Unit Price"}),s.jsx("div",{className:"col-span-2 text-right",children:"Discount"}),s.jsx("div",{className:"col-span-1 text-right",children:"Total"})]}),(P=n.invoice_items)==null?void 0:P.map(F=>s.jsxs("div",{className:"grid grid-cols-12 gap-4 py-2 border-b",children:[s.jsx("div",{className:"col-span-5",children:F.description}),s.jsx("div",{className:"col-span-2 text-right",children:F.quantity}),s.jsx("div",{className:"col-span-2 text-right",children:o(F.unit_price)}),s.jsx("div",{className:"col-span-2 text-right",children:o(F.discount)}),s.jsx("div",{className:"col-span-1 text-right font-semibold",children:o(F.line_total)})]},F.id))]}),s.jsx(zh,{className:"my-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),s.jsx("span",{className:"font-semibold",children:o(n.subtotal)})]}),n.discount>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Discount:"}),s.jsxs("span",{className:"font-semibold",children:["-",o(n.discount)]})]}),n.tax_amount>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["VAT (",n.tax_rate_1,"%):"]}),s.jsx("span",{className:"font-semibold",children:o(n.tax_amount)})]}),s.jsx(zh,{}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"font-bold",children:"Total:"}),s.jsx("span",{className:"font-bold text-primary",children:o(n.total)})]})]})]}),(n.public_notes||n.terms_conditions)&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Notes & Terms"}),n.public_notes&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Public Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:n.public_notes})]}),n.terms_conditions&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Terms & Conditions"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:n.terms_conditions})]})]}),n.status!=="paid"&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Actions"}),s.jsxs("div",{className:"flex gap-2",children:[n.status==="draft"&&s.jsxs(je,{onClick:()=>l.mutate("sent"),disabled:l.isPending,children:[s.jsx(qd,{className:"mr-2 h-4 w-4"}),"Mark as Sent"]}),n.status==="sent"&&s.jsxs(je,{onClick:()=>l.mutate("viewed"),disabled:l.isPending,children:[s.jsx(hN,{className:"mr-2 h-4 w-4"}),"Mark as Viewed"]}),(n.status==="sent"||n.status==="viewed"||n.status==="partial")&&s.jsx(je,{onClick:()=>l.mutate("paid"),disabled:l.isPending,children:"Mark as Paid"})]})]})]})}):s.jsx(dt,{children:s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Invoice not found"}),s.jsxs(je,{onClick:()=>t("/invoices"),children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Invoices"]})]})})})},J9=()=>{const{id:e}=Ms(),t=Zt(),r=Rr(),[n,a]=S.useState(""),[i,l]=S.useState(new Date),[o,c]=S.useState(),[d,u]=S.useState([]),[p,x]=S.useState(0),[f,g]=S.useState(!1),[b,w]=S.useState(15),[j,P]=S.useState(""),[F,D]=S.useState(""),[z,Y]=S.useState(""),[ee,k]=S.useState(""),{data:_,isLoading:M}=_t({queryKey:["invoice",e],queryFn:async()=>{const{data:I}=await xe.from("invoices").select("*, invoice_items(*)").eq("id",e).single();return I}});S.useEffect(()=>{_&&(a(_.client_id),l(new Date(_.issue_date)),_.due_date&&c(new Date(_.due_date)),u(_.invoice_items||[]),x(_.discount||0),g(_.is_amount_discount||!1),w(_.tax_rate_1||15),P(_.public_notes||""),D(_.private_notes||""),Y(_.terms_conditions||""),k(_.po_number||""))},[_]);const{data:C}=_t({queryKey:["clients"],queryFn:async()=>{const{data:I}=await xe.from("clients").select("*").order("name");return I||[]}}),{data:A}=_t({queryKey:["products"],queryFn:async()=>{const{data:I}=await xe.from("products").select("*").eq("is_active",!0);return I||[]}}),W=lr({mutationFn:async()=>{const I=d.reduce((Me,Be)=>Me+Be.line_total,0),V=f?p:I*p/100,J=I-V,re=J*b/100,ce=J+re,{error:pe}=await xe.from("invoices").update({client_id:n,issue_date:nt(i,"yyyy-MM-dd"),due_date:o?nt(o,"yyyy-MM-dd"):null,subtotal:I,discount:V,is_amount_discount:f,tax_rate_1:b,tax_amount:re,total:ce,balance:ce-((_==null?void 0:_.paid_to_date)||0),public_notes:j,private_notes:F,terms_conditions:z,po_number:ee}).eq("id",e);if(pe)throw pe;await xe.from("invoice_items").delete().eq("invoice_id",e);const we=d.map((Me,Be)=>({invoice_id:e,product_id:Me.product_id||null,description:Me.description,quantity:Me.quantity,unit_price:Me.unit_price,discount:Me.discount,line_total:Me.line_total,sort_order:Be})),{error:Ne}=await xe.from("invoice_items").insert(we);if(Ne)throw Ne},onSuccess:async()=>{await zC(e,(_==null?void 0:_.invoice_number)||"Unknown"),r.invalidateQueries({queryKey:["invoice",e]}),r.invalidateQueries({queryKey:["invoices"]}),Qt({title:"Success",description:"Invoice updated successfully"}),t(`/invoices/${e}`)},onError:I=>{Qt({title:"Error",description:I.message,variant:"destructive"})}}),U=(I,V,J)=>I*V-J,oe=(I,V,J)=>{const re=[...d];if(re[I]={...re[I],[V]:J},(V==="quantity"||V==="unit_price"||V==="discount")&&(re[I].line_total=U(re[I].quantity,re[I].unit_price,re[I].discount)),V==="product_id"&&J){const ce=A==null?void 0:A.find(pe=>pe.id===J);ce&&(re[I].description=ce.name,re[I].unit_price=ce.sale_price,re[I].line_total=U(re[I].quantity,ce.sale_price,re[I].discount))}u(re)},ue=()=>{u([...d,{description:"",quantity:1,unit_price:0,discount:0,line_total:0}])},te=I=>{d.length>1&&u(d.filter((V,J)=>J!==I))},X=d.reduce((I,V)=>I+V.line_total,0),ne=f?p:X*p/100,ke=X-ne,me=ke*b/100,L=ke+me,q=I=>`${parseFloat(I.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return M?s.jsx(dt,{children:s.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"})})})}):s.jsx(dt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Invoice"}),s.jsx("p",{className:"text-muted-foreground",children:"Update invoice details"})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Client & Dates"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client",children:"Client *"}),s.jsxs(pn,{value:n,onValueChange:a,children:[s.jsx(on,{children:s.jsx(xn,{})}),s.jsx(ln,{children:C==null?void 0:C.map(I=>s.jsx(ht,{value:I.id,children:I.name},I.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Issue Date *"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),nt(i,"PPP")]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:i,onSelect:I=>I&&l(I),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Due Date"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),o?nt(o,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:o,onSelect:c,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"po",children:"PO Number"}),s.jsx(Ie,{id:"po",value:ee,onChange:I=>k(I.target.value)})]})]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Line Items"}),s.jsxs(je,{onClick:ue,size:"sm",children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx("div",{className:"space-y-4",children:d.map((I,V)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{children:["Item ",V+1]}),d.length>1&&s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>te(V),children:s.jsx(Qs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Product"}),s.jsxs(pn,{value:I.product_id||"",onValueChange:J=>oe(V,"product_id",J),children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select product (optional)"})}),s.jsx(ln,{children:A==null?void 0:A.map(J=>s.jsx(ht,{value:J.id,children:J.name},J.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Description *"}),s.jsx(Ie,{value:I.description,onChange:J=>oe(V,"description",J.target.value)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Quantity *"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:I.quantity,onChange:J=>oe(V,"quantity",parseFloat(J.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Unit Price *"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:I.unit_price,onChange:J=>oe(V,"unit_price",parseFloat(J.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Discount"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:I.discount,onChange:J=>oe(V,"discount",parseFloat(J.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Line Total"}),s.jsx(Ie,{value:q(I.line_total),disabled:!0})]})]})]},V))})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tax & Discount"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"discount",children:"Discount"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ie,{id:"discount",type:"number",min:"0",step:"0.01",value:p,onChange:I=>x(parseFloat(I.target.value)||0)}),s.jsxs(pn,{value:f?"amount":"percent",onValueChange:I=>g(I==="amount"),children:[s.jsx(on,{className:"w-32",children:s.jsx(xn,{})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"percent",children:"%"}),s.jsx(ht,{value:"amount",children:""})]})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"tax",children:"VAT Rate (%)"}),s.jsx(Ie,{id:"tax",type:"number",min:"0",max:"100",step:"0.01",value:b,onChange:I=>w(parseFloat(I.target.value)||0)})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{className:"font-semibold",children:q(X)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{className:"font-semibold",children:["-",q(ne)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["VAT (",b,"%):"]}),s.jsx("span",{className:"font-semibold",children:q(me)})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:q(L)})]})]})]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Terms & Notes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"terms",children:"Terms & Conditions"}),s.jsx(zr,{id:"terms",value:z,onChange:I=>Y(I.target.value),rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"public",children:"Public Notes"}),s.jsx(zr,{id:"public",value:j,onChange:I=>P(I.target.value),rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"private",children:"Private Notes"}),s.jsx(zr,{id:"private",value:F,onChange:I=>D(I.target.value),rows:3})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(je,{variant:"outline",onClick:()=>t(`/invoices/${e}`),children:"Cancel"}),s.jsx(je,{onClick:()=>W.mutate(),disabled:W.isPending,children:"Update Invoice"})]})]})})},eT=()=>{const[e,t]=S.useState(""),r=Zt(),{data:n,isLoading:a}=_t({queryKey:["payments",e],queryFn:async()=>{let o=xe.from("payments").select("*, clients(name), invoices(invoice_number)").order("payment_date",{ascending:!1});e&&(o=o.or(`payment_number.ilike.%${e}%,reference.ilike.%${e}%`));const{data:c}=await o;return c||[]}}),i=o=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(o).replace("BDT",""),l=o=>({completed:"bg-status-paid",pending:"bg-status-sent",failed:"bg-status-overdue",refunded:"bg-muted"})[o]||"bg-muted";return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Payments"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage payments"})]}),s.jsxs(je,{onClick:()=>r("/payments/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Record Payment"]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(mf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(Ie,{placeholder:"Search payments...",value:e,onChange:o=>t(o.target.value),className:"pl-10"})]})}),a?s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(o=>s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx("div",{className:"h-5 bg-muted rounded w-1/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/3"})]}),s.jsx("div",{className:"h-8 bg-muted rounded w-24"})]})},o))}):(n==null?void 0:n.length)===0?s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No payments found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:e?"Try a different search term":"Get started by recording your first payment"}),s.jsxs(je,{onClick:()=>r("/payments/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Record Payment"]})]})}):s.jsx("div",{className:"space-y-4",children:n==null?void 0:n.map(o=>{var c,d;return s.jsx(_e,{className:"p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"font-semibold text-lg",children:o.payment_number}),s.jsx(yr,{className:l(o.status||"completed"),children:(c=o.status)==null?void 0:c.toUpperCase()})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[(d=o.clients)==null?void 0:d.name,o.invoices&&`  ${o.invoices.invoice_number}`]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[nt(new Date(o.payment_date),"dd MMM yyyy"),o.payment_method&&`  ${o.payment_method}`,o.reference&&`  Ref: ${o.reference}`]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:i(o.amount)}),o.refund_amount&&o.refund_amount>0&&s.jsxs("p",{className:"text-sm text-destructive",children:["Refunded: ",i(o.refund_amount)]})]})]})},o.id)})})]})})},tT=()=>{const e=Zt(),[t,r]=S.useState(""),[n,a]=S.useState(""),[i,l]=S.useState(""),[o,c]=S.useState(new Date),[d,u]=S.useState(""),[p,x]=S.useState(""),[f,g]=S.useState(""),{data:b}=_t({queryKey:["clients"],queryFn:async()=>{const{data:D}=await xe.from("clients").select("*").order("name");return D||[]}}),{data:w}=_t({queryKey:["invoices",t],queryFn:async()=>{if(!t)return[];const{data:D}=await xe.from("invoices").select("*").eq("client_id",t).gt("balance",0).order("issue_date",{ascending:!1});return D||[]},enabled:!!t}),j=lr({mutationFn:async()=>{const D=`PAY-${Date.now()}`,z=parseFloat(i),{data:Y,error:ee}=await xe.from("payments").insert({payment_number:D,client_id:t||null,invoice_id:n||null,amount:z,payment_date:nt(o,"yyyy-MM-dd"),payment_method:d||null,reference:p||null,notes:f||null,status:"completed"}).select().single();if(ee)throw ee;if(n){const{data:k}=await xe.from("invoices").select("balance, paid_to_date, total, status").eq("id",n).single();if(k){const _=(k.paid_to_date||0)+z,M=k.total-_,C=M<=0?"paid":M<k.total?"partial":k.status;await xe.from("invoices").update({paid_to_date:_,balance:M,status:C}).eq("id",n)}}return{id:Y.id,number:D,amount:z}},onSuccess:async D=>{await XC(D.id,D.number,D.amount),Qt({title:"Success",description:"Payment recorded successfully"}),e("/payments")},onError:D=>{Qt({title:"Error",description:D.message,variant:"destructive"})}}),P=D=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(D).replace("BDT",""),F=w==null?void 0:w.find(D=>D.id===n);return s.jsx(dt,{children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e("/payments"),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Record Payment"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new payment record"})]})]}),s.jsx(_e,{className:"p-6",children:s.jsxs("form",{onSubmit:D=>{D.preventDefault(),j.mutate()},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client",children:"Client *"}),s.jsxs(pn,{value:t,onValueChange:D=>{r(D),a("")},children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select client"})}),s.jsx(ln,{children:b==null?void 0:b.map(D=>s.jsx(ht,{value:D.id,children:D.name},D.id))})]})]}),t&&w&&w.length>0&&s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"invoice",children:"Invoice (Optional)"}),s.jsxs(pn,{value:n,onValueChange:a,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select invoice or leave blank for general payment"})}),s.jsx(ln,{children:w.map(D=>s.jsxs(ht,{value:D.id,children:[D.invoice_number," - Balance: ",P(D.balance)]},D.id))})]}),F&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Outstanding balance: ",P(F.balance)]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"amount",children:"Amount *"}),s.jsx(Ie,{id:"amount",type:"number",min:"0",step:"0.01",value:i,onChange:D=>l(D.target.value),placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Payment Date *"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),o?nt(o,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:o,onSelect:D=>D&&c(D),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"method",children:"Payment Method"}),s.jsxs(pn,{value:d,onValueChange:u,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select payment method"})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"Cash",children:"Cash"}),s.jsx(ht,{value:"Bank Transfer",children:"Bank Transfer"}),s.jsx(ht,{value:"bKash",children:"bKash"}),s.jsx(ht,{value:"Nagad",children:"Nagad"}),s.jsx(ht,{value:"Rocket",children:"Rocket"}),s.jsx(ht,{value:"Credit Card",children:"Credit Card"}),s.jsx(ht,{value:"Cheque",children:"Cheque"}),s.jsx(ht,{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"reference",children:"Reference/Transaction ID"}),s.jsx(Ie,{id:"reference",value:p,onChange:D=>x(D.target.value),placeholder:"Transaction ID, cheque number, etc."})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"notes",children:"Notes"}),s.jsx(zr,{id:"notes",value:f,onChange:D=>g(D.target.value),placeholder:"Additional notes about this payment",rows:3})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>e("/payments"),className:"flex-1",children:"Cancel"}),s.jsx(je,{type:"submit",disabled:j.isPending,className:"flex-1",children:j.isPending?"Recording...":"Record Payment"})]})]})})]})})},rT=()=>{var i,l;const{id:e}=Ms(),t=Zt(),{data:r,isLoading:n}=_t({queryKey:["payment",e],queryFn:async()=>{const{data:o}=await xe.from("payments").select("*, clients(name, email), invoices(invoice_number)").eq("id",e).single();return o}}),a=o=>`${parseFloat(o.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return n?s.jsx(dt,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs(_e,{className:"p-6 animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})})}):r?s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t("/payments"),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r.payment_number}),s.jsx(yr,{variant:r.status==="completed"?"default":"secondary",children:(i=r.status)==null?void 0:i.toUpperCase()})]}),s.jsx("p",{className:"text-muted-foreground",children:(l=r.clients)==null?void 0:l.name})]})]}),r.invoice_id&&s.jsxs(je,{onClick:()=>t(`/invoices/${r.invoice_id}`),children:[s.jsx(_o,{className:"h-4 w-4 mr-2"}),"View Invoice"]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Amount Paid"}),s.jsx("div",{className:"text-3xl font-bold text-primary",children:a(r.amount)})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Payment Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(r.payment_date),"dd MMM yyyy")})]}),r.payment_method&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),s.jsx("span",{className:"font-medium capitalize",children:r.payment_method.replace("_"," ")})]}),r.transaction_id&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-medium",children:r.transaction_id})]}),r.reference&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reference:"}),s.jsx("span",{className:"font-medium",children:r.reference})]}),r.invoices&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Invoice:"}),s.jsx("span",{className:"font-medium",children:r.invoices.invoice_number})]})]})]}),r.refund_amount&&r.refund_amount>0&&s.jsxs(_e,{className:"p-6 border-destructive",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4 text-destructive",children:"Refund Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Refund Amount:"}),s.jsx("span",{className:"font-medium text-destructive",children:a(r.refund_amount)})]}),r.refund_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Refund Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(r.refund_date),"dd MMM yyyy")})]}),r.refund_reason&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-1",children:"Refund Reason:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.refund_reason})]})]})]}),r.notes&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})]})]})}):s.jsx(dt,{children:s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payment not found"}),s.jsxs(je,{onClick:()=>t("/payments"),children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Payments"]})]})})})},nT=()=>{var l,o,c,d,u,p,x,f;const{toast:e}=kn(),t=Rr(),{data:r}=_t({queryKey:["profile"],queryFn:async()=>{const{data:{user:g}}=await xe.auth.getUser(),{data:b}=await xe.from("profiles").select("*, companies(*)").eq("user_id",g==null?void 0:g.id).single();return b}}),[n,a]=S.useState({name:"",legal_name:"",vat_number:"",tax_number:"",address:"",phone:"",email:"",website:""}),i=lr({mutationFn:async g=>{const{error:b}=await xe.from("companies").update(g).eq("id",r==null?void 0:r.company_id);if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["profile"]}),e({title:"Success",description:"Company settings updated"})},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}});return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your company settings and preferences"})]}),s.jsxs(Dc,{defaultValue:"company",children:[s.jsxs(fl,{children:[s.jsx(Br,{value:"company",children:"Company"}),s.jsx(Br,{value:"tax",children:"Tax Settings"}),s.jsx(Br,{value:"payment",children:"Payment Methods"})]}),s.jsx(Nn,{value:"company",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Company Information"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Company Name"}),s.jsx(Ie,{id:"name",value:n.name||((l=r==null?void 0:r.companies)==null?void 0:l.name),onChange:g=>a({...n,name:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"legal_name",children:"Legal Name"}),s.jsx(Ie,{id:"legal_name",value:n.legal_name||((o=r==null?void 0:r.companies)==null?void 0:o.legal_name),onChange:g=>a({...n,legal_name:g.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"vat_number",children:"VAT Number"}),s.jsx(Ie,{id:"vat_number",value:n.vat_number||((c=r==null?void 0:r.companies)==null?void 0:c.vat_number),onChange:g=>a({...n,vat_number:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"tax_number",children:"Tax Number"}),s.jsx(Ie,{id:"tax_number",value:n.tax_number||((d=r==null?void 0:r.companies)==null?void 0:d.tax_number),onChange:g=>a({...n,tax_number:g.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"address",children:"Address"}),s.jsx(zr,{id:"address",value:n.address||((u=r==null?void 0:r.companies)==null?void 0:u.address),onChange:g=>a({...n,address:g.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Phone"}),s.jsx(Ie,{id:"phone",value:n.phone||((p=r==null?void 0:r.companies)==null?void 0:p.phone),onChange:g=>a({...n,phone:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(Ie,{id:"email",type:"email",value:n.email||((x=r==null?void 0:r.companies)==null?void 0:x.email),onChange:g=>a({...n,email:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"website",children:"Website"}),s.jsx(Ie,{id:"website",value:n.website||((f=r==null?void 0:r.companies)==null?void 0:f.website),onChange:g=>a({...n,website:g.target.value})})]})]}),s.jsx(je,{onClick:()=>i.mutate(n),disabled:i.isPending,children:"Save Changes"})]})]})}),s.jsx(Nn,{value:"tax",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Tax Configuration"})}),s.jsx(wt,{children:s.jsx("p",{className:"text-muted-foreground",children:"Tax settings will be implemented here"})})]})}),s.jsx(Nn,{value:"payment",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Payment Methods"})}),s.jsx(wt,{children:s.jsx("p",{className:"text-muted-foreground",children:"Payment method configuration will be implemented here"})})]})})]})]})})},sT={invoice_number:["Invoice Invoice Number","Invoice Number","invoice_number","Number","invoice no","inv no"],client_name:["Client Name","Client","Customer Name","customer","client"],client_email:["Client Email","Email","Customer Email","contact_email"],po_number:["PO Number","PO No","Purchase Order","po_number","Invoice PO Number"],issue_date:["Invoice Date","Date","Issue Date","invoice_date","issue_date","Invoice Invoice Date"],due_date:["Due Date","Payment Due","due_date","Invoice Due Date"],status:["Status","Invoice Status","status"],subtotal:["Subtotal","Sub Total","subtotal","Invoice Subtotal"],tax_amount:["Tax Amount","Tax","VAT","tax_amount","Invoice Tax Amount"],discount:["Discount","discount","Invoice Discount"],total:["Total","Amount","Invoice Amount","total","Invoice Total"],balance:["Balance","Balance Due","balance","Invoice Balance"],paid_to_date:["Paid to Date","Paid","paid_to_date","Invoice Paid to Date"],public_notes:["Public Notes","Notes","public_notes","Invoice Public Notes"],private_notes:["Private Notes","Internal Notes","private_notes","Invoice Private Notes"]},aT={name:["Product","Product Name","Name","name","Item"],sku:["SKU","sku","Product Code","Code"],description:["Description","description","Product Description"],category:["Category","category","Product Category"],cost_price:["Cost","Cost Price","cost_price","Unit Cost"],sale_price:["Price","Sale Price","sale_price","Unit Price","Selling Price"],stock_quantity:["Stock Quantity","Quantity","stock_quantity","Qty","Stock"],low_stock_alert:["Low Stock Alert","low_stock_alert","Min Stock"],reorder_point:["Reorder Point","reorder_point","Reorder Level"],tax_rate_1:["Tax Rate 1","tax_rate_1","Tax Rate","VAT Rate"],tax_rate_2:["Tax Rate 2","tax_rate_2"],tax_rate_3:["Tax Rate 3","tax_rate_3"],notes:["Notes","notes","Product Notes"],size:["Size","size","Product Size"],material_type:["Material Type","material_type","Material"],vehicle_compatibility:["Vehicle Compatibility","vehicle_compatibility","Compatible Vehicles"],is_active:["Active","Is Active","is_active","Status"]},iT={quote_number:["Quote Number","quote_number","Number","Quote No"],client_name:["Client Name","Client","Customer Name","customer"],client_email:["Client Email","Email","Customer Email"],issue_date:["Quote Date","Date","Issue Date","quote_date","issue_date"],expiry_date:["Expiry Date","Valid Until","expiry_date","Expiration Date"],status:["Status","Quote Status","status"],subtotal:["Subtotal","Sub Total","subtotal"],tax_amount:["Tax Amount","Tax","VAT","tax_amount"],discount:["Discount","discount"],total:["Total","Amount","Quote Amount","total"],public_notes:["Public Notes","Notes","public_notes"],private_notes:["Private Notes","Internal Notes","private_notes"]},oT={name:["Client Name","Name","name","Company Name"],client_number:["Client Number","client_number","Customer Number"],email:["Email","email","Contact Email"],phone:["Phone","phone","Contact Phone","Telephone"],contact_first_name:["Contact First Name","First Name","contact_first_name"],contact_last_name:["Contact Last Name","Last Name","contact_last_name"],street:["Street","street","Address","Address Line 1"],city:["City","city"],state_province:["State/Province","State","Province","state_province"],postal_code:["Postal Code","ZIP","Post Code","postal_code"],country:["Country","country"],vat_number:["VAT Number","vat_number","Tax ID"],website:["Website","website","Web"],status:["Status","status"]},lT=(e,t)=>{const r=t==="invoice"?sT:t==="product"?aT:t==="quote"?iT:oT,n=[];return Object.entries(r).forEach(([a,i])=>{const l=e.find(o=>i.some(c=>o.toLowerCase().trim()===c.toLowerCase().trim()));l&&n.push({source:l,destination:a,transform:cT(a)})}),n},cT=e=>["subtotal","tax_amount","discount","total","balance","paid_to_date","cost_price","sale_price","stock_quantity","tax_rate_1","tax_rate_2","tax_rate_3","credit_limit","amount"].includes(e)?t=>{if(t==null||t==="")return 0;const r=parseFloat(String(t).replace(/[^0-9.-]/g,""));return isNaN(r)?0:r}:["issue_date","due_date","expiry_date","payment_date","expense_date"].includes(e)?t=>{if(!t)return null;try{const r=new Date(t);return isNaN(r.getTime())?null:r.toISOString().split("T")[0]}catch{return null}}:["is_active"].includes(e)?t=>{if(typeof t=="boolean")return t;const r=String(t).toLowerCase().trim();return["true","yes","1","active"].includes(r)}:["vehicle_compatibility"].includes(e)?t=>Array.isArray(t)?t:t?String(t).split(",").map(r=>r.trim()).filter(Boolean):null:t=>t==null?null:String(t).trim(),dT=(e,t)=>{const r={};return t.forEach(({source:n,destination:a,transform:i})=>{const l=e[n];r[a]=i?i(l):l}),r},uT=(e,t)=>{const r=[];return t==="invoice"?(e.invoice_number||r.push("Invoice number is required"),e.issue_date||r.push("Issue date is required"),(e.total===void 0||e.total===null)&&r.push("Total is required")):t==="product"?(e.name||r.push("Product name is required"),(e.sale_price===void 0||e.sale_price===null)&&r.push("Sale price is required")):t==="quote"?(e.quote_number||r.push("Quote number is required"),e.issue_date||r.push("Issue date is required")):t==="client"&&(e.name||r.push("Client name is required")),{valid:r.length===0,errors:r}},hT=()=>{const[e,t]=S.useState("clients"),[r,n]=S.useState(null),[a,i]=S.useState([]),[l,o]=S.useState(!1),{toast:c}=kn(),d=Rr(),u=f=>{var b;const g=(b=f.target.files)==null?void 0:b[0];g&&(n(g),Sh.parse(g,{header:!0,preview:5,complete:w=>{i(w.data)},error:w=>{c({title:"Error",description:`Failed to parse CSV: ${w.message}`,variant:"destructive"})}}))},p=async()=>{r&&(o(!0),Sh.parse(r,{header:!0,complete:async f=>{try{const{data:{user:g}}=await xe.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:b}=await xe.from("profiles").select("company_id").eq("user_id",g.id).single();if(!(b!=null&&b.company_id))throw new Error("No company found");const w=Object.keys(f.data[0]||{}),j=lT(w,e),P=[],F=[];if(f.data.forEach((Y,ee)=>{if(!Object.values(Y).some(M=>M))return;const k=dT(Y,j),_=uT(k,e);_.valid?P.push({...k,company_id:b.company_id}):F.push(`Row ${ee+2}: ${_.errors.join(", ")}`)}),F.length>0&&F.length<f.data.length&&c({title:"Validation Warnings",description:`${F.length} rows had errors. Valid rows will be imported.`,variant:"default"}),P.length===0)throw new Error("No valid rows to import. Please check your CSV format.");const D=e==="clients"?"clients":e==="products"?"products":e==="invoices"?"invoices":e==="payments"?"payments":"quotes",{error:z}=await xe.from(D).insert(P);if(z)throw z;await eA(e,P.length),c({title:"Import Successful",description:`Successfully imported ${P.length} ${e}`}),n(null),i([]),d.invalidateQueries({queryKey:[e]})}catch(g){c({title:"Import Failed",description:g.message,variant:"destructive"})}finally{o(!1)}}}))},x=f=>{const g={clients:[{"Client Name":"Example Company Ltd",Email:"contact@example.com",Phone:"+880-1700-000000",Street:"123 Main Street",City:"Dhaka","State/Province":"Dhaka","Postal Code":"1230",Country:"Bangladesh",Status:"active"}],products:[{"Product Name":"Sample Product",SKU:"PROD-001",Description:"Product description",Category:"Stickers","Cost Price":"100","Sale Price":"150","Stock Quantity":"50","Tax Rate 1":"15"}],invoices:[{"Invoice Number":"INV-0001","Client Name":"Example Company Ltd","Issue Date":"2025-01-01","Due Date":"2025-01-31",Subtotal:"1000","Tax Amount":"150",Total:"1150",Balance:"1150",Status:"draft"}],quotes:[{"Quote Number":"QT-0001","Client Name":"Example Company Ltd","Issue Date":"2025-01-01","Expiry Date":"2025-02-01",Subtotal:"1000","Tax Amount":"150",Total:"1150",Status:"draft"}],payments:[{"Payment Number":"PAY-0001","Client Name":"Example Company Ltd","Invoice Number":"INV-0001",Amount:"500","Payment Date":"2025-01-15","Payment Method":"Bank Transfer",Status:"completed"}]},b=Sh.unparse(g[f]||[]),w=new Blob([b],{type:"text/csv"}),j=URL.createObjectURL(w),P=document.createElement("a");P.href=j,P.download=`${f}_template.csv`,P.click(),URL.revokeObjectURL(j)};return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Import Data"}),s.jsx("p",{className:"text-muted-foreground",children:"Import clients, products, invoices, quotes, or payments from CSV files"})]}),s.jsxs(Dc,{value:e,onValueChange:t,children:[s.jsxs(fl,{className:"grid w-full grid-cols-5",children:[s.jsxs(Br,{value:"clients",children:[s.jsx(pf,{className:"mr-2 h-4 w-4"}),"Clients"]}),s.jsxs(Br,{value:"products",children:[s.jsx(hl,{className:"mr-2 h-4 w-4"}),"Products"]}),s.jsxs(Br,{value:"invoices",children:[s.jsx(_o,{className:"mr-2 h-4 w-4"}),"Invoices"]}),s.jsxs(Br,{value:"quotes",children:[s.jsx(mN,{className:"mr-2 h-4 w-4"}),"Quotes"]}),s.jsxs(Br,{value:"payments",children:[s.jsx(ff,{className:"mr-2 h-4 w-4"}),"Payments"]})]}),["clients","products","invoices","quotes","payments"].map(f=>s.jsx(Nn,{value:f,className:"space-y-4",children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Import ",f]}),s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>x(f),children:[s.jsx(wo,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-12 text-center hover:border-primary/50 transition-colors",children:[s.jsx(Rh,{className:"mx-auto h-12 w-12 text-muted-foreground"}),s.jsx("div",{className:"mt-4",children:s.jsxs("label",{htmlFor:`file-${f}`,className:"cursor-pointer",children:[s.jsx("span",{className:"text-sm font-medium hover:text-primary",children:"Click to upload or drag and drop"}),s.jsx("input",{id:`file-${f}`,type:"file",accept:".csv",className:"hidden",onChange:u})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"CSV files only  Intelligent column mapping included"})]}),a.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Preview (first 5 rows)"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r==null?void 0:r.name,"  ",a.length," rows shown"]})]}),s.jsx("div",{className:"border rounded-lg overflow-auto max-h-96",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted sticky top-0",children:s.jsx("tr",{children:Object.keys(a[0]).map(g=>s.jsx("th",{className:"px-4 py-2 text-left font-medium text-xs",children:g},g))})}),s.jsx("tbody",{children:a.map((g,b)=>s.jsx("tr",{className:"border-t hover:bg-muted/50",children:Object.values(g).map((w,j)=>s.jsx("td",{className:"px-4 py-2",children:w},j))},b))})]})}),s.jsx(je,{onClick:p,disabled:l,className:"w-full",children:l?"Importing...":`Import ${f}`})]})]})})},f))]})]})})},yu=S.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:We("w-full caption-bottom text-sm",e),...t})}));yu.displayName="Table";const bu=S.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:We("[&_tr]:border-b",e),...t}));bu.displayName="TableHeader";const wu=S.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:We("[&_tr:last-child]:border-0",e),...t}));wu.displayName="TableBody";const fT=S.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:We("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));fT.displayName="TableFooter";const wi=S.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:We("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));wi.displayName="TableRow";const Kr=S.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Kr.displayName="TableHead";const Zr=S.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Zr.displayName="TableCell";const mT=S.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:We("mt-4 text-sm text-muted-foreground",e),...t}));mT.displayName="TableCaption";const pT=()=>{const e=Zt(),{data:t,isLoading:r}=_t({queryKey:["quotes"],queryFn:async()=>{var o;const{data:i}=await xe.from("profiles").select("company_id").eq("user_id",(o=(await xe.auth.getUser()).data.user)==null?void 0:o.id).single(),{data:l}=await xe.from("quotes").select("*, clients(name, email)").eq("company_id",i==null?void 0:i.company_id).order("created_at",{ascending:!1});return l}}),n=async()=>{if(!t||t.length===0)return;const i=t.map(o=>o.clients).filter(Boolean),l=iA(t,i);J0(l,`quotes_export_${new Date().toISOString().split("T")[0]}.csv`),await X0("quotes",t.length)},a=i=>`${parseFloat(i.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Quotes"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your sales quotes and proposals"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{variant:"outline",onClick:n,disabled:!t||t.length===0,children:[s.jsx(wo,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),s.jsxs(je,{onClick:()=>e("/quotes/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"New Quote"]})]})]}),s.jsx(_e,{children:s.jsxs(yu,{children:[s.jsx(bu,{children:s.jsxs(wi,{children:[s.jsx(Kr,{children:"Quote #"}),s.jsx(Kr,{children:"Client"}),s.jsx(Kr,{children:"Date"}),s.jsx(Kr,{children:"Expiry"}),s.jsx(Kr,{children:"Amount"}),s.jsx(Kr,{children:"Status"})]})}),s.jsx(wu,{children:t==null?void 0:t.map(i=>{var l;return s.jsxs(wi,{className:"cursor-pointer",onClick:()=>e(`/quotes/${i.id}`),children:[s.jsx(Zr,{className:"font-medium",children:i.quote_number}),s.jsx(Zr,{children:(l=i.clients)==null?void 0:l.name}),s.jsx(Zr,{children:new Date(i.issue_date).toLocaleDateString()}),s.jsx(Zr,{children:i.expiry_date?new Date(i.expiry_date).toLocaleDateString():"-"}),s.jsx(Zr,{children:a(i.total)}),s.jsx(Zr,{children:s.jsx(yr,{variant:i.status==="sent"?"default":"secondary",children:i.status})})]},i.id)})})]})})]})})},xT=()=>{const e=Zt(),[t,r]=S.useState(""),[n,a]=S.useState(new Date),[i,l]=S.useState(),[o,c]=S.useState([{description:"",quantity:1,unit_price:0,discount:0,line_total:0}]),[d,u]=S.useState(""),[p,x]=S.useState(""),{data:f}=_t({queryKey:["clients"],queryFn:async()=>{const{data:Y}=await xe.from("clients").select("*").order("name");return Y||[]}}),{data:g}=_t({queryKey:["products"],queryFn:async()=>{const{data:Y}=await xe.from("products").select("*").eq("is_active",!0);return Y||[]}}),b=lr({mutationFn:async()=>{var W;const{data:Y}=await xe.from("profiles").select("company_id").eq("user_id",(W=(await xe.auth.getUser()).data.user)==null?void 0:W.id).single(),ee=o.reduce((U,oe)=>U+oe.line_total,0),k=`QT-${Date.now()}`,{data:_,error:M}=await xe.from("quotes").insert({quote_number:k,client_id:t,company_id:Y==null?void 0:Y.company_id,issue_date:nt(n,"yyyy-MM-dd"),expiry_date:i?nt(i,"yyyy-MM-dd"):null,subtotal:ee,total:ee,public_notes:d,private_notes:p,status:"draft"}).select().single();if(M)throw M;const C=o.map((U,oe)=>({quote_id:_.id,product_id:U.product_id||null,description:U.description,quantity:U.quantity,unit_price:U.unit_price,discount:U.discount,line_total:U.line_total,sort_order:oe})),{error:A}=await xe.from("quote_items").insert(C);if(A)throw A;return{id:_.id,number:k}},onSuccess:async Y=>{await $C(Y.id,Y.number),Qt({title:"Success",description:"Quote created successfully"}),e(`/quotes/${Y.id}`)},onError:Y=>{Qt({title:"Error",description:Y.message,variant:"destructive"})}}),w=(Y,ee,k)=>Y*ee-k,j=(Y,ee,k)=>{const _=[...o];if(_[Y]={..._[Y],[ee]:k},(ee==="quantity"||ee==="unit_price"||ee==="discount")&&(_[Y].line_total=w(_[Y].quantity,_[Y].unit_price,_[Y].discount)),ee==="product_id"&&k){const M=g==null?void 0:g.find(C=>C.id===k);M&&(_[Y].description=M.name,_[Y].unit_price=M.sale_price,_[Y].line_total=w(_[Y].quantity,M.sale_price,_[Y].discount))}c(_)},P=()=>{c([...o,{description:"",quantity:1,unit_price:0,discount:0,line_total:0}])},F=Y=>{o.length>1&&c(o.filter((ee,k)=>k!==Y))},D=o.reduce((Y,ee)=>Y+ee.line_total,0),z=Y=>`${parseFloat(Y.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return s.jsx(dt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Quote"}),s.jsx("p",{className:"text-muted-foreground",children:"Generate a new sales quote"})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Client & Dates"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client",children:"Client *"}),s.jsxs(pn,{value:t,onValueChange:r,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select client"})}),s.jsx(ln,{children:f==null?void 0:f.map(Y=>s.jsx(ht,{value:Y.id,children:Y.name},Y.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Issue Date *"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),nt(n,"PPP")]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:n,onSelect:Y=>Y&&a(Y),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Expiry Date"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),i?nt(i,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:i,onSelect:l,initialFocus:!0})})]})]})]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Line Items"}),s.jsxs(je,{onClick:P,size:"sm",children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx("div",{className:"space-y-4",children:o.map((Y,ee)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{children:["Item ",ee+1]}),o.length>1&&s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>F(ee),children:s.jsx(Qs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Product"}),s.jsxs(pn,{value:Y.product_id||"",onValueChange:k=>j(ee,"product_id",k),children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select product (optional)"})}),s.jsx(ln,{children:g==null?void 0:g.map(k=>s.jsx(ht,{value:k.id,children:k.name},k.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Description *"}),s.jsx(Ie,{value:Y.description,onChange:k=>j(ee,"description",k.target.value),placeholder:"Item description"})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Quantity *"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:Y.quantity,onChange:k=>j(ee,"quantity",parseFloat(k.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Unit Price *"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:Y.unit_price,onChange:k=>j(ee,"unit_price",parseFloat(k.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Discount"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:Y.discount,onChange:k=>j(ee,"discount",parseFloat(k.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Line Total"}),s.jsx(Ie,{value:z(Y.line_total),disabled:!0})]})]})]},ee))}),s.jsx("div",{className:"border-t mt-4 pt-4",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:z(D)})]})})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"public",children:"Public Notes"}),s.jsx(zr,{id:"public",value:d,onChange:Y=>u(Y.target.value),placeholder:"Notes visible to client",rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"private",children:"Private Notes"}),s.jsx(zr,{id:"private",value:p,onChange:Y=>x(Y.target.value),placeholder:"Internal notes",rows:3})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(je,{variant:"outline",onClick:()=>e("/quotes"),children:"Cancel"}),s.jsx(je,{onClick:()=>b.mutate(),disabled:!t||o.some(Y=>!Y.description)||b.isPending,children:"Create Quote"})]})]})})},gT=()=>{var c,d,u;const{id:e}=Ms(),t=Zt();Rr();const{data:r,isLoading:n}=_t({queryKey:["quote",e],queryFn:async()=>{const{data:p}=await xe.from("quotes").select("*, clients(name, email, phone), quote_items(*)").eq("id",e).single();return p}}),a=async()=>{if(!r)return;const{data:p}=await xe.from("companies").select("*").eq("id",r.company_id).single();J_({quote:r,client:r.clients,company:p||{},items:r.quote_items||[]}).save(`Quote_${r.quote_number}.pdf`),await HC(r.id,r.quote_number)},i=lr({mutationFn:async()=>{await xe.from("quote_items").delete().eq("quote_id",e);const{error:p}=await xe.from("quotes").delete().eq("id",e);if(p)throw p},onSuccess:async()=>{await VC((r==null?void 0:r.quote_number)||"Unknown"),Qt({title:"Success",description:"Quote deleted successfully"}),t("/quotes")},onError:p=>{Qt({title:"Error",description:p.message,variant:"destructive"})}}),l=lr({mutationFn:async()=>{var j,P;const{data:p}=await xe.from("profiles").select("company_id").eq("user_id",(j=(await xe.auth.getUser()).data.user)==null?void 0:j.id).single(),x=`INV-${Date.now()}`,{data:f,error:g}=await xe.from("invoices").insert({invoice_number:x,client_id:r.client_id,company_id:p==null?void 0:p.company_id,issue_date:nt(new Date,"yyyy-MM-dd"),subtotal:r.subtotal,total:r.total,balance:r.total,public_notes:r.public_notes,private_notes:r.private_notes,status:"draft"}).select().single();if(g)throw g;const b=(P=r.quote_items)==null?void 0:P.map(F=>({invoice_id:f.id,product_id:F.product_id,description:F.description,quantity:F.quantity,unit_price:F.unit_price,discount:F.discount,line_total:F.line_total,sort_order:F.sort_order})),{error:w}=await xe.from("invoice_items").insert(b);if(w)throw w;return f.id},onSuccess:p=>{Qt({title:"Success",description:"Quote converted to invoice"}),t(`/invoices/${p}`)},onError:p=>{Qt({title:"Error",description:p.message,variant:"destructive"})}}),o=p=>`${parseFloat(p.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return n?s.jsx(dt,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs(_e,{className:"p-6 animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})})}):r?s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t("/quotes"),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r.quote_number}),s.jsx(yr,{variant:r.status==="sent"?"default":"secondary",children:(c=r.status)==null?void 0:c.toUpperCase()})]}),s.jsx("p",{className:"text-muted-foreground",children:(d=r.clients)==null?void 0:d.name})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{onClick:()=>l.mutate(),disabled:l.isPending,children:[s.jsx(_o,{className:"h-4 w-4 mr-2"}),"Convert to Invoice"]}),s.jsxs(je,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>t(`/quotes/${e}/edit`),children:[s.jsx(kc,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(du,{children:[s.jsx(uu,{asChild:!0,children:s.jsxs(je,{variant:"outline",size:"sm",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(Ec,{children:[s.jsxs(Tc,{children:[s.jsx(Ic,{children:"Delete Quote"}),s.jsx(Rc,{children:"Are you sure you want to delete this quote? This action cannot be undone."})]}),s.jsxs(Fc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(Mc,{onClick:()=>i.mutate(),children:"Delete"})]})]})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Issue Date"}),s.jsx("div",{className:"font-semibold",children:nt(new Date(r.issue_date),"PPP")})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Expiry Date"}),s.jsx("div",{className:"font-semibold",children:r.expiry_date?nt(new Date(r.expiry_date),"PPP"):"No expiry"})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),s.jsx("div",{className:"text-2xl font-bold text-primary",children:o(r.total)})]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),s.jsx("div",{className:"space-y-4",children:(u=r.quote_items)==null?void 0:u.map(p=>s.jsxs("div",{className:"flex justify-between items-start border-b pb-4 last:border-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:p.description}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Quantity: ",p.quantity,"  ",o(p.unit_price),p.discount>0&&` (Discount: ${o(p.discount)})`]})]}),s.jsx("div",{className:"text-right font-semibold",children:o(p.line_total)})]},p.id))}),s.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{className:"font-semibold",children:o(r.subtotal)})]}),r.discount>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{className:"font-semibold",children:["-",o(r.discount)]})]}),r.tax_amount>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"VAT:"}),s.jsx("span",{className:"font-semibold",children:o(r.tax_amount)})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:o(r.total)})]})]})]}),(r.public_notes||r.private_notes)&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Notes"}),r.public_notes&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:"Public Notes"}),s.jsx("p",{className:"text-muted-foreground",children:r.public_notes})]}),r.private_notes&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:"Private Notes"}),s.jsx("p",{className:"text-muted-foreground",children:r.private_notes})]})]})]})}):s.jsx(dt,{children:s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Quote not found"}),s.jsxs(je,{onClick:()=>t("/quotes"),children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Quotes"]})]})})})},vT=()=>{const{id:e}=Ms(),t=Zt(),r=Rr(),[n,a]=S.useState(""),[i,l]=S.useState(new Date),[o,c]=S.useState(),[d,u]=S.useState([]),[p,x]=S.useState(""),[f,g]=S.useState(""),{data:b,isLoading:w}=_t({queryKey:["quote",e],queryFn:async()=>{const{data:k}=await xe.from("quotes").select("*, quote_items(*)").eq("id",e).single();return k}});S.useEffect(()=>{b&&(a(b.client_id),l(new Date(b.issue_date)),b.expiry_date&&c(new Date(b.expiry_date)),u(b.quote_items||[]),x(b.public_notes||""),g(b.private_notes||""))},[b]);const{data:j}=_t({queryKey:["clients"],queryFn:async()=>{const{data:k}=await xe.from("clients").select("*").order("name");return k||[]}});_t({queryKey:["products"],queryFn:async()=>{const{data:k}=await xe.from("products").select("*").eq("is_active",!0);return k||[]}});const P=lr({mutationFn:async()=>{const k=d.reduce((A,W)=>A+W.line_total,0),{error:_}=await xe.from("quotes").update({client_id:n,issue_date:nt(i,"yyyy-MM-dd"),expiry_date:o?nt(o,"yyyy-MM-dd"):null,subtotal:k,total:k,public_notes:p,private_notes:f}).eq("id",e);if(_)throw _;await xe.from("quote_items").delete().eq("quote_id",e);const M=d.map((A,W)=>({quote_id:e,product_id:A.product_id||null,description:A.description,quantity:A.quantity,unit_price:A.unit_price,discount:A.discount,line_total:A.line_total,sort_order:W})),{error:C}=await xe.from("quote_items").insert(M);if(C)throw C},onSuccess:async()=>{await WC(e,(b==null?void 0:b.quote_number)||"Unknown"),r.invalidateQueries({queryKey:["quote",e]}),Qt({title:"Success",description:"Quote updated successfully"}),t(`/quotes/${e}`)},onError:k=>{Qt({title:"Error",description:k.message,variant:"destructive"})}}),F=(k,_,M)=>k*_-M,D=(k,_,M)=>{const C=[...d];C[k]={...C[k],[_]:M},(_==="quantity"||_==="unit_price"||_==="discount")&&(C[k].line_total=F(C[k].quantity,C[k].unit_price,C[k].discount)),u(C)},z=()=>{u([...d,{description:"",quantity:1,unit_price:0,discount:0,line_total:0}])},Y=k=>{d.length>1&&u(d.filter((_,M)=>M!==k))},ee=k=>`${parseFloat(k.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return w?s.jsx(dt,{children:s.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"})})})}):s.jsx(dt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Quote"}),s.jsx("p",{className:"text-muted-foreground",children:"Update quote details"})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Client & Dates"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client",children:"Client *"}),s.jsxs(pn,{value:n,onValueChange:a,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select client"})}),s.jsx(ln,{children:j==null?void 0:j.map(k=>s.jsx(ht,{value:k.id,children:k.name},k.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Issue Date *"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),nt(i,"PPP")]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:i,onSelect:k=>k&&l(k),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Expiry Date"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),o?nt(o,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:o,onSelect:c,initialFocus:!0})})]})]})]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Line Items"}),s.jsxs(je,{onClick:z,size:"sm",children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx("div",{className:"space-y-4",children:d.map((k,_)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{children:["Item ",_+1]}),d.length>1&&s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>Y(_),children:s.jsx(Qs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Description *"}),s.jsx(Ie,{value:k.description,onChange:M=>D(_,"description",M.target.value)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Quantity *"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:k.quantity,onChange:M=>D(_,"quantity",parseFloat(M.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Unit Price *"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:k.unit_price,onChange:M=>D(_,"unit_price",parseFloat(M.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Discount"}),s.jsx(Ie,{type:"number",min:"0",step:"0.01",value:k.discount,onChange:M=>D(_,"discount",parseFloat(M.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Line Total"}),s.jsx(Ie,{value:ee(k.line_total),disabled:!0})]})]})]},_))})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"public",children:"Public Notes"}),s.jsx(zr,{id:"public",value:p,onChange:k=>x(k.target.value),rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"private",children:"Private Notes"}),s.jsx(zr,{id:"private",value:f,onChange:k=>g(k.target.value),rows:3})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(je,{variant:"outline",onClick:()=>t(`/quotes/${e}`),children:"Cancel"}),s.jsx(je,{onClick:()=>P.mutate(),disabled:P.isPending,children:"Update Quote"})]})]})})},yT=()=>{const e=Zt(),{data:t,isLoading:r}=_t({queryKey:["expenses"],queryFn:async()=>{var l;const{data:a}=await xe.from("profiles").select("company_id").eq("user_id",(l=(await xe.auth.getUser()).data.user)==null?void 0:l.id).single(),{data:i}=await xe.from("expenses").select("*").eq("company_id",a==null?void 0:a.company_id).order("expense_date",{ascending:!1});return i}}),n=a=>`${parseFloat(a.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Expenses"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage business expenses"})]}),s.jsxs(je,{onClick:()=>e("/expenses/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"New Expense"]})]}),s.jsx(_e,{children:s.jsxs(yu,{children:[s.jsx(bu,{children:s.jsxs(wi,{children:[s.jsx(Kr,{children:"Date"}),s.jsx(Kr,{children:"Category"}),s.jsx(Kr,{children:"Vendor"}),s.jsx(Kr,{children:"Description"}),s.jsx(Kr,{children:"Amount"}),s.jsx(Kr,{children:"Payment Method"})]})}),s.jsx(wu,{children:t==null?void 0:t.map(a=>s.jsxs(wi,{className:"cursor-pointer",onClick:()=>e(`/expenses/${a.id}`),children:[s.jsx(Zr,{children:new Date(a.expense_date).toLocaleDateString()}),s.jsx(Zr,{children:a.category}),s.jsx(Zr,{children:a.vendor||"-"}),s.jsx(Zr,{className:"max-w-xs truncate",children:a.description||"-"}),s.jsx(Zr,{className:"font-medium",children:n(a.amount)}),s.jsx(Zr,{children:a.payment_method||"-"})]},a.id))})]})})]})})},bT=()=>{const e=Zt(),t=Rr(),[r,n]=S.useState(new Date),[a,i]=S.useState(""),[l,o]=S.useState(""),[c,d]=S.useState(""),[u,p]=S.useState(""),[x,f]=S.useState(""),[g,b]=S.useState(""),w=lr({mutationFn:async()=>{var D;const{data:j}=await xe.from("profiles").select("company_id").eq("user_id",(D=(await xe.auth.getUser()).data.user)==null?void 0:D.id).single(),{data:P,error:F}=await xe.from("expenses").insert({company_id:j==null?void 0:j.company_id,expense_date:nt(r,"yyyy-MM-dd"),category:a,vendor:l,amount:parseFloat(c),payment_method:u,description:x,notes:g}).select().single();if(F)throw F;return{id:(P==null?void 0:P.id)||"",category:a,amount:parseFloat(c)}},onSuccess:async j=>{await JC(j.id,j.category,j.amount),t.invalidateQueries({queryKey:["expenses"]}),Qt({title:"Success",description:"Expense created successfully"}),e("/expenses")},onError:j=>{Qt({title:"Error",description:j.message,variant:"destructive"})}});return s.jsx(dt,{children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"New Expense"}),s.jsx("p",{className:"text-muted-foreground",children:"Record a business expense"})]}),s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Expense Date *"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),nt(r,"PPP")]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:r,onSelect:j=>j&&n(j),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"category",children:"Category *"}),s.jsxs(pn,{value:a,onValueChange:i,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select category"})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"materials",children:"Materials"}),s.jsx(ht,{value:"labor",children:"Labor"}),s.jsx(ht,{value:"utilities",children:"Utilities"}),s.jsx(ht,{value:"marketing",children:"Marketing"}),s.jsx(ht,{value:"rent",children:"Rent"}),s.jsx(ht,{value:"equipment",children:"Equipment"}),s.jsx(ht,{value:"transportation",children:"Transportation"}),s.jsx(ht,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"vendor",children:"Vendor"}),s.jsx(Ie,{id:"vendor",value:l,onChange:j=>o(j.target.value),placeholder:"Vendor name"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"amount",children:"Amount () *"}),s.jsx(Ie,{id:"amount",type:"number",min:"0",step:"0.01",value:c,onChange:j=>d(j.target.value),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"payment",children:"Payment Method"}),s.jsxs(pn,{value:u,onValueChange:p,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select payment method"})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"cash",children:"Cash"}),s.jsx(ht,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(ht,{value:"bkash",children:"bKash"}),s.jsx(ht,{value:"nagad",children:"Nagad"}),s.jsx(ht,{value:"rocket",children:"Rocket"}),s.jsx(ht,{value:"card",children:"Credit/Debit Card"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"description",children:"Description"}),s.jsx(Ie,{id:"description",value:x,onChange:j=>f(j.target.value),placeholder:"Brief description"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"notes",children:"Notes"}),s.jsx(zr,{id:"notes",value:g,onChange:j=>b(j.target.value),placeholder:"Additional notes",rows:3})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(je,{variant:"outline",onClick:()=>e("/expenses"),children:"Cancel"}),s.jsx(je,{onClick:()=>w.mutate(),disabled:!a||!c||w.isPending,children:"Create Expense"})]})]})})},wT=()=>{const{id:e}=Ms(),t=Zt(),r=Rr(),{data:n,isLoading:a}=_t({queryKey:["expense",e],queryFn:async()=>{const{data:o}=await xe.from("expenses").select("*").eq("id",e).single();return o}}),i=lr({mutationFn:async()=>{const{error:o}=await xe.from("expenses").delete().eq("id",e);if(o)throw o},onSuccess:()=>{r.invalidateQueries({queryKey:["expenses"]}),Qt({title:"Success",description:"Expense deleted successfully"}),t("/expenses")},onError:o=>{Qt({title:"Error",description:o.message,variant:"destructive"})}}),l=o=>`${parseFloat(o.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return a?s.jsx(dt,{children:s.jsx("div",{className:"space-y-6",children:s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"})})})}):n?s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t("/expenses"),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Expense Details"}),s.jsx("p",{className:"text-muted-foreground",children:nt(new Date(n.expense_date),"dd MMM yyyy")})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>t(`/expenses/${e}/edit`),children:[s.jsx(kc,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(du,{children:[s.jsx(uu,{asChild:!0,children:s.jsxs(je,{variant:"outline",size:"sm",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(Ec,{children:[s.jsxs(Tc,{children:[s.jsx(Ic,{children:"Delete Expense?"}),s.jsx(Rc,{children:"This action cannot be undone."})]}),s.jsxs(Fc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(Mc,{onClick:()=>i.mutate(),children:"Delete"})]})]})]})]})]}),s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Amount"}),s.jsx("div",{className:"text-3xl font-bold text-primary",children:l(n.amount)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Category"}),s.jsx("div",{className:"text-xl font-semibold capitalize",children:n.category})]})]})}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.expense_date),"dd MMM yyyy")})]}),n.vendor&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Vendor:"}),s.jsx("span",{className:"font-medium",children:n.vendor})]}),n.payment_method&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),s.jsx("span",{className:"font-medium capitalize",children:n.payment_method.replace("_"," ")})]}),n.description&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Description:"}),s.jsx("span",{className:"font-medium",children:n.description})]})]})]}),n.notes&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:n.notes})]})]})}):s.jsx(dt,{children:s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Expense not found"}),s.jsxs(je,{onClick:()=>t("/expenses"),children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Expenses"]})]})})})},_T=()=>{const{id:e}=Ms(),t=Zt(),r=Rr(),[n,a]=S.useState(new Date),[i,l]=S.useState(""),[o,c]=S.useState(""),[d,u]=S.useState(""),[p,x]=S.useState(""),[f,g]=S.useState(""),[b,w]=S.useState(""),{data:j,isLoading:P}=_t({queryKey:["expense",e],queryFn:async()=>{const{data:D}=await xe.from("expenses").select("*").eq("id",e).single();return D}});S.useEffect(()=>{j&&(a(new Date(j.expense_date)),l(j.category),c(j.vendor||""),u(j.amount.toString()),x(j.payment_method||""),g(j.description||""),w(j.notes||""))},[j]);const F=lr({mutationFn:async()=>{const{error:D}=await xe.from("expenses").update({expense_date:nt(n,"yyyy-MM-dd"),category:i,vendor:o,amount:parseFloat(d),payment_method:p,description:f,notes:b}).eq("id",e);if(D)throw D},onSuccess:()=>{r.invalidateQueries({queryKey:["expense",e]}),r.invalidateQueries({queryKey:["expenses"]}),Qt({title:"Success",description:"Expense updated successfully"}),t(`/expenses/${e}`)},onError:D=>{Qt({title:"Error",description:D.message,variant:"destructive"})}});return P?s.jsx(dt,{children:s.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"})})})}):s.jsx(dt,{children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Expense"}),s.jsx("p",{className:"text-muted-foreground",children:"Update expense details"})]}),s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Expense Date *"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),nt(n,"PPP")]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:n,onSelect:D=>D&&a(D),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"category",children:"Category *"}),s.jsxs(pn,{value:i,onValueChange:l,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select category"})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"materials",children:"Materials"}),s.jsx(ht,{value:"labor",children:"Labor"}),s.jsx(ht,{value:"utilities",children:"Utilities"}),s.jsx(ht,{value:"marketing",children:"Marketing"}),s.jsx(ht,{value:"rent",children:"Rent"}),s.jsx(ht,{value:"equipment",children:"Equipment"}),s.jsx(ht,{value:"transportation",children:"Transportation"}),s.jsx(ht,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"vendor",children:"Vendor"}),s.jsx(Ie,{id:"vendor",value:o,onChange:D=>c(D.target.value)})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"amount",children:"Amount () *"}),s.jsx(Ie,{id:"amount",type:"number",min:"0",step:"0.01",value:d,onChange:D=>u(D.target.value)})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"payment",children:"Payment Method"}),s.jsxs(pn,{value:p,onValueChange:x,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select payment method"})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"cash",children:"Cash"}),s.jsx(ht,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(ht,{value:"bkash",children:"bKash"}),s.jsx(ht,{value:"nagad",children:"Nagad"}),s.jsx(ht,{value:"rocket",children:"Rocket"}),s.jsx(ht,{value:"card",children:"Credit/Debit Card"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"description",children:"Description"}),s.jsx(Ie,{id:"description",value:f,onChange:D=>g(D.target.value)})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"notes",children:"Notes"}),s.jsx(zr,{id:"notes",value:b,onChange:D=>w(D.target.value),rows:3})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(je,{variant:"outline",onClick:()=>t(`/expenses/${e}`),children:"Cancel"}),s.jsx(je,{onClick:()=>F.mutate(),disabled:!i||!d||F.isPending,children:"Update Expense"})]})]})})},jT=()=>{const e=Zt(),{data:t,isLoading:r}=_t({queryKey:["projects"],queryFn:async()=>{var l;const{data:a}=await xe.from("profiles").select("company_id").eq("user_id",(l=(await xe.auth.getUser()).data.user)==null?void 0:l.id).single(),{data:i}=await xe.from("projects").select("*, clients(name)").eq("company_id",a==null?void 0:a.company_id).order("created_at",{ascending:!1});return i}}),n=a=>({design:"bg-blue-500",production:"bg-yellow-500",delivery:"bg-green-500",completed:"bg-gray-500"})[a]||"bg-gray-500";return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage custom orders and projects"})]}),s.jsxs(je,{onClick:()=>e("/projects/new"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),s.jsx(_e,{children:s.jsxs(yu,{children:[s.jsx(bu,{children:s.jsxs(wi,{children:[s.jsx(Kr,{children:"Name"}),s.jsx(Kr,{children:"Client"}),s.jsx(Kr,{children:"Start Date"}),s.jsx(Kr,{children:"Due Date"}),s.jsx(Kr,{children:"Status"})]})}),s.jsx(wu,{children:t==null?void 0:t.map(a=>{var i;return s.jsxs(wi,{className:"cursor-pointer",onClick:()=>e(`/projects/${a.id}`),children:[s.jsx(Zr,{className:"font-medium",children:a.name}),s.jsx(Zr,{children:((i=a.clients)==null?void 0:i.name)||"-"}),s.jsx(Zr,{children:a.start_date?new Date(a.start_date).toLocaleDateString():"-"}),s.jsx(Zr,{children:a.due_date?new Date(a.due_date).toLocaleDateString():"-"}),s.jsx(Zr,{children:s.jsx(yr,{className:n(a.status||"design"),children:a.status})})]},a.id)})})]})})]})})},NT=()=>{const e=Zt(),t=Rr(),[r,n]=S.useState(""),[a,i]=S.useState(""),[l,o]=S.useState(""),[c,d]=S.useState(),[u,p]=S.useState(),[x,f]=S.useState("design"),[g,b]=S.useState(""),{data:w}=_t({queryKey:["clients"],queryFn:async()=>{const{data:P}=await xe.from("clients").select("*").order("name");return P||[]}}),j=lr({mutationFn:async()=>{var D;const{data:P}=await xe.from("profiles").select("company_id").eq("user_id",(D=(await xe.auth.getUser()).data.user)==null?void 0:D.id).single(),{error:F}=await xe.from("projects").insert({company_id:P==null?void 0:P.company_id,name:r,client_id:a||null,description:l,start_date:c?nt(c,"yyyy-MM-dd"):null,due_date:u?nt(u,"yyyy-MM-dd"):null,status:x,notes:g});if(F)throw F},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),Qt({title:"Success",description:"Project created successfully"}),e("/projects")},onError:P=>{Qt({title:"Error",description:P.message,variant:"destructive"})}});return s.jsx(dt,{children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"New Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Create a new custom project"})]}),s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"name",children:"Project Name *"}),s.jsx(Ie,{id:"name",value:r,onChange:P=>n(P.target.value),placeholder:"Project name"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client",children:"Client"}),s.jsxs(pn,{value:a,onValueChange:i,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select client (optional)"})}),s.jsx(ln,{children:w==null?void 0:w.map(P=>s.jsx(ht,{value:P.id,children:P.name},P.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"description",children:"Description"}),s.jsx(zr,{id:"description",value:l,onChange:P=>o(P.target.value),placeholder:"Project description",rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Start Date"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),c?nt(c,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:c,onSelect:d,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Due Date"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!u&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),u?nt(u,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:u,onSelect:p,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"status",children:"Status"}),s.jsxs(pn,{value:x,onValueChange:f,children:[s.jsx(on,{children:s.jsx(xn,{})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"design",children:"Design"}),s.jsx(ht,{value:"production",children:"Production"}),s.jsx(ht,{value:"delivery",children:"Delivery"}),s.jsx(ht,{value:"completed",children:"Completed"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"notes",children:"Notes"}),s.jsx(zr,{id:"notes",value:g,onChange:P=>b(P.target.value),placeholder:"Additional notes",rows:3})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(je,{variant:"outline",onClick:()=>e("/projects"),children:"Cancel"}),s.jsx(je,{onClick:()=>j.mutate(),disabled:!r||j.isPending,children:"Create Project"})]})]})})},ST=()=>{var o;const{id:e}=Ms(),t=Zt(),r=Rr(),{data:n,isLoading:a}=_t({queryKey:["project",e],queryFn:async()=>{const{data:c}=await xe.from("projects").select("*, clients(name)").eq("id",e).single();return c}}),i=lr({mutationFn:async()=>{const{error:c}=await xe.from("projects").delete().eq("id",e);if(c)throw c},onSuccess:()=>{r.invalidateQueries({queryKey:["projects"]}),Qt({title:"Success",description:"Project deleted successfully"}),t("/projects")},onError:c=>{Qt({title:"Error",description:c.message,variant:"destructive"})}}),l=c=>({design:"bg-blue-500",production:"bg-yellow-500",delivery:"bg-green-500",completed:"bg-gray-500"})[c]||"bg-gray-500";return a?s.jsx(dt,{children:s.jsx("div",{className:"space-y-6",children:s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"})})})}):n?s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t("/projects"),children:s.jsx(Sn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.name}),s.jsx(yr,{className:l(n.status||"design"),children:(o=n.status)==null?void 0:o.toUpperCase()})]}),n.clients&&s.jsx("p",{className:"text-muted-foreground",children:n.clients.name})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>t(`/projects/${e}/edit`),children:[s.jsx(kc,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(du,{children:[s.jsx(uu,{asChild:!0,children:s.jsxs(je,{variant:"outline",size:"sm",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Delete"]})}),s.jsxs(Ec,{children:[s.jsxs(Tc,{children:[s.jsx(Ic,{children:"Delete Project?"}),s.jsx(Rc,{children:"This action cannot be undone."})]}),s.jsxs(Fc,{children:[s.jsx(Oc,{children:"Cancel"}),s.jsx(Mc,{onClick:()=>i.mutate(),children:"Delete"})]})]})]})]})]}),s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Project Details"}),s.jsxs("div",{className:"space-y-3",children:[n.clients&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Client:"}),s.jsx("span",{className:"font-medium",children:n.clients.name})]}),n.start_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.start_date),"dd MMM yyyy")})]}),n.due_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.due_date),"dd MMM yyyy")})]}),n.completion_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Completion Date:"}),s.jsx("span",{className:"font-medium",children:nt(new Date(n.completion_date),"dd MMM yyyy")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(yr,{className:l(n.status||"design"),children:n.status})]})]})]}),n.description&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:n.description})]}),n.notes&&s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:n.notes})]})]})}):s.jsx(dt,{children:s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Project not found"}),s.jsxs(je,{onClick:()=>t("/projects"),children:[s.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Back to Projects"]})]})})})},kT=()=>{const{id:e}=Ms(),t=Zt(),r=Rr(),[n,a]=S.useState(""),[i,l]=S.useState(""),[o,c]=S.useState(""),[d,u]=S.useState(),[p,x]=S.useState(),[f,g]=S.useState("design"),[b,w]=S.useState(""),{data:j,isLoading:P}=_t({queryKey:["project",e],queryFn:async()=>{const{data:z}=await xe.from("projects").select("*").eq("id",e).single();return z}});S.useEffect(()=>{j&&(a(j.name),l(j.client_id||""),c(j.description||""),j.start_date&&u(new Date(j.start_date)),j.due_date&&x(new Date(j.due_date)),g(j.status||"design"),w(j.notes||""))},[j]);const{data:F}=_t({queryKey:["clients"],queryFn:async()=>{const{data:z}=await xe.from("clients").select("*").order("name");return z||[]}}),D=lr({mutationFn:async()=>{const{error:z}=await xe.from("projects").update({name:n,client_id:i||null,description:o,start_date:d?nt(d,"yyyy-MM-dd"):null,due_date:p?nt(p,"yyyy-MM-dd"):null,status:f,notes:b}).eq("id",e);if(z)throw z},onSuccess:()=>{r.invalidateQueries({queryKey:["project",e]}),r.invalidateQueries({queryKey:["projects"]}),Qt({title:"Success",description:"Project updated successfully"}),t(`/projects/${e}`)},onError:z=>{Qt({title:"Error",description:z.message,variant:"destructive"})}});return P?s.jsx(dt,{children:s.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"})})})}):s.jsx(dt,{children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Update project details"})]}),s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"name",children:"Project Name *"}),s.jsx(Ie,{id:"name",value:n,onChange:z=>a(z.target.value)})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"client",children:"Client"}),s.jsxs(pn,{value:i,onValueChange:l,children:[s.jsx(on,{children:s.jsx(xn,{placeholder:"Select client (optional)"})}),s.jsx(ln,{children:F==null?void 0:F.map(z=>s.jsx(ht,{value:z.id,children:z.name},z.id))})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"description",children:"Description"}),s.jsx(zr,{id:"description",value:o,onChange:z=>c(z.target.value),rows:3})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Start Date"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!d&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),d?nt(d,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:d,onSelect:u,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Due Date"}),s.jsxs(Qn,{children:[s.jsx(Xn,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:We("w-full justify-start text-left font-normal",!p&&"text-muted-foreground"),children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),p?nt(p,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx($n,{className:"w-auto p-0",children:s.jsx(Jn,{mode:"single",selected:p,onSelect:x,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"status",children:"Status"}),s.jsxs(pn,{value:f,onValueChange:g,children:[s.jsx(on,{children:s.jsx(xn,{})}),s.jsxs(ln,{children:[s.jsx(ht,{value:"design",children:"Design"}),s.jsx(ht,{value:"production",children:"Production"}),s.jsx(ht,{value:"delivery",children:"Delivery"}),s.jsx(ht,{value:"completed",children:"Completed"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"notes",children:"Notes"}),s.jsx(zr,{id:"notes",value:b,onChange:z=>w(z.target.value),rows:3})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(je,{variant:"outline",onClick:()=>t(`/projects/${e}`),children:"Cancel"}),s.jsx(je,{onClick:()=>D.mutate(),disabled:!n||D.isPending,children:"Update Project"})]})]})})},CT=()=>{const{toast:e}=kn(),t=Rr(),[r,n]=S.useState(""),[a,i]=S.useState(""),{data:l}=_t({queryKey:["profile"],queryFn:async()=>{const{data:{user:x}}=await xe.auth.getUser(),{data:f}=await xe.from("profiles").select("*").eq("user_id",x==null?void 0:x.id).single();return f}}),[o,c]=S.useState({name:"",email:"",phone:"",department:""}),d=lr({mutationFn:async x=>{const{data:{user:f}}=await xe.auth.getUser(),{error:g}=await xe.from("profiles").update(x).eq("user_id",f==null?void 0:f.id);if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["profile"]}),e({title:"Success",description:"Profile updated successfully"})},onError:x=>{e({title:"Error",description:x.message,variant:"destructive"})}}),u=lr({mutationFn:async x=>{const{error:f}=await xe.auth.updateUser({password:x});if(f)throw f},onSuccess:()=>{e({title:"Success",description:"Password updated successfully"}),n(""),i("")},onError:x=>{e({title:"Error",description:x.message,variant:"destructive"})}}),p=()=>{if(r!==a){e({title:"Error",description:"Passwords do not match",variant:"destructive"});return}u.mutate(r)};return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Profile Information"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Full Name"}),s.jsx(Ie,{id:"name",value:o.name||(l==null?void 0:l.name),onChange:x=>c({...o,name:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(Ie,{id:"email",type:"email",value:o.email||(l==null?void 0:l.email),onChange:x=>c({...o,email:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Phone"}),s.jsx(Ie,{id:"phone",value:o.phone||(l==null?void 0:l.phone),onChange:x=>c({...o,phone:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"department",children:"Department"}),s.jsx(Ie,{id:"department",value:o.department||(l==null?void 0:l.department),onChange:x=>c({...o,department:x.target.value})})]}),s.jsx(je,{onClick:()=>d.mutate(o),disabled:d.isPending,children:"Save Changes"})]})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Change Password"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"newPassword",children:"New Password"}),s.jsx(Ie,{id:"newPassword",type:"password",value:r,onChange:x=>n(x.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(Ie,{id:"confirmPassword",type:"password",value:a,onChange:x=>i(x.target.value)})]}),s.jsx(je,{onClick:p,disabled:u.isPending||!r,children:"Update Password"})]})]})]})]})})},AT=()=>{const{data:e,isLoading:t}=_t({queryKey:["activities"],queryFn:async()=>{var a;const{data:r}=await xe.from("profiles").select("company_id").eq("user_id",(a=(await xe.auth.getUser()).data.user)==null?void 0:a.id).single(),{data:n}=await xe.from("activity_log").select("*").eq("company_id",r==null?void 0:r.company_id).order("activity_date",{ascending:!1}).limit(100);return n}});return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Activity Log"}),s.jsx("p",{className:"text-muted-foreground",children:"View recent system activities and changes"})]}),s.jsx(_e,{children:s.jsxs(yu,{children:[s.jsx(bu,{children:s.jsxs(wi,{children:[s.jsx(Kr,{children:"Date & Time"}),s.jsx(Kr,{children:"Activity"}),s.jsx(Kr,{children:"Entity Type"}),s.jsx(Kr,{children:"IP Address"})]})}),s.jsx(wu,{children:e==null?void 0:e.map(r=>s.jsxs(wi,{children:[s.jsx(Zr,{children:new Date(r.activity_date).toLocaleString()}),s.jsx(Zr,{children:r.activity}),s.jsx(Zr,{children:r.entity_type||"-"}),s.jsx(Zr,{className:"font-mono text-sm",children:r.ip_address||"-"})]},r.id))})]})})]})})},PT=()=>{const{toast:e}=kn(),[t,r]=S.useState(""),[n,a]=S.useState(""),[i,l]=S.useState(!1),[o,c]=S.useState(null),{data:d}=_t({queryKey:["client-invoices",o],enabled:!!o&&i,queryFn:async()=>{const{data:x}=await xe.from("invoices").select("*").eq("client_id",o).order("created_at",{ascending:!1});return x}}),u=async x=>{x.preventDefault();const{data:f,error:g}=await xe.from("client_portal_access").select("*, clients(*)").eq("email",t).eq("is_active",!0).single();if(g||!f){e({title:"Error",description:"Invalid credentials",variant:"destructive"});return}c(f.client_id),l(!0),e({title:"Success",description:"Logged in successfully"})},p=x=>`${parseFloat(x.toString()).toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return i?s.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Invoices"}),s.jsx("p",{className:"text-muted-foreground",children:"View and download your invoices"})]}),s.jsx(je,{variant:"outline",onClick:()=>l(!1),children:"Logout"})]}),s.jsx("div",{className:"grid gap-4",children:d==null?void 0:d.map(x=>s.jsx(_e,{children:s.jsx(wt,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(_o,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:x.invoice_number}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issued: ",new Date(x.issue_date).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-lg",children:p(x.total)}),s.jsx(yr,{variant:x.status==="paid"?"default":"secondary",children:x.status})]}),s.jsx(je,{size:"icon",variant:"outline",children:s.jsx(wo,{className:"h-4 w-4"})})]})]})})},x.id))})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(_e,{className:"w-full max-w-md",children:[s.jsxs(Ct,{children:[s.jsx(Pt,{className:"text-2xl text-center",children:"Client Portal"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Access your invoices and payment history"})]}),s.jsx(wt,{children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(Ie,{id:"email",type:"email",value:t,onChange:x=>r(x.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"password",children:"Password"}),s.jsx(Ie,{id:"password",type:"password",value:n,onChange:x=>a(x.target.value),required:!0})]}),s.jsx(je,{type:"submit",className:"w-full",children:"Login"})]})})]})})};var Rf="Switch",[LT,tI]=Zs(Rf),[DT,ET]=LT(Rf),ej=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...p}=e,[x,f]=S.useState(null),g=cn(t,F=>f(F)),b=S.useRef(!1),w=x?u||!!x.closest("form"):!0,[j,P]=Sc({prop:a,defaultProp:i??!1,onChange:d,caller:Rf});return s.jsxs(DT,{scope:r,checked:j,disabled:o,children:[s.jsx(cr.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":sj(j),"data-disabled":o?"":void 0,disabled:o,value:c,...p,ref:g,onClick:Xt(e.onClick,F=>{P(D=>!D),w&&(b.current=F.isPropagationStopped(),b.current||F.stopPropagation())})}),w&&s.jsx(nj,{control:x,bubbles:!b.current,name:n,value:c,checked:j,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});ej.displayName=Rf;var tj="SwitchThumb",rj=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=ET(tj,r);return s.jsx(cr.span,{"data-state":sj(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});rj.displayName=tj;var TT="SwitchBubbleInput",nj=S.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const l=S.useRef(null),o=cn(l,i),c=x0(r),d=g0(t);return S.useEffect(()=>{const u=l.current;if(!u)return;const p=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&f){const g=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nj.displayName=TT;function sj(e){return e?"checked":"unchecked"}var aj=ej,FT=rj;const Yi=S.forwardRef(({className:e,...t},r)=>s.jsx(aj,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(FT,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yi.displayName=aj.displayName;const IT=()=>{const{toast:e}=kn(),t=Rr(),{data:r}=_t({queryKey:["recurring-invoices"],queryFn:async()=>{var o;const{data:i}=await xe.from("profiles").select("company_id").eq("user_id",(o=(await xe.auth.getUser()).data.user)==null?void 0:o.id).single(),{data:l}=await xe.from("recurring_invoices").select("*, clients(name)").eq("company_id",i==null?void 0:i.company_id).order("created_at",{ascending:!1});return l}}),{data:n}=_t({queryKey:["notifications"],queryFn:async()=>{var o;const{data:i}=await xe.from("profiles").select("company_id").eq("user_id",(o=(await xe.auth.getUser()).data.user)==null?void 0:o.id).single(),{data:l}=await xe.from("notifications").select("*").eq("company_id",i==null?void 0:i.company_id).order("created_at",{ascending:!1}).limit(50);return l}}),a=lr({mutationFn:async({id:i,is_active:l})=>{const{error:o}=await xe.from("recurring_invoices").update({is_active:l}).eq("id",i);if(o)throw o},onSuccess:()=>{t.invalidateQueries({queryKey:["recurring-invoices"]}),e({title:"Success",description:"Recurring invoice updated"})}});return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Automation"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage recurring invoices, reminders, and automated workflows"})]}),s.jsxs(Dc,{defaultValue:"recurring",children:[s.jsxs(fl,{children:[s.jsxs(Br,{value:"recurring",children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),"Recurring Invoices"]}),s.jsxs(Br,{value:"reminders",children:[s.jsx(oc,{className:"mr-2 h-4 w-4"}),"Reminders"]}),s.jsxs(Br,{value:"stock",children:[s.jsx(hl,{className:"mr-2 h-4 w-4"}),"Stock Alerts"]})]}),s.jsx(Nn,{value:"recurring",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Recurring Invoices"})}),s.jsxs(wt,{className:"space-y-4",children:[r==null?void 0:r.map(i=>{var l;return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(l=i.clients)==null?void 0:l.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.frequency,"  Next: ",new Date(i.next_invoice_date).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(yr,{variant:i.is_active?"default":"secondary",children:i.is_active?"Active":"Paused"}),s.jsx(Yi,{checked:i.is_active,onCheckedChange:o=>a.mutate({id:i.id,is_active:o})})]})]},i.id)}),!(r!=null&&r.length)&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recurring invoices set up yet"})]})]})}),s.jsx(Nn,{value:"reminders",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Payment Reminders"})}),s.jsx(wt,{children:s.jsxs("div",{className:"space-y-3",children:[n==null?void 0:n.filter(i=>i.type==="payment_reminder").map(i=>s.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(i.sent_at).toLocaleString()})]}),!i.is_read&&s.jsx(yr,{variant:"default",children:"New"})]},i.id)),!(n!=null&&n.filter(i=>i.type==="payment_reminder").length)&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No payment reminders"})]})})]})}),s.jsx(Nn,{value:"stock",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Low Stock Alerts"})}),s.jsx(wt,{children:s.jsxs("div",{className:"space-y-3",children:[n==null?void 0:n.filter(i=>i.type==="low_stock").map(i=>s.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(i.sent_at).toLocaleString()})]}),s.jsx(yr,{variant:"destructive",children:"Alert"})]},i.id)),!(n!=null&&n.filter(i=>i.type==="low_stock").length)&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No stock alerts"})]})})]})})]})]})})},RT=()=>{const{toast:e}=kn(),t=Rr(),[r,n]=S.useState(!1),[a,i]=S.useState({name:"",url:"",events:[]}),l=["invoice.created","invoice.updated","invoice.paid","payment.received","client.created","product.updated"],{data:o}=_t({queryKey:["webhooks"],queryFn:async()=>{var f;const{data:p}=await xe.from("profiles").select("company_id").eq("user_id",(f=(await xe.auth.getUser()).data.user)==null?void 0:f.id).single(),{data:x}=await xe.from("webhooks").select("*").eq("company_id",p==null?void 0:p.company_id).order("created_at",{ascending:!1});return x}}),c=lr({mutationFn:async p=>{var g;const{data:x}=await xe.from("profiles").select("company_id").eq("user_id",(g=(await xe.auth.getUser()).data.user)==null?void 0:g.id).single(),{error:f}=await xe.from("webhooks").insert([{...p,company_id:x==null?void 0:x.company_id}]);if(f)throw f},onSuccess:()=>{t.invalidateQueries({queryKey:["webhooks"]}),e({title:"Success",description:"Webhook created successfully"}),n(!1),i({name:"",url:"",events:[]})},onError:p=>{e({title:"Error",description:p.message,variant:"destructive"})}}),d=lr({mutationFn:async({id:p,is_active:x})=>{const{error:f}=await xe.from("webhooks").update({is_active:x}).eq("id",p);if(f)throw f},onSuccess:()=>{t.invalidateQueries({queryKey:["webhooks"]}),e({title:"Success",description:"Webhook updated"})}}),u=lr({mutationFn:async p=>{const{error:x}=await xe.from("webhooks").delete().eq("id",p);if(x)throw x},onSuccess:()=>{t.invalidateQueries({queryKey:["webhooks"]}),e({title:"Success",description:"Webhook deleted"})}});return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Webhooks"}),s.jsx("p",{className:"text-muted-foreground",children:"Connect external services with webhook notifications"})]}),s.jsxs(U0,{open:r,onOpenChange:n,children:[s.jsx(Yb,{asChild:!0,children:s.jsxs(je,{children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"New Webhook"]})}),s.jsxs(_f,{children:[s.jsx(jf,{children:s.jsx(Nf,{children:"Create Webhook"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Name"}),s.jsx(Ie,{id:"name",value:a.name,onChange:p=>i({...a,name:p.target.value}),placeholder:"My Webhook"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"url",children:"Webhook URL"}),s.jsx(Ie,{id:"url",value:a.url,onChange:p=>i({...a,url:p.target.value}),placeholder:"https://example.com/webhook"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Events to Subscribe"}),s.jsx("div",{className:"space-y-2",children:l.map(p=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pf,{id:p,checked:a.events.includes(p),onCheckedChange:x=>{i(x?{...a,events:[...a.events,p]}:{...a,events:a.events.filter(f=>f!==p)})}}),s.jsx(fe,{htmlFor:p,className:"cursor-pointer",children:p})]},p))})]}),s.jsx(je,{onClick:()=>c.mutate(a),disabled:c.isPending,className:"w-full",children:"Create Webhook"})]})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Configured Webhooks"})}),s.jsxs(wt,{className:"space-y-4",children:[o==null?void 0:o.map(p=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:p.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.url})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{variant:p.is_active?"default":"secondary",children:p.is_active?"Active":"Inactive"}),s.jsx(je,{size:"icon",variant:"ghost",onClick:()=>d.mutate({id:p.id,is_active:!p.is_active}),children:p.is_active?s.jsx(AN,{className:"h-4 w-4"}):s.jsx(CN,{className:"h-4 w-4"})}),s.jsx(je,{size:"icon",variant:"ghost",onClick:()=>u.mutate(p.id),children:s.jsx(Qs,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.events.map(x=>s.jsx(yr,{variant:"outline",children:x},x))})]},p.id)),!(o!=null&&o.length)&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No webhooks configured yet"})]})]})]})})},MT=({planId:e,currency:t,amount:r,onSuccess:n})=>{const[a,i]=S.useState("stripe"),[l,o]=S.useState(""),[c,d]=S.useState(!1),{toast:u}=kn(),p=t==="USD"?[{id:"stripe",name:"Credit/Debit Card (Stripe)",icon:io},{id:"sslcommerz",name:"Credit/Debit Card (SSLCommerz)",icon:io}]:[{id:"stripe",name:"Credit/Debit Card (Stripe)",icon:io},{id:"sslcommerz",name:"Credit/Debit Card (SSLCommerz)",icon:io},{id:"bkash",name:"bKash",icon:bm},{id:"nagad",name:"Nagad",icon:bm},{id:"rocket",name:"Rocket",icon:bm}],x=async()=>{var f;d(!0);try{let g;if(a==="stripe")g=await xe.functions.invoke("stripe-checkout",{body:{planId:e,currency:t}});else if(a==="sslcommerz")g=await xe.functions.invoke("sslcommerz-payment",{body:{planId:e,currency:t}});else if(a==="bkash"||a==="nagad"||a==="rocket"){if(!l){u({title:"Phone number required",description:`Please enter your ${a} phone number`,variant:"destructive"}),d(!1);return}g=await xe.functions.invoke(`${a}-payment`,{body:{planId:e,phoneNumber:l}})}if(g.error)throw g.error;u({title:"Payment initiated",description:((f=g.data)==null?void 0:f.message)||"Redirecting to payment gateway..."}),setTimeout(()=>{n()},2e3)}catch(g){console.error("Payment error:",g),u({title:"Payment failed",description:g.message||"Failed to process payment",variant:"destructive"})}finally{d(!1)}};return s.jsxs(_e,{children:[s.jsxs(Ct,{children:[s.jsx(Pt,{children:"Select Payment Method"}),s.jsxs(go,{children:["Amount to pay: ",t==="BDT"?"":"$",r]})]}),s.jsxs(wt,{className:"space-y-4",children:[s.jsx(W0,{value:a,onValueChange:i,children:p.map(f=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uh,{value:f.id,id:f.id}),s.jsxs(fe,{htmlFor:f.id,className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(f.icon,{className:"h-4 w-4"}),f.name]})]},f.id))}),(a==="bkash"||a==="nagad"||a==="rocket")&&s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Ie,{id:"phone",type:"tel",placeholder:"01XXXXXXXXX",value:l,onChange:f=>o(f.target.value)})]}),s.jsx(je,{onClick:x,className:"w-full",disabled:c,children:c?"Processing...":`Pay ${t==="BDT"?"":"$"}${r}`})]})]})};var wx="Progress",_x=100,[OT,rI]=Zs(wx),[qT,BT]=OT(wx),ij=S.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=zT,...l}=e;(a||a===0)&&!Zv(a)&&console.error(UT(`${a}`,"Progress"));const o=Zv(a)?a:_x;n!==null&&!Qv(n,o)&&console.error($T(`${n}`,"Progress"));const c=Qv(n,o)?n:null,d=of(c)?i(c,o):void 0;return s.jsx(qT,{scope:r,value:c,max:o,children:s.jsx(cr.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":of(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":cj(c,o),"data-value":c??void 0,"data-max":o,...l,ref:t})})});ij.displayName=wx;var oj="ProgressIndicator",lj=S.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=BT(oj,r);return s.jsx(cr.div,{"data-state":cj(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});lj.displayName=oj;function zT(e,t){return`${Math.round(e/t*100)}%`}function cj(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function of(e){return typeof e=="number"}function Zv(e){return of(e)&&!isNaN(e)&&e>0}function Qv(e,t){return of(e)&&!isNaN(e)&&e<=t&&e>=0}function UT(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_x}\`.`}function $T(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_x} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dj=ij,WT=lj;const lf=S.forwardRef(({className:e,value:t,...r},n)=>s.jsx(dj,{ref:n,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(WT,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));lf.displayName=dj.displayName;const VT=()=>{var o;const{user:e,subscription:t}=Wn(),{data:r}=_t({queryKey:["ai-usage",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:c}=await xe.from("profiles").select("company_id").eq("user_id",e.id).single();if(!c)return null;const d=new Date;d.setDate(1),d.setHours(0,0,0,0);const{data:u,error:p}=await xe.from("ai_usage").select("*").eq("company_id",c.company_id).gte("created_at",d.toISOString());if(p)throw p;const x=(u==null?void 0:u.length)||0,f=(u==null?void 0:u.reduce((w,j)=>w+(j.cost_bdt||0),0))||0,g=(u==null?void 0:u.reduce((w,j)=>w+(j.cost_usd||0),0))||0,b=(u==null?void 0:u.reduce((w,j)=>w+(j.tokens_used||0),0))||0;return{totalQueries:x,totalCostBDT:f,totalCostUSD:g,totalTokens:b,records:u||[]}},enabled:!!e}),n=((o=t==null?void 0:t.plan)==null?void 0:o.ai_queries_limit)||0,a=n>0?Math.min(((r==null?void 0:r.totalQueries)||0)/n*100,100):0,i=a>=80,l=((r==null?void 0:r.totalQueries)||0)>n&&n>0;return s.jsx("div",{className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(Ct,{children:[s.jsxs(Pt,{className:"flex items-center gap-2",children:[s.jsx(uy,{className:"h-5 w-5 text-primary"}),"AI Usage This Month"]}),s.jsx(go,{children:"Track your AI assistant queries and costs"})]}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Queries"}),s.jsx("p",{className:"text-2xl font-bold",children:(r==null?void 0:r.totalQueries)||0}),n>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",n," included"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tokens Used"}),s.jsx("p",{className:"text-2xl font-bold",children:((r==null?void 0:r.totalTokens)||0).toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["~",Math.round(((r==null?void 0:r.totalTokens)||0)/1e3),"K tokens"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cost"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-2xl font-bold",children:["",((r==null?void 0:r.totalCostBDT)||0).toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",((r==null?void 0:r.totalCostUSD)||0).toFixed(2)," USD"]})]})]})]}),n>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Usage"}),s.jsxs("span",{className:l?"text-destructive font-semibold":"",children:[a.toFixed(0),"%"]})]}),s.jsx(lf,{value:a,className:l?"bg-destructive/20":i?"bg-orange-500/20":""})]}),l&&s.jsxs(cc,{variant:"destructive",children:[s.jsx(_0,{className:"h-4 w-4"}),s.jsx(dc,{children:"You've exceeded your monthly AI query limit. Additional usage will be billed separately."})]}),i&&!l&&s.jsxs(cc,{children:[s.jsx(Cc,{className:"h-4 w-4"}),s.jsx(dc,{children:"You're approaching your monthly limit. Consider upgrading to avoid extra charges."})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg text-sm space-y-1",children:[s.jsxs("p",{className:"font-semibold flex items-center gap-1",children:[s.jsx(ff,{className:"h-4 w-4"}),"Usage-Based Pricing"]}),s.jsx("p",{className:"text-muted-foreground",children:"Additional queries: 5 per 100 queries (or $0.05 USD)"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Unlimited AI queries available with Lifetime plan"})]})]})]})})},HT=()=>{var u,p,x;const{subscription:e,refreshSubscription:t}=Wn(),[r,n]=S.useState(!1),[a,i]=S.useState([]),[l,o]=S.useState({total:0,cost_bdt:0,cost_usd:0});S.useEffect(()=>{c()},[]);const c=async()=>{const{data:{user:f}}=await xe.auth.getUser();if(!f)return;const{data:g}=await xe.from("profiles").select("company_id").eq("user_id",f.id).single();if(!g)return;const{data:b}=await xe.from("payment_transactions").select("*").eq("company_id",g.company_id).order("created_at",{ascending:!1}).limit(10);i(b||[]);const{data:w}=await xe.from("ai_usage").select("tokens_used, cost_bdt, cost_usd").eq("company_id",g.company_id);if(w){const j=w.reduce((P,F)=>({total:P.total+(F.tokens_used||0),cost_bdt:P.cost_bdt+(F.cost_bdt||0),cost_usd:P.cost_usd+(F.cost_usd||0)}),{total:0,cost_bdt:0,cost_usd:0});o(j)}},d=f=>{switch(f){case"active":return"bg-green-500";case"trial":return"bg-blue-500";case"cancelled":return"bg-red-500";case"expired":return"bg-gray-500";default:return"bg-gray-500"}};return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Billing & Subscription"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription and payment methods"})]}),s.jsxs(_e,{children:[s.jsxs(Ct,{children:[s.jsxs(Pt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Current Subscription"}),s.jsx(yr,{className:d((e==null?void 0:e.status)||"inactive"),children:(e==null?void 0:e.status)||"No subscription"})]}),s.jsxs(go,{children:[(u=e==null?void 0:e.plan)==null?void 0:u.name," Plan"]})]}),s.jsxs(wt,{className:"space-y-4",children:[e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Currency"}),s.jsx("p",{className:"text-lg font-semibold",children:e.currency})]}),e.trial_ends_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Ends"}),s.jsx("p",{className:"text-lg font-semibold",children:nt(new Date(e.trial_ends_at),"MMM dd, yyyy")})]}),e.current_period_end&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Renewal Date"}),s.jsx("p",{className:"text-lg font-semibold",children:nt(new Date(e.current_period_end),"MMM dd, yyyy")})]})]}),!r&&s.jsxs(je,{onClick:()=>n(!0),className:"w-full",children:[s.jsx(io,{className:"mr-2 h-4 w-4"}),"Upgrade Plan"]})]}),r&&e&&s.jsx(MT,{planId:e.plan_id,currency:e.currency,amount:e.currency==="BDT"?((p=e.plan)==null?void 0:p.price_bdt)||0:((x=e.plan)==null?void 0:x.price_usd)||0,onSuccess:()=>{n(!1),t()}})]})]}),s.jsx(VT,{}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsxs(Pt,{className:"flex items-center gap-2",children:[s.jsx(Cc,{className:"h-5 w-5"}),"Payment History"]})}),s.jsx(wt,{children:a.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No payment history yet"}):s.jsx("div",{className:"space-y-2",children:a.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:f.payment_method.toUpperCase()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:nt(new Date(f.created_at),"MMM dd, yyyy")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:[f.currency==="BDT"?"":"$",f.amount_bdt||f.amount_usd]}),s.jsx(yr,{variant:f.status==="completed"?"default":"secondary",children:f.status})]})]},f.id))})})]})]})})},YT=()=>{const[e,t]=S.useState({inventory:!0,quotes:!0,invoices:!0,clients:!0,vendors:!0,analytics:!0}),[r,n]=S.useState(!1),{toast:a}=kn();S.useEffect(()=>{i()},[]);const i=async()=>{const{data:{user:c}}=await xe.auth.getUser();if(!c)return;const{data:d}=await xe.from("profiles").select("company_id").eq("user_id",c.id).single();if(!d)return;const{data:u}=await xe.from("dashboard_customization").select("visible_modules").eq("company_id",d.company_id).single();if(u!=null&&u.visible_modules){const p=u.visible_modules;t({inventory:p.includes("inventory"),quotes:p.includes("quotes"),invoices:p.includes("invoices"),clients:p.includes("clients"),vendors:p.includes("vendors"),analytics:p.includes("analytics")})}},l=async()=>{n(!0);try{const{data:{user:c}}=await xe.auth.getUser();if(!c)return;const{data:d}=await xe.from("profiles").select("company_id").eq("user_id",c.id).single();if(!d)return;const u=Object.entries(e).filter(([x,f])=>f).map(([x])=>x),{error:p}=await xe.from("dashboard_customization").update({visible_modules:u}).eq("company_id",d.company_id);if(p)throw p;a({title:"Settings saved",description:"Your dashboard customization has been updated"})}catch(c){console.error("Save error:",c),a({title:"Error",description:"Failed to save settings",variant:"destructive"})}finally{n(!1)}},o=c=>{t(d=>({...d,[c]:!d[c]}))};return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Customize which modules appear on your dashboard"})]}),s.jsxs(_e,{children:[s.jsxs(Ct,{children:[s.jsxs(Pt,{className:"flex items-center gap-2",children:[s.jsx(wN,{className:"h-5 w-5"}),"Visible Modules"]}),s.jsx(go,{children:"Toggle modules on/off to customize your dashboard experience"})]}),s.jsxs(wt,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{htmlFor:"inventory",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Inventory Management"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Manage products and stock levels"})]}),s.jsx(Yi,{id:"inventory",checked:e.inventory,onCheckedChange:()=>o("inventory")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{htmlFor:"quotes",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Quotation System"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Create and manage quotes"})]}),s.jsx(Yi,{id:"quotes",checked:e.quotes,onCheckedChange:()=>o("quotes")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{htmlFor:"invoices",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Invoice Management"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Track invoices and payments"})]}),s.jsx(Yi,{id:"invoices",checked:e.invoices,onCheckedChange:()=>o("invoices")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{htmlFor:"clients",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Customer Management"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Manage client relationships"})]}),s.jsx(Yi,{id:"clients",checked:e.clients,onCheckedChange:()=>o("clients")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{htmlFor:"vendors",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Vendor Management"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Track vendors and expenses"})]}),s.jsx(Yi,{id:"vendors",checked:e.vendors,onCheckedChange:()=>o("vendors")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{htmlFor:"analytics",className:"flex flex-col gap-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Business Analytics"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"View reports and insights"})]}),s.jsx(Yi,{id:"analytics",checked:e.analytics,onCheckedChange:()=>o("analytics")})]})]}),s.jsxs(je,{onClick:l,disabled:r,className:"w-full",children:[s.jsx(NN,{className:"mr-2 h-4 w-4"}),r?"Saving...":"Save Settings"]})]})]})]})})},GT={};var o0=null;function KT(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return GT.randomBytes(e)}catch{}if(!o0)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return o0(e)}function ZT(e){o0=e}function jx(e,t){if(e=e||Nx,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(cf(KT(Xd),Xd)),r.join("")}function uj(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=Nx;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(a){ma(function(){try{a(null,jx(e))}catch(i){a(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(a,i){n(function(l,o){if(l){i(l);return}a(o)})})}function hj(e,t){if(typeof t>"u"&&(t=Nx),typeof t=="number"&&(t=jx(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return l0(e,t)}function fj(e,t,r,n){function a(i){typeof e=="string"&&typeof t=="number"?uj(t,function(l,o){l0(e,o,i,n)}):typeof e=="string"&&typeof t=="string"?l0(e,t,i,n):ma(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);a(r)}else return new Promise(function(i,l){a(function(o,c){if(o){l(o);return}i(c)})})}function mj(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function QT(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:mj(hj(e,t.substring(0,t.length-31)),t)}function XT(e,t,r,n){function a(i){if(typeof e!="string"||typeof t!="string"){ma(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){ma(i.bind(this,null,!1));return}fj(e,t.substring(0,29),function(l,o){l?i(l):i(null,mj(o,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);a(r)}else return new Promise(function(i,l){a(function(o,c){if(o){l(o);return}i(c)})})}function JT(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function eF(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function tF(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return pj(e)>72}var ma=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function pj(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function rF(e){for(var t=0,r,n,a=new Array(pj(e)),i=0,l=e.length;i<l;++i)r=e.charCodeAt(i),r<128?a[t++]=r:r<2048?(a[t++]=r>>6|192,a[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,a[t++]=r>>18|240,a[t++]=r>>12&63|128,a[t++]=r>>6&63|128,a[t++]=r&63|128):(a[t++]=r>>12|224,a[t++]=r>>6&63|128,a[t++]=r&63|128);return a}var Il="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Wi=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function cf(e,t){var r=0,n=[],a,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(a=e[r++]&255,n.push(Il[a>>2&63]),a=(a&3)<<4,r>=t){n.push(Il[a&63]);break}if(i=e[r++]&255,a|=i>>4&15,n.push(Il[a&63]),a=(i&15)<<2,r>=t){n.push(Il[a&63]);break}i=e[r++]&255,a|=i>>6&3,n.push(Il[a&63]),n.push(Il[i&63])}return n.join("")}function xj(e,t){var r=0,n=e.length,a=0,i=[],l,o,c,d,u,p;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&a<t&&(p=e.charCodeAt(r++),l=p<Wi.length?Wi[p]:-1,p=e.charCodeAt(r++),o=p<Wi.length?Wi[p]:-1,!(l==-1||o==-1||(u=l<<2>>>0,u|=(o&48)>>4,i.push(String.fromCharCode(u)),++a>=t||r>=n)||(p=e.charCodeAt(r++),c=p<Wi.length?Wi[p]:-1,c==-1)||(u=(o&15)<<4>>>0,u|=(c&60)>>2,i.push(String.fromCharCode(u)),++a>=t||r>=n)));)p=e.charCodeAt(r++),d=p<Wi.length?Wi[p]:-1,u=(c&3)<<6>>>0,u|=d,i.push(String.fromCharCode(u)),++a;var x=[];for(r=0;r<a;r++)x.push(i[r].charCodeAt(0));return x}var Xd=16,Nx=10,nF=16,sF=100,Xv=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Jv=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],gj=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Jd(e,t,r,n){var a,i=e[t],l=e[t+1];return i^=r[0],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],l^=a^r[1],a=n[l>>>24],a+=n[256|l>>16&255],a^=n[512|l>>8&255],a+=n[768|l&255],i^=a^r[2],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],l^=a^r[3],a=n[l>>>24],a+=n[256|l>>16&255],a^=n[512|l>>8&255],a+=n[768|l&255],i^=a^r[4],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],l^=a^r[5],a=n[l>>>24],a+=n[256|l>>16&255],a^=n[512|l>>8&255],a+=n[768|l&255],i^=a^r[6],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],l^=a^r[7],a=n[l>>>24],a+=n[256|l>>16&255],a^=n[512|l>>8&255],a+=n[768|l&255],i^=a^r[8],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],l^=a^r[9],a=n[l>>>24],a+=n[256|l>>16&255],a^=n[512|l>>8&255],a+=n[768|l&255],i^=a^r[10],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],l^=a^r[11],a=n[l>>>24],a+=n[256|l>>16&255],a^=n[512|l>>8&255],a+=n[768|l&255],i^=a^r[12],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],l^=a^r[13],a=n[l>>>24],a+=n[256|l>>16&255],a^=n[512|l>>8&255],a+=n[768|l&255],i^=a^r[14],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],l^=a^r[15],a=n[l>>>24],a+=n[256|l>>16&255],a^=n[512|l>>8&255],a+=n[768|l&255],i^=a^r[16],e[t]=l^r[nF+1],e[t+1]=i,e}function ql(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function e2(e,t,r){for(var n=0,a=[0,0],i=t.length,l=r.length,o,c=0;c<i;c++)o=ql(e,n),n=o.offp,t[c]=t[c]^o.key;for(c=0;c<i;c+=2)a=Jd(a,0,t,r),t[c]=a[0],t[c+1]=a[1];for(c=0;c<l;c+=2)a=Jd(a,0,t,r),r[c]=a[0],r[c+1]=a[1]}function aF(e,t,r,n){for(var a=0,i=[0,0],l=r.length,o=n.length,c,d=0;d<l;d++)c=ql(t,a),a=c.offp,r[d]=r[d]^c.key;for(a=0,d=0;d<l;d+=2)c=ql(e,a),a=c.offp,i[0]^=c.key,c=ql(e,a),a=c.offp,i[1]^=c.key,i=Jd(i,0,r,n),r[d]=i[0],r[d+1]=i[1];for(d=0;d<o;d+=2)c=ql(e,a),a=c.offp,i[0]^=c.key,c=ql(e,a),a=c.offp,i[1]^=c.key,i=Jd(i,0,r,n),n[d]=i[0],n[d+1]=i[1]}function t2(e,t,r,n,a){var i=gj.slice(),l=i.length,o;if(r<4||r>31)if(o=Error("Illegal number of rounds (4-31): "+r),n){ma(n.bind(this,o));return}else throw o;if(t.length!==Xd)if(o=Error("Illegal salt length: "+t.length+" != "+Xd),n){ma(n.bind(this,o));return}else throw o;r=1<<r>>>0;var c,d,u=0,p;typeof Int32Array=="function"?(c=new Int32Array(Xv),d=new Int32Array(Jv)):(c=Xv.slice(),d=Jv.slice()),aF(t,e,c,d);function x(){if(a&&a(u/r),u<r)for(var g=Date.now();u<r&&(u=u+1,e2(e,c,d),e2(t,c,d),!(Date.now()-g>sF)););else{for(u=0;u<64;u++)for(p=0;p<l>>1;p++)Jd(i,p<<1,c,d);var b=[];for(u=0;u<l;u++)b.push((i[u]>>24&255)>>>0),b.push((i[u]>>16&255)>>>0),b.push((i[u]>>8&255)>>>0),b.push((i[u]&255)>>>0);if(n){n(null,b);return}else return b}n&&ma(x)}if(typeof n<"u")x();else for(var f;;)if(typeof(f=x())<"u")return f||[]}function l0(e,t,r,n){var a;if(typeof e!="string"||typeof t!="string")if(a=Error("Invalid string / salt: Not a string"),r){ma(r.bind(this,a));return}else throw a;var i,l;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(a=Error("Invalid salt version: "+t.substring(0,2)),r){ma(r.bind(this,a));return}else throw a;if(t.charAt(2)==="$")i="\0",l=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+t.substring(2,4)),r){ma(r.bind(this,a));return}else throw a;l=4}if(t.charAt(l+2)>"$")if(a=Error("Missing salt rounds"),r){ma(r.bind(this,a));return}else throw a;var o=parseInt(t.substring(l,l+1),10)*10,c=parseInt(t.substring(l+1,l+2),10),d=o+c,u=t.substring(l+3,l+25);e+=i>="a"?"\0":"";var p=rF(e),x=xj(u,Xd);function f(g){var b=[];return b.push("$2"),i>="a"&&b.push(i),b.push("$"),d<10&&b.push("0"),b.push(d.toString()),b.push("$"),b.push(cf(x,x.length)),b.push(cf(g,gj.length*4-1)),b.join("")}if(typeof r>"u")return f(t2(p,x,d));t2(p,x,d,function(g,b){g?r(g,null):r(null,f(b))},n)}function iF(e,t){return cf(e,t)}function oF(e,t){return xj(e,t)}const lF={setRandomFallback:ZT,genSaltSync:jx,genSalt:uj,hashSync:hj,hash:fj,compareSync:QT,compare:XT,getRounds:JT,getSalt:eF,truncates:tF,encodeBase64:iF,decodeBase64:oF},cF=()=>{const{toast:e}=kn(),t=Rr(),[r,n]=S.useState(!1);S.useState(null);const[a,i]=S.useState(null),[l,o]=S.useState({name:"",permissions:[]}),c=["read:clients","write:clients","read:invoices","write:invoices","read:products","write:products","read:payments","write:payments"],{data:d}=_t({queryKey:["api-keys"],queryFn:async()=>{var w;const{data:g}=await xe.from("profiles").select("company_id").eq("user_id",(w=(await xe.auth.getUser()).data.user)==null?void 0:w.id).single(),{data:b}=await xe.from("api_keys").select("*").eq("company_id",g==null?void 0:g.company_id).order("created_at",{ascending:!1});return b}}),u=()=>{const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let b="ts_";for(let w=0;w<32;w++)b+=g.charAt(Math.floor(Math.random()*g.length));return b},p=lr({mutationFn:async g=>{var z;const{data:b}=await xe.from("profiles").select("company_id").eq("user_id",(z=(await xe.auth.getUser()).data.user)==null?void 0:z.id).single(),w=u(),j=w.substring(0,12)+"...",F=await lF.hash(w,10),{error:D}=await xe.from("api_keys").insert([{...g,company_id:b==null?void 0:b.company_id,key_hash:F,key_preview:j}]);if(D)throw D;return w},onSuccess:g=>{t.invalidateQueries({queryKey:["api-keys"]}),i(g),e({title:"Success",description:"API key created successfully"}),o({name:"",permissions:[]})},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}}),x=lr({mutationFn:async g=>{const{error:b}=await xe.from("api_keys").delete().eq("id",g);if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["api-keys"]}),e({title:"Success",description:"API key deleted"})}}),f=g=>{navigator.clipboard.writeText(g),e({title:"Copied",description:"API key copied to clipboard"})};return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"API Keys"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage API keys for external integrations"})]}),s.jsxs(U0,{open:r,onOpenChange:n,children:[s.jsx(Yb,{asChild:!0,children:s.jsxs(je,{children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"New API Key"]})}),s.jsxs(_f,{children:[s.jsx(jf,{children:s.jsx(Nf,{children:"Create API Key"})}),a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Save this key - it won't be shown again"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 text-sm font-mono",children:a}),s.jsx(je,{size:"icon",variant:"outline",onClick:()=>f(a),children:s.jsx(uN,{className:"h-4 w-4"})})]})]}),s.jsx(je,{onClick:()=>{i(null),n(!1)},className:"w-full",children:"Done"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Key Name"}),s.jsx(Ie,{id:"name",value:l.name,onChange:g=>o({...l,name:g.target.value}),placeholder:"Production API Key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Permissions"}),s.jsx("div",{className:"space-y-2",children:c.map(g=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pf,{id:g,checked:l.permissions.includes(g),onCheckedChange:b=>{o(b?{...l,permissions:[...l.permissions,g]}:{...l,permissions:l.permissions.filter(w=>w!==g)})}}),s.jsx(fe,{htmlFor:g,className:"cursor-pointer",children:g})]},g))})]}),s.jsx(je,{onClick:()=>p.mutate(l),disabled:p.isPending,className:"w-full",children:"Generate API Key"})]})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ct,{children:s.jsx(Pt,{children:"Your API Keys"})}),s.jsxs(wt,{className:"space-y-4",children:[d==null?void 0:d.map(g=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:g.name}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsx("code",{className:"text-sm font-mono",children:g.key_preview})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{variant:g.is_active?"default":"secondary",children:g.is_active?"Active":"Inactive"}),s.jsx(je,{size:"icon",variant:"ghost",onClick:()=>x.mutate(g.id),children:s.jsx(Qs,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.permissions.map(b=>s.jsx(yr,{variant:"outline",children:b},b))}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(g.created_at).toLocaleDateString(),g.last_used_at&&`  Last used: ${new Date(g.last_used_at).toLocaleDateString()}`]})]},g.id)),!(d!=null&&d.length)&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No API keys created yet"})]})]})]})})};function dF(){const{user:e}=Wn(),t=Rr(),r=Zt(),{toast:n}=kn(),[a,i]=S.useState("all"),{data:l,isLoading:o}=_t({queryKey:["notifications-page",e==null?void 0:e.id,a],queryFn:async()=>{if(!e)return[];let g=xe.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});a!=="all"&&(a==="unread"?g=g.eq("is_read",!1):g=g.eq("type",a));const{data:b}=await g;return b||[]},enabled:!!e}),c=lr({mutationFn:async g=>{await xe.from("notifications").update({is_read:!0}).eq("id",g)},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications-page"]}),t.invalidateQueries({queryKey:["notifications"]})}}),d=lr({mutationFn:async()=>{e&&await xe.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1)},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications-page"]}),t.invalidateQueries({queryKey:["notifications"]}),n({title:"All notifications marked as read"})}}),u=lr({mutationFn:async g=>{await xe.from("notifications").delete().eq("id",g)},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications-page"]}),t.invalidateQueries({queryKey:["notifications"]}),n({title:"Notification deleted"})}}),p=g=>{g.is_read||c.mutate(g.id),g.entity_type==="product"&&g.entity_id?r(`/products/${g.entity_id}`):g.entity_type==="invoice"&&g.entity_id?r(`/invoices/${g.entity_id}`):g.entity_type==="subscription"&&r("/billing")},x=g=>{switch(g){case"low_stock_alert":return s.jsx(Ih,{className:"h-5 w-5 text-orange-500"});case"overdue_invoice":return s.jsx(Ih,{className:"h-5 w-5 text-red-500"});case"subscription_expiring":return s.jsx(xN,{className:"h-5 w-5 text-blue-500"});case"business_insight":return s.jsx(vy,{className:"h-5 w-5 text-primary"});default:return s.jsx(oc,{className:"h-5 w-5 text-muted-foreground"})}},f=[{value:"all",label:"All"},{value:"unread",label:"Unread"},{value:"low_stock_alert",label:"Stock Alerts"},{value:"overdue_invoice",label:"Overdue"},{value:"subscription_expiring",label:"Subscription"},{value:"business_insight",label:"AI Insights"}];return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Notifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Stay updated with your business alerts"})]}),l&&l.some(g=>!g.is_read)&&s.jsxs(je,{variant:"outline",onClick:()=>d.mutate(),children:[s.jsx(Ts,{className:"mr-2 h-4 w-4"}),"Mark All Read"]})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:f.map(g=>s.jsx(je,{variant:a===g.value?"default":"outline",size:"sm",onClick:()=>i(g.value),children:g.label},g.value))}),o?s.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(g=>s.jsx(_e,{className:"p-6 animate-pulse",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"h-12 w-12 bg-muted rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-5 bg-muted rounded w-1/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]})]})},g))}):!l||l.length===0?s.jsx(_e,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oc,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-20"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No notifications"}),s.jsx("p",{className:"text-muted-foreground",children:a==="unread"?"You're all caught up!":"No notifications to display"})]})}):s.jsx("div",{className:"space-y-4",children:l.map(g=>s.jsx(_e,{className:`p-6 transition-all ${g.is_read?"opacity-60":"border-l-4 border-l-primary"}`,children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:x(g.type)}),s.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>p(g),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold",children:g.title}),!g.is_read&&s.jsx(yr,{variant:"default",className:"ml-2",children:"New"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2 whitespace-pre-line",children:g.message}),s.jsx("div",{className:"text-xs text-muted-foreground",children:wf(new Date(g.created_at),{addSuffix:!0})})]}),s.jsxs("div",{className:"flex gap-2",children:[!g.is_read&&s.jsx(je,{variant:"ghost",size:"icon",onClick:b=>{b.stopPropagation(),c.mutate(g.id)},children:s.jsx(Ts,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:b=>{b.stopPropagation(),u.mutate(g.id)},children:s.jsx(Qs,{className:"h-4 w-4"})})]})]})},g.id))})]})})}const uF=()=>{const e=U2();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},hF=()=>{const e=Zt(),[t,r]=S.useState(!1),n=async()=>{r(!0);try{const{data:l,error:o}=await xe.auth.signInWithPassword({email:"demo@torqueninja.com",password:"demo123456"});if(o){_m.error("Demo account login failed. Please try manual login."),console.error(o),e("/login");return}l.user&&(_m.success("Logged in to demo account!"),e("/dashboard"))}catch(l){console.error("Demo login error:",l),_m.error("Something went wrong. Please try again."),e("/login")}finally{r(!1)}},a=[{icon:hl,title:"Inventory Management",description:"Track stock levels, get low stock alerts, and manage your products efficiently"},{icon:_o,title:"Quotation System",description:"Create professional quotes quickly and convert them to invoices seamlessly"},{icon:xy,title:"Invoice Management",description:"Generate, send, and track invoices with automated reminders"},{icon:iN,title:"Vendor Management",description:"Manage supplier relationships and track purchase orders"},{icon:pf,title:"Customer Management",description:"Centralize customer data and track their purchase history"},{icon:wh,title:"Business Analytics",description:"AI-powered insights on sales trends, inventory, and business performance"},{icon:oc,title:"Smart Notifications",description:"Automated alerts for low stock, overdue invoices, and sales opportunities"},{icon:py,title:"AI Assistant",description:"Ask questions about your data and get instant answers and recommendations"}],i=[{name:"Starter",priceBDT:"2,500",priceUSD:"$25",period:"/month",features:["Up to 100 products","50 invoices/month","Basic analytics","Email support"]},{name:"Professional",priceBDT:"5,000",priceUSD:"$50",period:"/month",popular:!0,features:["Unlimited products","Unlimited invoices","Advanced AI analytics","Smart notifications","AI assistant (1,000 queries/month)","Priority support"]},{name:"Lifetime",priceBDT:"10,000",priceUSD:"$100",period:"one-time",features:["Everything in Professional","Unlimited AI queries","Lifetime updates","Premium support","No recurring fees"]}];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border sticky top-0 bg-background/95 backdrop-blur z-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/logo.png",alt:"TorqueNinja",className:"h-10 w-auto"}),s.jsx("h1",{className:"text-2xl font-bold",children:"TorqueNinja"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(je,{variant:"outline",onClick:()=>e("/login"),children:"Login"}),s.jsx(je,{className:"gradient-primary",onClick:()=>e("/signup"),children:"Start Free Trial"})]})]})}),s.jsx("section",{className:"container mx-auto px-4 py-20 text-center",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold",children:["Complete Business Management",s.jsx("span",{className:"block text-primary mt-2",children:"Powered by AI"})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Manage inventory, create quotes & invoices, track customers & vendors, and get AI-powered insightsall in one platform"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-6",children:[s.jsxs(je,{size:"lg",className:"gradient-primary shadow-primary text-lg px-8",onClick:()=>e("/signup"),children:[s.jsx(N0,{className:"mr-2 h-5 w-5"}),"Start Free Trial"]}),s.jsx(je,{size:"lg",variant:"outline",className:"text-lg px-8",onClick:n,disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(gN,{className:"mr-2 h-5 w-5 animate-spin"}),"Logging in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jN,{className:"mr-2 h-5 w-5"}),"View Live Demo"]})})]}),s.jsxs("div",{className:"flex items-center justify-center gap-8 pt-8 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gy,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:"Secure & Encrypted"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cc,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:"Real-time Analytics"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ts,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:"No Credit Card Required"})]})]})]})}),s.jsxs("section",{className:"container mx-auto px-4 py-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Everything You Need"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Comprehensive tools to run your business efficiently"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((l,o)=>s.jsxs(_e,{className:"p-6 hover:shadow-primary transition-all duration-300 border-border",children:[s.jsx(l.icon,{className:"h-10 w-10 text-primary mb-4"}),s.jsx("h4",{className:"font-semibold text-lg mb-2",children:l.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:l.description})]},o))})]}),s.jsxs("section",{className:"container mx-auto px-4 py-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Simple, Transparent Pricing"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Choose the plan that fits your business needs"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:i.map((l,o)=>s.jsxs(_e,{className:`p-8 relative ${l.popular?"border-primary shadow-primary":"border-border"}`,children:[l.popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h4",{className:"text-2xl font-bold mb-4",children:l.name}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-4xl font-bold text-primary",children:l.priceBDT}),s.jsx("div",{className:"text-lg text-muted-foreground",children:l.priceUSD}),s.jsx("div",{className:"text-sm text-muted-foreground",children:l.period})]})]}),s.jsx("ul",{className:"space-y-3 mb-8",children:l.features.map((c,d)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ts,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm",children:c})]},d))}),s.jsx(je,{className:`w-full ${l.popular?"gradient-primary":""}`,variant:l.popular?"default":"outline",onClick:()=>e("/signup"),children:"Get Started"})]},o))})]}),s.jsx("section",{className:"container mx-auto px-4 py-12 border-t border-border",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"We accept all major payment methods"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Stripe"}),s.jsx("span",{className:"font-semibold",children:"bKash"}),s.jsx("span",{className:"font-semibold",children:"Nagad"}),s.jsx("span",{className:"font-semibold",children:"Rocket"}),s.jsx("span",{className:"font-semibold",children:"SSLCommerz"})]})]})}),s.jsx("section",{className:"container mx-auto px-4 py-20",children:s.jsxs(_e,{className:"gradient-primary p-12 text-center text-primary-foreground",children:[s.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Transform Your Business?"}),s.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Join thousands of businesses using TorqueNinja to streamline operations and boost growth"}),s.jsx(je,{size:"lg",variant:"secondary",className:"text-lg px-8",onClick:()=>e("/signup"),children:"Start Your Free Trial Now"})]})}),s.jsx("footer",{className:"border-t border-border py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center text-muted-foreground",children:s.jsx("p",{children:" 2025 TorqueNinja. All rights reserved."})})})]})},fF=()=>{const e=Zt(),[t,r]=S.useState(3);return S.useEffect(()=>{const n=setInterval(()=>{r(a=>a<=1?(clearInterval(n),e("/dashboard"),0):a-1)},1e3);return()=>clearInterval(n)},[e]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10 p-4",children:s.jsxs(_e,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(j0,{className:"h-20 w-20 text-green-500"})}),s.jsx("h1",{className:"text-3xl font-bold mb-4 text-foreground",children:"Email Verified!"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Your email has been successfully verified. Welcome to TorqueNinja!"}),s.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Redirecting to dashboard in ",s.jsx("span",{className:"font-bold text-primary text-lg",children:t})," seconds..."]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now access all features with your 7-day free trial."})]})})},mF=()=>{const{toast:e}=kn(),{user:t}=Wn(),[r,n]=S.useState(!1),a=async()=>{if(!(t!=null&&t.email)){e({title:"Error",description:"No email address found",variant:"destructive"});return}n(!0);try{const{error:i}=await xe.auth.resend({type:"signup",email:t.email});if(i)throw i;e({title:"Email Sent",description:"Verification email has been resent. Please check your inbox."})}catch(i){e({title:"Error",description:i.message,variant:"destructive"})}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10 p-4",children:s.jsxs(_e,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(qd,{className:"h-10 w-10 text-primary"})})}),s.jsx("h1",{className:"text-3xl font-bold mb-4 text-foreground",children:"Check Your Email"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We've sent a verification email to:"}),s.jsx("p",{className:"font-semibold text-lg mb-6 text-foreground",children:(t==null?void 0:t.email)||"your email address"}),s.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[s.jsx("strong",{children:"Important:"})," Please click the verification link in the email to activate your account."]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx(x1,{className:"inline h-4 w-4 mr-1"}),"Check your spam/junk folder if you don't see it"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx(x1,{className:"inline h-4 w-4 mr-1"}),"The verification link expires in 24 hours"]})]}),s.jsx(je,{onClick:a,disabled:r,variant:"outline",className:"w-full",children:r?"Sending...":"Resend Verification Email"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-6",children:"Need help? Contact us at support@torqueninja.com"})]})})},pF=()=>{var x;const{user:e,subscription:t}=Wn(),[r]=S.useState(new Date),{data:n,isLoading:a}=_t({queryKey:["ai-usage",e==null?void 0:e.id,r],queryFn:async()=>{const{data:f}=await xe.from("profiles").select("company_id").eq("user_id",e==null?void 0:e.id).single();if(!(f!=null&&f.company_id))return[];const{data:g,error:b}=await xe.from("ai_usage").select("*").eq("company_id",f.company_id).gte("created_at",hs(r).toISOString()).lte("created_at",lu(r).toISOString()).order("created_at",{ascending:!1});if(b)throw b;return g||[]},enabled:!!e}),i=(n==null?void 0:n.length)||0,l=(n==null?void 0:n.reduce((f,g)=>f+(g.tokens_used||0),0))||0,o=(n==null?void 0:n.reduce((f,g)=>f+(g.cost_bdt||0),0))||0,c=((x=t==null?void 0:t.plan)==null?void 0:x.ai_queries_limit)||100,d=i/c*100,u=(n==null?void 0:n.reduce((f,g)=>(f[g.usage_type]=(f[g.usage_type]||0)+1,f),{}))||{},p=()=>{const f=[["Date","Type","Queries","Tokens","Cost (BDT)"].join(","),...(n||[]).map(j=>[nt(new Date(j.created_at),"yyyy-MM-dd HH:mm"),j.usage_type,"1",j.tokens_used||0,j.cost_bdt||0].join(","))].join(`
`),g=new Blob([f],{type:"text/csv"}),b=window.URL.createObjectURL(g),w=document.createElement("a");w.href=b,w.download=`ai-usage-${nt(r,"yyyy-MM")}.csv`,w.click()};return s.jsx(dt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"AI Usage Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your AI queries, tokens, and costs"})]}),s.jsxs(je,{onClick:p,variant:"outline",children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(_e,{children:[s.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Pt,{className:"text-sm font-medium",children:"Total Queries"}),s.jsx(uy,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c-i," remaining this month"]}),s.jsx(lf,{value:d,className:"mt-2"})]})]}),s.jsxs(_e,{children:[s.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Pt,{className:"text-sm font-medium",children:"Total Tokens"}),s.jsx(Cc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Across all queries"})]})]}),s.jsxs(_e,{children:[s.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Pt,{className:"text-sm font-medium",children:"Total Cost"}),s.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(wt,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",o.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:nt(r,"MMMM yyyy")})]})]})]}),s.jsxs(_e,{children:[s.jsxs(Ct,{children:[s.jsx(Pt,{children:"Usage by Type"}),s.jsx(go,{children:"Breakdown of AI queries by feature"})]}),s.jsx(wt,{children:s.jsxs("div",{className:"space-y-4",children:[Object.entries(u).map(([f,g])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(yr,{variant:"outline",children:f})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[g," ",g===1?"query":"queries"]}),s.jsx("div",{className:"w-32",children:s.jsx(lf,{value:g/i*100})})]})]},f)),Object.keys(u).length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No AI usage data for this month"})]})})]}),s.jsxs(_e,{children:[s.jsxs(Ct,{children:[s.jsx(Pt,{children:"Recent Activity"}),s.jsx(go,{children:"Latest AI queries and usage"})]}),s.jsx(wt,{children:s.jsxs("div",{className:"space-y-2",children:[n==null?void 0:n.slice(0,10).map(f=>{var g;return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:f.usage_type}),s.jsx("p",{className:"text-xs text-muted-foreground",children:nt(new Date(f.created_at),"MMM d, yyyy 'at' h:mm a")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium",children:[f.tokens_used," tokens"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["",(g=f.cost_bdt)==null?void 0:g.toFixed(2)]})]})]},f.id)}),(!n||n.length===0)&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"})]})})]})]})})},xF=()=>{const e=Zt(),[t,r]=S.useState(5);return S.useEffect(()=>{const n=setInterval(()=>{r(a=>a<=1?(clearInterval(n),e("/billing"),0):a-1)},1e3);return()=>clearInterval(n)},[e]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10 p-4",children:s.jsxs(_e,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(j0,{className:"h-20 w-20 text-green-500"})}),s.jsx("h1",{className:"text-3xl font-bold mb-4 text-foreground",children:"Payment Successful!"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Your payment has been processed successfully. Your subscription has been upgraded."}),s.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Redirecting to billing page in ",s.jsx("span",{className:"font-bold text-primary text-lg",children:t})," seconds..."]})}),s.jsx(je,{onClick:()=>e("/billing"),className:"w-full",children:"Go to Billing Now"})]})})},gF=()=>{const e=Zt();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-secondary/10 p-4",children:s.jsxs(_e,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(cN,{className:"h-20 w-20 text-destructive"})}),s.jsx("h1",{className:"text-3xl font-bold mb-4 text-foreground",children:"Payment Failed"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Unfortunately, your payment could not be processed. Please try again or contact support."}),s.jsxs("div",{className:"bg-destructive/5 border border-destructive/20 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-sm text-destructive/80",children:s.jsx("strong",{children:"Common issues:"})}),s.jsxs("ul",{className:"text-sm text-destructive/70 mt-2 space-y-1 text-left",children:[s.jsx("li",{children:" Insufficient funds"}),s.jsx("li",{children:" Incorrect card details"}),s.jsx("li",{children:" Payment gateway timeout"}),s.jsx("li",{children:" Bank security restrictions"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(je,{onClick:()=>e("/billing"),className:"w-full",children:"Try Again"}),s.jsxs(je,{onClick:()=>e("/dashboard"),variant:"outline",className:"w-full",children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-6",children:"Need help? Contact us at support@torqueninja.com"})]})})},vF=S.lazy(()=>us(()=>import("./Reports-Deez5Tfg.js"),__vite__mapDeps([5,2,1,3,4]))),yF=S.lazy(()=>us(()=>import("./Subscriptions-D5vSc3dK.js"),__vite__mapDeps([6,2,1,3,4]))),bF=S.lazy(()=>us(()=>import("./PlatformSettings-De-BO02d.js"),__vite__mapDeps([7,2,1,3,4]))),wF=S.lazy(()=>us(()=>import("./DomainManagement-DMuP737D.js"),__vite__mapDeps([8,2,1,3,4]))),_F=S.lazy(()=>us(()=>import("./Users-Bm9YnWRJ.js"),__vite__mapDeps([9,2,1,3,4]))),jF=S.lazy(()=>us(()=>import("./CustomDomain-Yw9JXErp.js"),__vite__mapDeps([10,2,1,3,4]))),NF=S.lazy(()=>us(()=>import("./Dashboard-BWIGyis1.js"),__vite__mapDeps([11,2,1,3,4]))),SF=S.lazy(()=>us(()=>import("./APIKeysManagement-BdO94kJr.js"),__vite__mapDeps([12,2,1,3,4]))),kF=S.lazy(()=>us(()=>import("./Analytics-DwYU7NfC.js"),__vite__mapDeps([13,2,1,3,4]))),CF=S.lazy(()=>us(()=>import("./PaymentGateways-i19mBFvS.js"),__vite__mapDeps([14,2,1,3,4]))),AF=S.lazy(()=>us(()=>import("./UserPasswordReset-cY7pB19A.js"),__vite__mapDeps([15,2,1,3,4]))),PF=new k6,LF=()=>s.jsx(K6,{children:s.jsx(D6,{client:PF,children:s.jsxs(c6,{children:[s.jsx(f3,{}),s.jsx(V3,{}),s.jsx(L4,{children:s.jsx(V6,{children:s.jsxs(D4,{children:[s.jsx(pt,{path:"/",element:s.jsx(hF,{})}),s.jsx(pt,{path:"/login",element:s.jsx(Sk,{})}),s.jsx(pt,{path:"/signup",element:s.jsx(Rk,{})}),s.jsx(pt,{path:"/verify-email",element:s.jsx(fF,{})}),s.jsx(pt,{path:"/verify-pending",element:s.jsx(mF,{})}),s.jsx(pt,{path:"/payment/success",element:s.jsx(xF,{})}),s.jsx(pt,{path:"/payment/failure",element:s.jsx(gF,{})}),s.jsx(pt,{path:"/client-portal",element:s.jsx(PT,{})}),s.jsx(pt,{path:"/dashboard",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(_k,{})})})}),s.jsx(pt,{path:"/clients",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(Mk,{})})})}),s.jsx(pt,{path:"/clients/new",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(tA,{})})})}),s.jsx(pt,{path:"/clients/:id",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(rA,{})})})}),s.jsx(pt,{path:"/clients/:id/edit",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(nA,{})})})}),s.jsx(pt,{path:"/products",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(lA,{})})})}),s.jsx(pt,{path:"/products/new",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(mA,{})})})}),s.jsx(pt,{path:"/products/:id",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(AA,{})})})}),s.jsx(pt,{path:"/products/:id/edit",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(PA,{})})})}),s.jsx(pt,{path:"/invoices",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(LA,{})})})}),s.jsx(pt,{path:"/invoices/new",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(uP,{})})})}),s.jsx(pt,{path:"/invoices/:id",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(X9,{})})})}),s.jsx(pt,{path:"/invoices/:id/edit",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(J9,{})})})}),s.jsx(pt,{path:"/payments",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(eT,{})})})}),s.jsx(pt,{path:"/payments/new",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(tT,{})})})}),s.jsx(pt,{path:"/payments/:id",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(rT,{})})})}),s.jsx(pt,{path:"/quotes",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(pT,{})})})}),s.jsx(pt,{path:"/quotes/new",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(xT,{})})})}),s.jsx(pt,{path:"/quotes/:id",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(gT,{})})})}),s.jsx(pt,{path:"/quotes/:id/edit",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(vT,{})})})}),s.jsx(pt,{path:"/expenses",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(yT,{})})})}),s.jsx(pt,{path:"/expenses/new",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(bT,{})})})}),s.jsx(pt,{path:"/expenses/:id",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(wT,{})})})}),s.jsx(pt,{path:"/expenses/:id/edit",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(_T,{})})})}),s.jsx(pt,{path:"/projects",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(jT,{})})})}),s.jsx(pt,{path:"/projects/new",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(NT,{})})})}),s.jsx(pt,{path:"/projects/:id",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(ST,{})})})}),s.jsx(pt,{path:"/projects/:id/edit",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(kT,{})})})}),s.jsx(pt,{path:"/reports",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(vF,{})})})})}),s.jsx(pt,{path:"/automation",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(IT,{})})})}),s.jsx(pt,{path:"/webhooks",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(RT,{})})})}),s.jsx(pt,{path:"/api-keys",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(cF,{})})})}),s.jsx(pt,{path:"/notifications",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(dF,{})})})}),s.jsx(pt,{path:"/ai-usage",element:s.jsx(Gt,{children:s.jsx(or,{children:s.jsx(pF,{})})})}),s.jsx(pt,{path:"/settings",element:s.jsx(Gt,{children:s.jsx(nT,{})})}),s.jsx(pt,{path:"/profile",element:s.jsx(Gt,{children:s.jsx(CT,{})})}),s.jsx(pt,{path:"/billing",element:s.jsx(Gt,{children:s.jsx(HT,{})})}),s.jsx(pt,{path:"/dashboard-settings",element:s.jsx(Gt,{children:s.jsx(YT,{})})}),s.jsx(pt,{path:"/import",element:s.jsx(Gt,{children:s.jsx(hT,{})})}),s.jsx(pt,{path:"/activity-log",element:s.jsx(Gt,{children:s.jsx(AT,{})})}),s.jsx(pt,{path:"/custom-domain",element:s.jsx(Gt,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(jF,{})})})}),s.jsx(pt,{path:"/admin",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(NF,{})})})}),s.jsx(pt,{path:"/admin/subscriptions",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(yF,{})})})}),s.jsx(pt,{path:"/admin/platform-settings",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(bF,{})})})}),s.jsx(pt,{path:"/admin/domains",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(wF,{})})})}),s.jsx(pt,{path:"/admin/users",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(_F,{})})})}),s.jsx(pt,{path:"/admin/api-keys",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(SF,{})})})}),s.jsx(pt,{path:"/admin/analytics",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(kF,{})})})}),s.jsx(pt,{path:"/admin/payment-gateways",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(CF,{})})})}),s.jsx(pt,{path:"/admin/password-reset",element:s.jsx(oi,{children:s.jsx(S.Suspense,{fallback:s.jsx(Bn,{className:"h-screen w-full"}),children:s.jsx(AF,{})})})}),s.jsx(pt,{path:"*",element:s.jsx(uF,{})})]})})})]})})});W2(document.getElementById("root")).render(s.jsx(LF,{}));export{ym as $,yr as A,je as B,zn as C,wo as D,Rr as E,lr as F,kN as G,io as H,Ie as I,_m as J,my as K,fe as L,dt as M,cc as N,dc as O,Qn as P,ot as Q,Ct as R,gy as S,Dc as T,pf as U,wt as V,iN as W,ff as X,Pt as Y,wf as Z,Cc as _,Xn as a,hN as a0,Qs as a1,wh as a2,N0 as a3,_o as a4,dN as a5,cN as a6,j0 as a7,gN as a8,go as a9,Nr as aa,$n as b,We as c,Jn as d,lu as e,nt as f,_e as g,fl as h,Br as i,Nn as j,YF as k,J0 as l,X0 as m,GF as n,KF as o,ZF as p,xe as q,Wn as r,hs as s,yu as t,_t as u,bu as v,wi as w,Kr as x,wu as y,Zr as z};
